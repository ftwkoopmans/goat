import{s as mn,p as Jt,D as bn,f as u,a as w,l as P,A as vn,g as d,d as l,c as I,h as R,B as S,m as W,j as _,C as Z,k as V,E as Je,x as s,i as v,F as E,G as Qt,H as gn,z as Qe,n as Ie,y as cn,e as Xt}from"../chunks/scheduler.7144be00.js";import{S as _n,i as yn,f as $t,b as en,d as tn,m as nn,a as ln,t as sn,e as an}from"../chunks/index.3da70c46.js";import{p as wn,S as on,g as In,f as Cn,c as kn,F as Tn,l as An}from"../chunks/stores.1cd5c321.js";import{i as U,a as xn,d as Rn}from"../chunks/util.14f89131.js";import{p as En}from"../chunks/stores.2c9dbca9.js";import{w as rn}from"../chunks/singletons.283183a0.js";function Gn(e){const t=e.length,r=e[0].map(i=>i.toLowerCase()),f=r.indexOf("symbol");let a;const p=f+1,o=[];if(f===-1)throw new Error("input genelist table must contain headers on the first line. Cannot find required header for column; 'symbol' (should contain character/string values)");if(r.filter(i=>i==="symbol").length>1)throw new Error("input genelist table is invalid because it contains multiple columns with the name 'symbol' (remove redundant columns)");for(let i=1;i<t;i++)if(e[i].length===0)o.push("");else{if(a=e[i],a.length<p)throw new Error("line "+(i+1)+" is invalid, it contains fewer values/columns than expected");o.push(a[f].toUpperCase())}return o}function Dn(e,t,r){const f=new RegExp("[ ,;]"),a=[...new Set(e.filter(i=>i.length>=2&&f.test(i)===!1))],p=[],o=e.length;for(let i=0;i<o;i++)if(e[i]==="")p.push([]);else{const m=[...new Set(e[i].split(/[ ,;]+/))].filter(b=>b.length>=2),A=m.length;let c;if(A===1)c=t[m[0]];else if(A>1&&r!=="skipAmbiguous")if(r==="retainFirstSucces")for(let b=0;b<A&&c===void 0;b++)c=t[m[b]];else if(r==="retainFirstSuccesNovel")for(let b=0;b<A&&c===void 0;b++)a.indexOf(m[b])===-1&&(c=t[m[b]]);else r==="retainFirst"&&(c=t[m[0]]);p.push(c===void 0?"":c)}return p}async function Sn(e){const t=await wn(e);if(Array.isArray(t)===!1||t.length<2)throw new Error("input genelist table must not be empty");return t}async function Hn(e,t,r,f){let a=[...e];const p=a.length,o=Dn(t,r.lookupGene,f);let i=[],m;for(let y=0;y<a[0].length;y++)m=a[0][y],m&&["gene","hgnc_id","hgnc_symbol"].indexOf(m.toLowerCase())!==-1&&i.push(y);const A=i.length;if(A>0){i=i.reverse();for(let y=0;y<p;y++)for(let B=0;B<A;B++)a[y].splice(i[B],1)}a[0]=a[0].concat(["gene","hgnc_id","hgnc_symbol"]);let c,b;for(let y=1;y<p;y++)c=o[y-1],c===""?a[y]=a[y].concat(["","",""]):(b=r.lookupMeta[c],b===void 0?a[y]=a[y].concat(["","",""]):a[y]=a[y].concat([b.entrez_id,c,b.hgnc_symbol]));return a}const{document:Rt}=In;function Vn(e){let t,r="status:",f,a,p,o,i="no genelist loaded yet";return{c(){t=u("b"),t.textContent=r,f=w(),a=u("br"),p=w(),o=u("div"),o.textContent=i,this.h()},l(m){t=d(m,"B",{"data-svelte-h":!0}),S(t)!=="svelte-jrlymk"&&(t.textContent=r),f=I(m),a=d(m,"BR",{}),p=I(m),o=d(m,"DIV",{class:!0,"data-svelte-h":!0}),S(o)!=="svelte-1x7jbfu"&&(o.textContent=i),this.h()},h(){_(o,"class","alert")},m(m,A){v(m,t,A),v(m,f,A),v(m,a,A),v(m,p,A),v(m,o,A)},p:cn,d(m){m&&(l(t),l(f),l(a),l(p),l(o))}}}function Ln(e){let t,r="filename:",f,a=e[1].filename+"",p,o,i,m,A="number of rows with a gene symbol:",c,b=e[1].countGenes+"",y,B;return{c(){t=u("b"),t.textContent=r,f=w(),p=P(a),o=u("br"),i=w(),m=u("b"),m.textContent=A,c=w(),y=P(b),B=u("br")},l(g){t=d(g,"B",{"data-svelte-h":!0}),S(t)!=="svelte-nlrd5p"&&(t.textContent=r),f=I(g),p=W(g,a),o=d(g,"BR",{}),i=I(g),m=d(g,"B",{"data-svelte-h":!0}),S(m)!=="svelte-1vlyilb"&&(m.textContent=A),c=I(g),y=W(g,b),B=d(g,"BR",{})},m(g,G){v(g,t,G),v(g,f,G),v(g,p,G),v(g,o,G),v(g,i,G),v(g,m,G),v(g,c,G),v(g,y,G),v(g,B,G)},p(g,G){G&2&&a!==(a=g[1].filename+"")&&Ie(p,a),G&2&&b!==(b=g[1].countGenes+"")&&Ie(y,b)},d(g){g&&(l(t),l(f),l(p),l(o),l(i),l(m),l(c),l(y),l(B))}}}function Bn(e){let t,r="error while loading your genelist:",f,a,p;return{c(){t=u("b"),t.textContent=r,f=w(),a=u("div"),p=P(e[3]),this.h()},l(o){t=d(o,"B",{"data-svelte-h":!0}),S(t)!=="svelte-rtmaud"&&(t.textContent=r),f=I(o),a=d(o,"DIV",{class:!0});var i=R(a);p=W(i,e[3]),i.forEach(l),this.h()},h(){_(a,"class","alert")},m(o,i){v(o,t,i),v(o,f,i),v(o,a,i),s(a,p)},p(o,i){i&8&&Ie(p,o[3])},d(o){o&&(l(t),l(f),l(a))}}}function un(e){let t,r="error while comparing your data to the lookup tables:",f,a,p;return{c(){t=u("b"),t.textContent=r,f=w(),a=u("div"),p=P(e[4]),this.h()},l(o){t=d(o,"B",{"data-svelte-h":!0}),S(t)!=="svelte-133bokb"&&(t.textContent=r),f=I(o),a=d(o,"DIV",{class:!0});var i=R(a);p=W(i,e[4]),i.forEach(l),this.h()},h(){_(a,"class","alert")},m(o,i){v(o,t,i),v(o,f,i),v(o,a,i),s(a,p)},p(o,i){i&16&&Ie(p,o[4])},d(o){o&&(l(t),l(f),l(a))}}}function Nn(e){let t,r="No results yet; load your genelist and press START...";return{c(){t=u("div"),t.textContent=r},l(f){t=d(f,"DIV",{"data-svelte-h":!0}),S(t)!=="svelte-fomj7a"&&(t.textContent=r)},m(f,a){v(f,t,a)},p:cn,d(f){f&&l(t)}}}function Mn(e){let t,r=e[1].countSuccess+"",f,a,p=e[1].countGenes+"",o,i,m,A,c,b,y,B="download results",g,G,Q,F,L=!!e[5]&&dn(e);return{c(){t=u("div"),f=P(r),a=P(" / "),o=P(p),i=P(` genes in your table were mapped to Human gene\r
				identifiers.`),m=w(),A=u("br"),c=w(),b=u("div"),y=u("button"),y.textContent=B,g=w(),L&&L.c(),G=Xt(),this.h()},l(k){t=d(k,"DIV",{});var x=R(t);f=W(x,r),a=W(x," / "),o=W(x,p),i=W(x,` genes in your table were mapped to Human gene\r
				identifiers.`),x.forEach(l),m=I(k),A=d(k,"BR",{}),c=I(k),b=d(k,"DIV",{});var pe=R(b);y=d(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),S(y)!=="svelte-c9mrqp"&&(y.textContent=B),pe.forEach(l),g=I(k),L&&L.l(k),G=Xt(),this.h()},h(){_(y,"class","btn btn-action")},m(k,x){v(k,t,x),s(t,f),s(t,a),s(t,o),s(t,i),v(k,m,x),v(k,A,x),v(k,c,x),v(k,b,x),s(b,y),v(k,g,x),L&&L.m(k,x),v(k,G,x),Q||(F=E(y,"click",e[15]),Q=!0)},p(k,x){x&2&&r!==(r=k[1].countSuccess+"")&&Ie(f,r),x&2&&p!==(p=k[1].countGenes+"")&&Ie(o,p),k[5]?L?L.p(k,x):(L=dn(k),L.c(),L.m(G.parentNode,G)):L&&(L.d(1),L=null)},d(k){k&&(l(t),l(m),l(A),l(c),l(b),l(g),l(G)),L&&L.d(k),Q=!1,F()}}}function dn(e){let t,r="error while preparing data for download:",f,a,p;return{c(){t=u("b"),t.textContent=r,f=w(),a=u("div"),p=P(e[5]),this.h()},l(o){t=d(o,"B",{"data-svelte-h":!0}),S(t)!=="svelte-ncd7xk"&&(t.textContent=r),f=I(o),a=d(o,"DIV",{class:!0});var i=R(a);p=W(i,e[5]),i.forEach(l),this.h()},h(){_(a,"class","alert")},m(o,i){v(o,t,i),v(o,f,i),v(o,a,i),s(a,p)},p(o,i){i&32&&Ie(p,o[5])},d(o){o&&(l(t),l(f),l(a))}}}function Fn(e){let t,r,f,a,p,o='<img src="./android-chrome-192x192.png" width="40" height="40" alt="GOAT"/>',i,m,A="Home",c,b,y="GOAT online",B,g,G="gene ID mapping",Q,F,L="Documentation",k,x,pe=`<h1>Gene ID mapping</h1> <div style="margin: 0px 25px 0px 25px; text-align: center;"><h3>With this tool you can map gene symbols in an Excel/CSV/TSV table to Human gene identifiers.
			<br/>
			The output will contain columns with gene IDs and the respective official gene symbol. It can be
			directly used as input for the GOAT online tool (it&#39;ll only use rows where mapping was successful).</h3> <img src="beta.png" width="200px" alt="BETA VERSION"/></div>`,Ce,D,oe,Fe="<h2>Your input data</h2>",Le,he,me,re,X,$,Be,h,T,K,be="drag&drop a genelist file or click to open a file dialog",Xe,$e,et,Ne,tt,ue,nt,lt,ke,Et=`<div class="helpSettings">Importantly, your input genelist / gene table must be prepared in a format that is
						compatible with this tool.
						<ul><li class="svelte-1b7cd8l">File format: either CSV, TSV or Excel (.xlsx file, data on the first sheet)</li> <li class="svelte-1b7cd8l">Required column: <b>symbol</b> (column name must match exactly)</li></ul>
						The documentation below shows an example table that one might use as input.</div>`,st,ve,je,H,ge,Gt="<h2>Settings</h2>",it,_e,Dt=`Rows where the gene symbol column contains a delimiter (i.e. semicolon, comma or whitespace) are\r
		assumed to refer to multiple genes. If there are more than 2 unique gene symbols (on a row), how\r
		should these be mapped to human gene identifiers?`,at,Te,Ae,j,ot,rt,xe,Re,q,ut,dt,Ee,Ge,O,ft,ct,De,Se,z,pt,ht,mt,bt,le,se,vt,qe,gt,de,_t,yt,Oe,ie,ye,St="<h2>Results</h2>",wt,we,ze,ae,Ht=`<div class="divH2"><h2>Settings documentation</h2></div> <p>To illustrate the problem of ambiguous genes/symbols and solutions offered by above options;</p> <table class="tbl-bordered"><thead><tr><th>symbol</th><th>effectsize</th><th class="note svelte-1b7cd8l">note</th></tr></thead> <tbody><tr><td>GRIA1</td><td>1.0</td> <td class="note svelte-1b7cd8l">protein group maps to exactly 1 gene</td></tr> <tr><td>GRIA2</td><td>1.0</td> <td class="note svelte-1b7cd8l">protein group maps to exactly 1 gene</td></tr> <tr><td>GRIA1;GRIA2</td><td>1.5</td> <td class="note svelte-1b7cd8l">ambiguous, one might want to use only the first entry (&#39;leading&#39; gene)</td></tr> <tr><td>GRIA3;GRIA4</td><td>1.5</td> <td class="note svelte-1b7cd8l">ambiguous, but this row contributes a new gene (GRIA3)</td></tr> <tr><td>tr|A8K0K0|A8K0K0_HUMAN;GRIA2;GRIA3</td><td>2.0</td> <td class="note svelte-1b7cd8l">ambiguous, but the first entry has no gene symbol only an accession</td></tr></tbody></table> <div><ol><li class="svelte-1b7cd8l">With option 1, <i>&quot;try to map only the first gene symbol&quot;</i><br/>
				the output will contain a gene ID for all rows except the last (respectively, GRIA1, GRIA2, GRIA1,
				GRIA3, -).</li> <li class="svelte-1b7cd8l">With option 2, <i>&quot;use the first gene symbol that can be successfully mapped&quot;</i><br/>
				all rows will be mapped to a gene ID (respectively, GRIA1, GRIA2, GRIA1, GRIA3, GRIA2).</li> <li class="svelte-1b7cd8l">With option 3, <i>&quot;analogous to above, but skip if there exist a non-ambiguous row that contains the first
					(successfully mapped) gene symbol&quot;</i><br/>
				rows 3 and 5 are skipped because there exist unambiguous entries for GRIA1 and GRIA2 (respectively,
				GRIA1, GRIA2, -, GRIA3, -). This approach favors rows that are unambiguous and supplements this
				only with ambiguous rows that contribute new information (genes).</li> <li class="svelte-1b7cd8l">With option 4, <i>&quot;skip rows with ambiguous symbols altogether&quot;</i><br/>
				only the first 2 rows are mapped (respectively, GRIA1, GRIA2, -, -, -).</li></ol></div> <p>When chosing the option most appropriate for your dataset, keep in mind that the geneset
		analysis in GOAT online will retain only 1 row per unique gene. If multiple rows/entries are
		available for a gene, the one with the lowest/best p-value is retained. If there are no gene
		p-values in your data/table, the best absolute effectsize is retained (across multiple entries
		for the same gene).</p>`,Ue,fe,Vt=`<div class="divH2"><h2>What data is used / how is gene ID mapping done?</h2></div> <div><p>We created a lookup table using official gene symbols and aliases/synonyms based on
			information provided by <a href="https://www.genenames.org" target="_blank" rel="nofollow">HGNC</a>, it is stored on this webserver. Any synonyms that are listed by HGNC as entries for
			multiple genes are considered ambiguous and are discarded.</p> <p>This tool downloads the lookup table (mapping from symbols to gene IDs) to your computer and
			then proceeds with matching between your input table and HGNC gene information. So your
			table/data never leaves your computer and remains private at all times.</p></div>`,ee,It,Ct,Lt;function pn(n){e[17](n)}let Bt={colour:"black",size:"2.5em"};e[7]!==void 0&&(Bt.show=e[7]),ue=new on({props:Bt}),Jt.push(()=>$t(ue,"show",pn));function Nt(n,C){return n[3]?Bn:typeof n[1]=="object"&&n[1].ok===!0?Ln:Vn}let Pe=Nt(e),te=Pe(e);function hn(n){e[28](n)}let Mt={colour:"black",size:"1.5em"};e[8]!==void 0&&(Mt.show=e[8]),de=new on({props:Mt}),Jt.push(()=>$t(de,"show",hn));let N=!!e[4]&&un(e);function Ft(n,C){return n[8]===!1&&typeof n[1]=="object"&&n[1].done===!0?Mn:Nn}let We=Ft(e),ne=We(e);return It=bn(e[24][0]),{c(){t=u("meta"),r=w(),f=u("nav"),a=u("div"),p=u("a"),p.innerHTML=o,i=w(),m=u("a"),m.textContent=A,c=w(),b=u("a"),b.textContent=y,B=w(),g=u("a"),g.textContent=G,Q=w(),F=u("a"),F.textContent=L,k=w(),x=u("div"),x.innerHTML=pe,Ce=w(),D=u("div"),oe=u("div"),oe.innerHTML=Fe,Le=w(),he=u("table"),me=u("tbody"),re=u("tr"),X=u("td"),$=u("input"),Be=w(),h=u("div"),T=u("p"),K=u("i"),K.textContent=be,Xe=w(),$e=u("br"),et=w(),Ne=u("i"),tt=w(),en(ue.$$.fragment),lt=w(),ke=u("td"),ke.innerHTML=Et,st=w(),ve=u("div"),te.c(),je=w(),H=u("div"),ge=u("div"),ge.innerHTML=Gt,it=w(),_e=u("div"),_e.textContent=Dt,at=w(),Te=u("div"),Ae=u("label"),j=u("input"),ot=P(`\r
\r
			try to map only the first gene symbol`),rt=w(),xe=u("div"),Re=u("label"),q=u("input"),ut=P(`\r
\r
			use the first gene symbol that can be successfully mapped`),dt=w(),Ee=u("div"),Ge=u("label"),O=u("input"),ft=P(`\r
\r
			analogous to above, but skip if there exist a non-ambiguous row that contains the first\r
			(successfully mapped) gene symbol`),ct=w(),De=u("div"),Se=u("label"),z=u("input"),pt=P(`\r
\r
			skip rows with ambiguous symbols altogether`),ht=w(),mt=u("br"),bt=w(),le=u("div"),se=u("button"),vt=P("START"),gt=w(),en(de.$$.fragment),yt=w(),N&&N.c(),Oe=w(),ie=u("div"),ye=u("div"),ye.innerHTML=St,wt=w(),we=u("div"),ne.c(),ze=w(),ae=u("div"),ae.innerHTML=Ht,Ue=w(),fe=u("div"),fe.innerHTML=Vt,this.h()},l(n){const C=vn("svelte-1bjj788",Rt.head);t=d(C,"META",{name:!0,content:!0}),C.forEach(l),r=I(n),f=d(n,"NAV",{});var Y=R(f);a=d(Y,"DIV",{style:!0});var Me=R(a);p=d(Me,"A",{href:!0,"data-svelte-h":!0}),S(p)!=="svelte-1kp1n6l"&&(p.innerHTML=o),Me.forEach(l),i=I(Y),m=d(Y,"A",{href:!0,style:!0,"data-svelte-h":!0}),S(m)!=="svelte-7oxv2g"&&(m.textContent=A),c=I(Y),b=d(Y,"A",{href:!0,style:!0,"data-svelte-h":!0}),S(b)!=="svelte-10g8z77"&&(b.textContent=y),B=I(Y),g=d(Y,"A",{href:!0,style:!0,"data-svelte-h":!0}),S(g)!=="svelte-13lvetu"&&(g.textContent=G),Q=I(Y),F=d(Y,"A",{href:!0,style:!0,"data-svelte-h":!0}),S(F)!=="svelte-1106bxz"&&(F.textContent=L),Y.forEach(l),k=I(n),x=d(n,"DIV",{class:!0,"data-svelte-h":!0}),S(x)!=="svelte-15c5tkv"&&(x.innerHTML=pe),Ce=I(n),D=d(n,"DIV",{class:!0,style:!0,tabindex:!0,role:!0,"aria-pressed":!0});var He=R(D);oe=d(He,"DIV",{class:!0,"data-svelte-h":!0}),S(oe)!=="svelte-kki37h"&&(oe.innerHTML=Fe),Le=I(He),he=d(He,"TABLE",{});var jt=R(he);me=d(jt,"TBODY",{});var qt=R(me);re=d(qt,"TR",{});var Ke=R(re);X=d(Ke,"TD",{style:!0});var Ye=R(X);$=d(Ye,"INPUT",{id:!0,type:!0,accept:!0,style:!0}),Be=I(Ye),h=d(Ye,"DIV",{id:!0,tabindex:!0,role:!0,"aria-pressed":!0});var Ot=R(h);T=d(Ot,"P",{});var ce=R(T);K=d(ce,"I",{"data-svelte-h":!0}),S(K)!=="svelte-uobxa9"&&(K.textContent=be),Xe=I(ce),$e=d(ce,"BR",{}),et=I(ce),Ne=d(ce,"I",{class:!0}),R(Ne).forEach(l),tt=I(ce),tn(ue.$$.fragment,ce),ce.forEach(l),Ot.forEach(l),Ye.forEach(l),lt=I(Ke),ke=d(Ke,"TD",{"data-svelte-h":!0}),S(ke)!=="svelte-i76nm3"&&(ke.innerHTML=Et),Ke.forEach(l),qt.forEach(l),jt.forEach(l),st=I(He),ve=d(He,"DIV",{style:!0});var zt=R(ve);te.l(zt),zt.forEach(l),He.forEach(l),je=I(n),H=d(n,"DIV",{class:!0,style:!0});var M=R(H);ge=d(M,"DIV",{class:!0,"data-svelte-h":!0}),S(ge)!=="svelte-1etyc0x"&&(ge.innerHTML=Gt),it=I(M),_e=d(M,"DIV",{style:!0,"data-svelte-h":!0}),S(_e)!=="svelte-atx6a9"&&(_e.textContent=Dt),at=I(M),Te=d(M,"DIV",{style:!0});var Ut=R(Te);Ae=d(Ut,"LABEL",{});var kt=R(Ae);j=d(kt,"INPUT",{type:!0,name:!0}),ot=W(kt,`\r
\r
			try to map only the first gene symbol`),kt.forEach(l),Ut.forEach(l),rt=I(M),xe=d(M,"DIV",{style:!0});var Pt=R(xe);Re=d(Pt,"LABEL",{});var Tt=R(Re);q=d(Tt,"INPUT",{type:!0,name:!0}),ut=W(Tt,`\r
\r
			use the first gene symbol that can be successfully mapped`),Tt.forEach(l),Pt.forEach(l),dt=I(M),Ee=d(M,"DIV",{style:!0});var Wt=R(Ee);Ge=d(Wt,"LABEL",{});var At=R(Ge);O=d(At,"INPUT",{type:!0,name:!0}),ft=W(At,`\r
\r
			analogous to above, but skip if there exist a non-ambiguous row that contains the first\r
			(successfully mapped) gene symbol`),At.forEach(l),Wt.forEach(l),ct=I(M),De=d(M,"DIV",{style:!0});var Kt=R(De);Se=d(Kt,"LABEL",{});var xt=R(Se);z=d(xt,"INPUT",{type:!0,name:!0}),pt=W(xt,`\r
\r
			skip rows with ambiguous symbols altogether`),xt.forEach(l),Kt.forEach(l),ht=I(M),mt=d(M,"BR",{}),bt=I(M),le=d(M,"DIV",{});var Ve=R(le);se=d(Ve,"BUTTON",{class:!0,style:!0});var Yt=R(se);vt=W(Yt,"START"),Yt.forEach(l),gt=I(Ve),tn(de.$$.fragment,Ve),yt=I(Ve),N&&N.l(Ve),Ve.forEach(l),M.forEach(l),Oe=I(n),ie=d(n,"DIV",{class:!0,style:!0});var Ze=R(ie);ye=d(Ze,"DIV",{class:!0,"data-svelte-h":!0}),S(ye)!=="svelte-1lm4it4"&&(ye.innerHTML=St),wt=I(Ze),we=d(Ze,"DIV",{style:!0});var Zt=R(we);ne.l(Zt),Zt.forEach(l),Ze.forEach(l),ze=I(n),ae=d(n,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),S(ae)!=="svelte-1ydgkiu"&&(ae.innerHTML=Ht),Ue=I(n),fe=d(n,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),S(fe)!=="svelte-1f7z8uw"&&(fe.innerHTML=Vt),this.h()},h(){Rt.title="Map gene symbols to human gene identifiers",_(t,"name","description"),_(t,"content","Map gene symbols in your input table to human gene identifiers (NCBI Entrez and HGNC)"),_(p,"href","/"),Z(p,"active",U(e[6],"github.io/goat")||U(e[6],"/index")),V(a,"padding","4px"),V(a,"margin-left","20px"),_(m,"href","/"),V(m,"margin-left","5px"),Z(m,"active",U(e[6],"github.io/goat")||U(e[6],"/index")),_(b,"href","/goat"),V(b,"margin-left","40px"),Z(b,"active",U(e[6],"/goat")),_(g,"href","/genemap"),V(g,"margin-left","40px"),Z(g,"active",U(e[6],"/genemap")),_(F,"href","/docs"),V(F,"margin-left","40px"),Z(F,"active",U(e[6],"/docs")),_(x,"class","divH1"),_(oe,"class","divH2"),_($,"id","genelistFileDialog"),_($,"type","file"),_($,"accept",".csv,.tsv,.xlsx"),$.multiple="false",V($,"display","none"),_(Ne,"class","dropicon"),_(h,"id","genelist_dropzone"),_(h,"tabindex","0"),_(h,"role","button"),_(h,"aria-pressed","false"),Z(h,"is-dragover",e[0]===!0),V(X,"vertical-align","top"),V(X,"width","300px"),_(ve,"style",""),_(D,"class","pnlResults"),V(D,"margin-bottom","50px"),_(D,"tabindex","-1"),_(D,"role","button"),_(D,"aria-pressed","false"),_(ge,"class","divH2"),V(_e,"margin","10px 0px 10px 0px"),_(j,"type","radio"),_(j,"name","inputSymbolRetain"),j.__value="retainFirst",Je(j,j.__value),V(Te,"margin","5px"),_(q,"type","radio"),_(q,"name","inputSymbolRetain"),q.__value="retainFirstSucces",Je(q,q.__value),V(xe,"margin","5px"),_(O,"type","radio"),_(O,"name","inputSymbolRetain"),O.__value="retainFirstSuccesNovel",Je(O,O.__value),V(Ee,"margin","5px"),_(z,"type","radio"),_(z,"name","inputSymbolRetain"),z.__value="skipAmbiguous",Je(z,z.__value),V(De,"margin","5px"),_(se,"class","btn btn-action"),V(se,"margin-right","5px"),se.disabled=qe=e[8]===!0||e[7]===!0||!(typeof e[1]=="object"&&e[1].ok===!0),_(H,"class","pnlResults"),V(H,"margin-bottom","50px"),_(ye,"class","divH2"),V(we,"margin","10px 0px 10px 0px"),_(ie,"class","pnlResults"),V(ie,"margin-bottom","100px"),_(ae,"class","pnlResults"),V(ae,"margin-bottom","100px"),V(ae,"padding-right","50px"),_(fe,"class","pnlResults"),V(fe,"margin-bottom","100px"),It.p(j,q,O,z)},m(n,C){s(Rt.head,t),v(n,r,C),v(n,f,C),s(f,a),s(a,p),s(f,i),s(f,m),s(f,c),s(f,b),s(f,B),s(f,g),s(f,Q),s(f,F),v(n,k,C),v(n,x,C),v(n,Ce,C),v(n,D,C),s(D,oe),s(D,Le),s(D,he),s(he,me),s(me,re),s(re,X),s(X,$),s(X,Be),s(X,h),s(h,T),s(T,K),s(T,Xe),s(T,$e),s(T,et),s(T,Ne),s(T,tt),nn(ue,T,null),s(re,lt),s(re,ke),s(D,st),s(D,ve),te.m(ve,null),v(n,je,C),v(n,H,C),s(H,ge),s(H,it),s(H,_e),s(H,at),s(H,Te),s(Te,Ae),s(Ae,j),j.checked=j.__value===e[2],s(Ae,ot),s(H,rt),s(H,xe),s(xe,Re),s(Re,q),q.checked=q.__value===e[2],s(Re,ut),s(H,dt),s(H,Ee),s(Ee,Ge),s(Ge,O),O.checked=O.__value===e[2],s(Ge,ft),s(H,ct),s(H,De),s(De,Se),s(Se,z),z.checked=z.__value===e[2],s(Se,pt),s(H,ht),s(H,mt),s(H,bt),s(H,le),s(le,se),s(se,vt),s(le,gt),nn(de,le,null),s(le,yt),N&&N.m(le,null),v(n,Oe,C),v(n,ie,C),s(ie,ye),s(ie,wt),s(ie,we),ne.m(we,null),v(n,ze,C),v(n,ae,C),v(n,Ue,C),v(n,fe,C),ee=!0,Ct||(Lt=[E($,"change",e[16]),E(h,"keydown",fn),E(h,"click",fn),E(h,"dragstart",J),E(h,"dragover",e[18]),E(h,"dragenter",e[19]),E(h,"dragleave",e[20]),E(h,"dragend",e[21]),E(h,"drop",e[22]),E(D,"keydown",void 0),E(D,"dragstart",J),E(D,"dragover",J),E(D,"dragenter",J),E(D,"dragleave",J),E(D,"dragend",J),E(D,"drop",J),E(j,"change",e[13]),E(j,"change",e[23]),E(q,"change",e[13]),E(q,"change",e[25]),E(O,"change",e[13]),E(O,"change",e[26]),E(z,"change",e[13]),E(z,"change",e[27]),E(se,"click",e[14])],Ct=!0)},p(n,[C]){(!ee||C&64)&&Z(p,"active",U(n[6],"github.io/goat")||U(n[6],"/index")),(!ee||C&64)&&Z(m,"active",U(n[6],"github.io/goat")||U(n[6],"/index")),(!ee||C&64)&&Z(b,"active",U(n[6],"/goat")),(!ee||C&64)&&Z(g,"active",U(n[6],"/genemap")),(!ee||C&64)&&Z(F,"active",U(n[6],"/docs"));const Y={};!nt&&C&128&&(nt=!0,Y.show=n[7],Qt(()=>nt=!1)),ue.$set(Y),(!ee||C&1)&&Z(h,"is-dragover",n[0]===!0),Pe===(Pe=Nt(n))&&te?te.p(n,C):(te.d(1),te=Pe(n),te&&(te.c(),te.m(ve,null))),C&4&&(j.checked=j.__value===n[2]),C&4&&(q.checked=q.__value===n[2]),C&4&&(O.checked=O.__value===n[2]),C&4&&(z.checked=z.__value===n[2]),(!ee||C&386&&qe!==(qe=n[8]===!0||n[7]===!0||!(typeof n[1]=="object"&&n[1].ok===!0)))&&(se.disabled=qe);const Me={};!_t&&C&256&&(_t=!0,Me.show=n[8],Qt(()=>_t=!1)),de.$set(Me),n[4]?N?N.p(n,C):(N=un(n),N.c(),N.m(le,null)):N&&(N.d(1),N=null),We===(We=Ft(n))&&ne?ne.p(n,C):(ne.d(1),ne=We(n),ne&&(ne.c(),ne.m(we,null)))},i(n){ee||(ln(ue.$$.fragment,n),ln(de.$$.fragment,n),ee=!0)},o(n){sn(ue.$$.fragment,n),sn(de.$$.fragment,n),ee=!1},d(n){n&&(l(r),l(f),l(k),l(x),l(Ce),l(D),l(je),l(H),l(Oe),l(ie),l(ze),l(ae),l(Ue),l(fe)),l(t),an(ue),te.d(),an(de),N&&N.d(),ne.d(),It.r(),Ct=!1,gn(Lt)}}}function J(e){e.preventDefault(),e.stopPropagation()}async function fn(e){document.getElementById("genelistFileDialog").click()}function jn(e,t,r){let f,a,p,o;Qe(e,An,h=>r(29,f=h)),Qe(e,En,h=>r(6,a=h));const i=rn(!1);Qe(e,i,h=>r(7,p=h));const m=rn(!1);Qe(e,m,h=>r(8,o=h));let A=!1,c,b="retainFirstSucces",y,B,g;async function G(h){h.dataTransfer&&h.dataTransfer.files&&Q(h.dataTransfer.files[0])}async function Q(h){try{r(3,y=void 0),i.update(be=>!0);const T=await Sn(h),K=Gn(T);r(1,c={genelist:T,symbols:K,filename:h.name,ok:!0,result:[],countGenes:T.length-1,countSuccess:0,done:!1,analytics:!1})}catch(T){console.error(T),r(3,y=T.message)}i.update(T=>!1)}function F(h){typeof c=="object"&&(r(1,c.result=[],c),r(1,c.countSuccess=0,c),r(1,c.done=!1,c))}async function L(h){if(c===void 0||typeof c!="object"||typeof c.done!="boolean"){r(4,B="nothing to do, genelist has not been loaded");return}try{r(4,B=void 0),m.update(T=>!0),r(1,c.done=!1,c),await Cn(),r(1,c.result=await Hn(c.genelist,c.symbols,f,b),c),r(1,c.countSuccess=c.result.reduce((T,K)=>T+(K[K.length-1]===""?0:1),-1),c),r(1,c.done=!0,c),c.analytics!==!0&&(xn("genemap"),r(1,c.analytics=!0,c))}catch(T){console.error(T),r(4,B=T.message)}m.update(T=>!1)}async function k(h){try{const T=Rn(),K=await kn(c.result);let be=c.filename.replace(/\.[a-zA-Z]{3,4}$/,"")+"__GOAT-online_genemap_"+T+".xlsx";be.length>180&&(be="GOAT-online_genemap_"+T+".xlsx"),Tn.saveAs(K,be)}catch(T){console.error(T),r(5,g=T.message)}}const x=[[]],pe=h=>{h.target.files&&Q(h.target.files[0])};function Ce(h){p=h,i.set(p)}const D=h=>{J(h),r(0,A=!0)},oe=h=>{J(h),r(0,A=!0)},Fe=h=>{J(h),r(0,A=!1)},Le=h=>{J(h),r(0,A=!1)},he=h=>{J(h),r(0,A=!1),G(h)};function me(){b=this.__value,r(2,b)}function re(){b=this.__value,r(2,b)}function X(){b=this.__value,r(2,b)}function $(){b=this.__value,r(2,b)}function Be(h){o=h,m.set(o)}return[A,c,b,y,B,g,a,p,o,i,m,G,Q,F,L,k,pe,Ce,D,oe,Fe,Le,he,me,x,re,X,$,Be]}class Kn extends _n{constructor(t){super(),yn(this,t,jn,Fn,mn,{})}}export{Kn as component};
