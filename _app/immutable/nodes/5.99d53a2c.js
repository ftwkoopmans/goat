import{_ as Xf}from"../chunks/preload-helper.a4192956.js";import{y as at,I as Qt,J as Wf,K as cs,L as Yf,M as Ql,s as nn,l as W,m as Y,i as A,n as De,d as p,e as Oe,z as Pt,f as b,g as w,B as ue,a as k,h as S,c as R,j as h,k as G,E as te,x as c,N as an,G as ie,O as st,F as Yt,q as Xi,P as Kf,Q as gs,R as Zf,S as Jf,p as ht,T as qe,U as Ue,V as Jn,W as of,X as Qf,t as $f,H as _t,Y as $l,A as xf,C as ed,o as td}from"../chunks/scheduler.cd38125d.js";import{S as $t,i as ln,b as Je,d as xe,m as Qe,a as oe,t as ce,e as $e,g as qt,c as Ut,f as mt}from"../chunks/index.a6a2bf8f.js";import{r as hs,b as ps,e as un,c as nd,h as me,n as Wi,i as bi,j as ld,t as oo,k as er,S as Zn,s as Lr,m as _s,o as id,q as rd,u as ms,v as Oi,w as od,a as sd,x as ad,y as ud,g as fd,z as vs,A as dd,B as cd,C as gd,D as Hi,E as hd,G as pd,H as _d,I as md,J as vd,d as bd,K as wd,F as yd,L as Sd,M as Cd,N as kd,O as Rd}from"../chunks/stores.7f24cd93.js";/* empty css                    */import{p as Ed}from"../chunks/stores.eeec4805.js";import{r as bs,w as hn,j as Ad}from"../chunks/singletons.6464872c.js";const sf=typeof window<"u";let ws=sf?()=>window.performance.now():()=>Date.now(),af=sf?e=>requestAnimationFrame(e):at;const Jl=new Set;function uf(e){Jl.forEach(t=>{t.c(e)||(Jl.delete(t),t.f())}),Jl.size!==0&&af(uf)}function Id(e){let t;return Jl.size===0&&af(uf),{promise:new Promise(n=>{Jl.add(t={c:e,f:n})}),abort(){Jl.delete(t)}}}const Md=/[&"]/g,Dd=/[&<]/g;function Td(e,t=!1){const n=String(e),l=t?Md:Dd;l.lastIndex=0;let i="",r=0;for(;l.test(n);){const o=l.lastIndex-1,s=n[o];i+=n.substring(r,o)+(s==="&"?"&amp;":s==='"'?"&quot;":"&lt;"),r=o+1}return i+n.substring(r)}function Vd(e,t){if(!e||!e.$$render)throw t==="svelte:component"&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${t}>.`);return e}let Nr;function ff(e){function t(n,l,i,r,o){const s=Yf,a={on_destroy:Nr,context:new Map(o||(s?s.$$.context:[])),on_mount:[],before_update:[],after_update:[],callbacks:Wf()};cs({$$:a});const u=e(n,l,i,r);return cs(s),u}return{render:(n={},{$$slots:l={},context:i=new Map}={})=>{Nr=[];const r={title:"",head:"",css:new Set},o=t(r,n,{},l,i);return Qt(Nr),{html:o,css:{code:Array.from(r.css).map(s=>s.code).join(`
`),map:null},head:r.title+r.head}},$$render:t}}function qi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function df(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cf(e){let t,n,l;e.length!==2?(t=qi,n=(s,a)=>qi(e(s),a),l=(s,a)=>e(s)-a):(t=e===qi||e===df?e:Pd,n=e,l=e);function i(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const d=u+f>>>1;n(s[d],a)<0?u=d+1:f=d}while(u<f)}return u}function r(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const d=u+f>>>1;n(s[d],a)<=0?u=d+1:f=d}while(u<f)}return u}function o(s,a,u=0,f=s.length){const d=i(s,a,u,f-1);return d>u&&l(s[d-1],a)>-l(s[d],a)?d-1:d}return{left:i,center:o,right:r}}function Pd(){return 0}function zd(e){return e===null?NaN:+e}const Fd=cf(qi),Gd=Fd.right;cf(zd).center;const Od=Gd;class ys extends Map{constructor(t,n=Nd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[l,i]of t)this.set(l,i)}get(t){return super.get(Ss(this,t))}has(t){return super.has(Ss(this,t))}set(t,n){return super.set(Hd(this,t),n)}delete(t){return super.delete(Ld(this,t))}}function Ss({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):n}function Hd({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):(e.set(l,n),n)}function Ld({_intern:e,_key:t},n){const l=t(n);return e.has(l)&&(n=e.get(l),e.delete(l)),n}function Nd(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Bd=Math.sqrt(50),jd=Math.sqrt(10),qd=Math.sqrt(2);function Yi(e,t,n){const l=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(l)),r=l/Math.pow(10,i),o=r>=Bd?10:r>=jd?5:r>=qd?2:1;let s,a,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),a=Math.round(t*u),s/u<e&&++s,a/u>t&&--a,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),a=Math.round(t/u),s*u<e&&++s,a*u>t&&--a),a<s&&.5<=n&&n<2?Yi(e,t,n*2):[s,a,u]}function gf(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const l=t<e,[i,r,o]=l?Yi(t,e,n):Yi(e,t,n);if(!(r>=i))return[];const s=r-i+1,a=new Array(s);if(l)if(o<0)for(let u=0;u<s;++u)a[u]=(r-u)/-o;else for(let u=0;u<s;++u)a[u]=(r-u)*o;else if(o<0)for(let u=0;u<s;++u)a[u]=(i+u)/-o;else for(let u=0;u<s;++u)a[u]=(i+u)*o;return a}function Jr(e,t,n){return t=+t,e=+e,n=+n,Yi(e,t,n)[2]}function Ud(e,t,n){t=+t,e=+e,n=+n;const l=t<e,i=l?Jr(t,e,n):Jr(e,t,n);return(l?-1:1)*(i<0?1/-i:i)}function Xd(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var l=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(i);++l<i;)r[l]=e+l*n;return r}const so=e=>()=>e;function Wd(e,t){return function(n){return e+n*t}}function Yd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(l){return Math.pow(e+l*t,n)}}function Kd(e){return(e=+e)==1?hf:function(t,n){return n-t?Yd(t,n,e):so(isNaN(t)?n:t)}}function hf(e,t){var n=t-e;return n?Wd(e,n):so(isNaN(e)?t:e)}const Cs=function e(t){var n=Kd(t);function l(i,r){var o=n((i=hs(i)).r,(r=hs(r)).r),s=n(i.g,r.g),a=n(i.b,r.b),u=hf(i.opacity,r.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=a(f),i.opacity=u(f),i+""}}return l.gamma=e,l}(1);function Zd(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,l=t.slice(),i;return function(r){for(i=0;i<n;++i)l[i]=e[i]*(1-r)+t[i]*r;return l}}function Jd(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qd(e,t){var n=t?t.length:0,l=e?Math.min(n,e.length):0,i=new Array(l),r=new Array(n),o;for(o=0;o<l;++o)i[o]=ao(e[o],t[o]);for(;o<n;++o)r[o]=t[o];return function(s){for(o=0;o<l;++o)r[o]=i[o](s);return r}}function $d(e,t){var n=new Date;return e=+e,t=+t,function(l){return n.setTime(e*(1-l)+t*l),n}}function Ki(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xd(e,t){var n={},l={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ao(e[i],t[i]):l[i]=t[i];return function(r){for(i in n)l[i]=n[i](r);return l}}var Qr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Br=new RegExp(Qr.source,"g");function ec(e){return function(){return e}}function tc(e){return function(t){return e(t)+""}}function nc(e,t){var n=Qr.lastIndex=Br.lastIndex=0,l,i,r,o=-1,s=[],a=[];for(e=e+"",t=t+"";(l=Qr.exec(e))&&(i=Br.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),s[o]?s[o]+=r:s[++o]=r),(l=l[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,a.push({i:o,x:Ki(l,i)})),n=Br.lastIndex;return n<t.length&&(r=t.slice(n),s[o]?s[o]+=r:s[++o]=r),s.length<2?a[0]?tc(a[0].x):ec(t):(t=a.length,function(u){for(var f=0,d;f<t;++f)s[(d=a[f]).i]=d.x(u);return s.join("")})}function ao(e,t){var n=typeof t,l;return t==null||n==="boolean"?so(t):(n==="number"?Ki:n==="string"?(l=ps(t))?(t=l,Cs):nc:t instanceof ps?Cs:t instanceof Date?$d:Jd(t)?Zd:Array.isArray(t)?Qd:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xd:Ki)(e,t)}function lc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ic(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,l=e.slice(0,n);return[l.length>1?l[0]+l.slice(2):l,+e.slice(n+1)]}function xl(e){return e=Zi(Math.abs(e)),e?e[1]:NaN}function rc(e,t){return function(n,l){for(var i=n.length,r=[],o=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>l&&(s=Math.max(1,l-a)),r.push(n.substring(i-=s,i+s)),!((a+=s+1)>l));)s=e[o=(o+1)%e.length];return r.reverse().join(t)}}function oc(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var sc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ji(e){if(!(t=sc.exec(e)))throw new Error("invalid format: "+e);var t;return new uo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ji.prototype=uo.prototype;function uo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ac(e){e:for(var t=e.length,n=1,l=-1,i;n<t;++n)switch(e[n]){case".":l=i=n;break;case"0":l===0&&(l=n),i=n;break;default:if(!+e[n])break e;l>0&&(l=0);break}return l>0?e.slice(0,l)+e.slice(i+1):e}var pf;function uc(e,t){var n=Zi(e,t);if(!n)return e+"";var l=n[0],i=n[1],r=i-(pf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=l.length;return r===o?l:r>o?l+new Array(r-o+1).join("0"):r>0?l.slice(0,r)+"."+l.slice(r):"0."+new Array(1-r).join("0")+Zi(e,Math.max(0,t+r-1))[0]}function ks(e,t){var n=Zi(e,t);if(!n)return e+"";var l=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+l:l.length>i+1?l.slice(0,i+1)+"."+l.slice(i+1):l+new Array(i-l.length+2).join("0")}const Rs={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ic,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ks(e*100,t),r:ks,s:uc,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Es(e){return e}var As=Array.prototype.map,Is=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fc(e){var t=e.grouping===void 0||e.thousands===void 0?Es:rc(As.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",l=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?Es:oc(As.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Ji(d);var g=d.fill,m=d.align,_=d.sign,v=d.symbol,y=d.zero,C=d.width,E=d.comma,P=d.precision,D=d.trim,T=d.type;T==="n"?(E=!0,T="g"):Rs[T]||(P===void 0&&(P=12),D=!0,T="g"),(y||g==="0"&&m==="=")&&(y=!0,g="0",m="=");var M=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",U=v==="$"?l:/[%p]/.test(T)?o:"",V=Rs[T],B=/[defgprs%]/.test(T);P=P===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function z(N){var O=M,j=U,K,le,Ce;if(T==="c")j=V(N)+j,N="";else{N=+N;var ve=N<0||1/N<0;if(N=isNaN(N)?a:V(Math.abs(N),P),D&&(N=ac(N)),ve&&+N==0&&_!=="+"&&(ve=!1),O=(ve?_==="("?_:s:_==="-"||_==="("?"":_)+O,j=(T==="s"?Is[8+pf/3]:"")+j+(ve&&_==="("?")":""),B){for(K=-1,le=N.length;++K<le;)if(Ce=N.charCodeAt(K),48>Ce||Ce>57){j=(Ce===46?i+N.slice(K+1):N.slice(K))+j,N=N.slice(0,K);break}}}E&&!y&&(N=t(N,1/0));var q=O.length+N.length+j.length,pe=q<C?new Array(C-q+1).join(g):"";switch(E&&y&&(N=t(pe+N,pe.length?C-j.length:1/0),pe=""),m){case"<":N=O+N+j+pe;break;case"=":N=O+pe+N+j;break;case"^":N=pe.slice(0,q=pe.length>>1)+O+N+j+pe.slice(q);break;default:N=pe+O+N+j;break}return r(N)}return z.toString=function(){return d+""},z}function f(d,g){var m=u((d=Ji(d),d.type="f",d)),_=Math.max(-8,Math.min(8,Math.floor(xl(g)/3)))*3,v=Math.pow(10,-_),y=Is[8+_/3];return function(C){return m(v*C)+y}}return{format:u,formatPrefix:f}}var Li,_f,mf;dc({thousands:",",grouping:[3],currency:["$",""]});function dc(e){return Li=fc(e),_f=Li.format,mf=Li.formatPrefix,Li}function cc(e){return Math.max(0,-xl(Math.abs(e)))}function gc(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xl(t)/3)))*3-xl(Math.abs(e)))}function hc(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xl(t)-xl(e))+1}function pc(e){var t=0,n=e.children,l=n&&n.length;if(!l)t=1;else for(;--l>=0;)t+=n[l].value;e.value=t}function _c(){return this.eachAfter(pc)}function mc(e,t){let n=-1;for(const l of this)e.call(t,l,++n,this);return this}function vc(e,t){for(var n=this,l=[n],i,r,o=-1;n=l.pop();)if(e.call(t,n,++o,this),i=n.children)for(r=i.length-1;r>=0;--r)l.push(i[r]);return this}function bc(e,t){for(var n=this,l=[n],i=[],r,o,s,a=-1;n=l.pop();)if(i.push(n),r=n.children)for(o=0,s=r.length;o<s;++o)l.push(r[o]);for(;n=i.pop();)e.call(t,n,++a,this);return this}function wc(e,t){let n=-1;for(const l of this)if(e.call(t,l,++n,this))return l}function yc(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,l=t.children,i=l&&l.length;--i>=0;)n+=l[i].value;t.value=n})}function Sc(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Cc(e){for(var t=this,n=kc(t,e),l=[t];t!==n;)t=t.parent,l.push(t);for(var i=l.length;e!==n;)l.splice(i,0,e),e=e.parent;return l}function kc(e,t){if(e===t)return e;var n=e.ancestors(),l=t.ancestors(),i=null;for(e=n.pop(),t=l.pop();e===t;)i=e,e=n.pop(),t=l.pop();return i}function Rc(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Ec(){return Array.from(this)}function Ac(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Ic(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Mc(){var e=this,t,n=[e],l,i,r;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,l=e.children)for(i=0,r=l.length;i<r;++i)n.push(l[i]);while(n.length)}function fo(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Vc)):t===void 0&&(t=Tc);for(var n=new Qi(e),l,i=[n],r,o,s,a;l=i.pop();)if((o=t(l.data))&&(a=(o=Array.from(o)).length))for(l.children=o,s=a-1;s>=0;--s)i.push(r=o[s]=new Qi(o[s])),r.parent=l,r.depth=l.depth+1;return n.eachBefore(zc)}function Dc(){return fo(this).eachBefore(Pc)}function Tc(e){return e.children}function Vc(e){return Array.isArray(e)?e[1]:null}function Pc(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function zc(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Qi(e){this.data=e,this.depth=this.height=0,this.parent=null}Qi.prototype=fo.prototype={constructor:Qi,count:_c,each:mc,eachAfter:bc,eachBefore:vc,find:wc,sum:yc,sort:Sc,path:Cc,ancestors:Rc,descendants:Ec,leaves:Ac,links:Ic,copy:Dc,[Symbol.iterator]:Mc};function Fc(e){if(typeof e!="function")throw new Error;return e}function _i(){return 0}function mi(e){return function(){return e}}function Gc(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Oc(e,t,n,l,i){for(var r=e.children,o,s=-1,a=r.length,u=e.value&&(l-t)/e.value;++s<a;)o=r[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function Hc(e,t,n,l,i){for(var r=e.children,o,s=-1,a=r.length,u=e.value&&(i-n)/e.value;++s<a;)o=r[s],o.x0=t,o.x1=l,o.y0=n,o.y1=n+=o.value*u}var Lc=(1+Math.sqrt(5))/2;function Nc(e,t,n,l,i,r){for(var o=[],s=t.children,a,u,f=0,d=0,g=s.length,m,_,v=t.value,y,C,E,P,D,T,M;f<g;){m=i-n,_=r-l;do y=s[d++].value;while(!y&&d<g);for(C=E=y,T=Math.max(_/m,m/_)/(v*e),M=y*y*T,D=Math.max(E/M,M/C);d<g;++d){if(y+=u=s[d].value,u<C&&(C=u),u>E&&(E=u),M=y*y*T,P=Math.max(E/M,M/C),P>D){y-=u;break}D=P}o.push(a={value:y,dice:m<_,children:s.slice(f,d)}),a.dice?Oc(a,n,l,i,v?l+=_*y/v:r):Hc(a,n,l,v?n+=m*y/v:i,r),v-=y,f=d}return o}const vf=function e(t){function n(l,i,r,o,s){Nc(t,l,i,r,o,s)}return n.ratio=function(l){return e((l=+l)>1?l:1)},n}(Lc);function Bc(){var e=vf,t=!1,n=1,l=1,i=[0],r=_i,o=_i,s=_i,a=_i,u=_i;function f(g){return g.x0=g.y0=0,g.x1=n,g.y1=l,g.eachBefore(d),i=[0],t&&g.eachBefore(Gc),g}function d(g){var m=i[g.depth],_=g.x0+m,v=g.y0+m,y=g.x1-m,C=g.y1-m;y<_&&(_=y=(_+y)/2),C<v&&(v=C=(v+C)/2),g.x0=_,g.y0=v,g.x1=y,g.y1=C,g.children&&(m=i[g.depth+1]=r(g)/2,_+=u(g)-m,v+=o(g)-m,y-=s(g)-m,C-=a(g)-m,y<_&&(_=y=(_+y)/2),C<v&&(v=C=(v+C)/2),e(g,_,v,y,C))}return f.round=function(g){return arguments.length?(t=!!g,f):t},f.size=function(g){return arguments.length?(n=+g[0],l=+g[1],f):[n,l]},f.tile=function(g){return arguments.length?(e=Fc(g),f):e},f.padding=function(g){return arguments.length?f.paddingInner(g).paddingOuter(g):f.paddingInner()},f.paddingInner=function(g){return arguments.length?(r=typeof g=="function"?g:mi(+g),f):r},f.paddingOuter=function(g){return arguments.length?f.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):f.paddingTop()},f.paddingTop=function(g){return arguments.length?(o=typeof g=="function"?g:mi(+g),f):o},f.paddingRight=function(g){return arguments.length?(s=typeof g=="function"?g:mi(+g),f):s},f.paddingBottom=function(g){return arguments.length?(a=typeof g=="function"?g:mi(+g),f):a},f.paddingLeft=function(g){return arguments.length?(u=typeof g=="function"?g:mi(+g),f):u},f}function co(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Ms=Symbol("implicit");function bf(){var e=new ys,t=[],n=[],l=Ms;function i(r){let o=e.get(r);if(o===void 0){if(l!==Ms)return l;e.set(r,o=t.push(r)-1)}return n[o%n.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new ys;for(const o of r)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(r){return arguments.length?(n=Array.from(r),i):n.slice()},i.unknown=function(r){return arguments.length?(l=r,i):l},i.copy=function(){return bf(t,n).unknown(l)},co.apply(i,arguments),i}function wf(){var e=bf().unknown(void 0),t=e.domain,n=e.range,l=0,i=1,r,o,s=!1,a=0,u=0,f=.5;delete e.unknown;function d(){var g=t().length,m=i<l,_=m?i:l,v=m?l:i;r=(v-_)/Math.max(1,g-a+u*2),s&&(r=Math.floor(r)),_+=(v-_-r*(g-a))*f,o=r*(1-a),s&&(_=Math.round(_),o=Math.round(o));var y=Xd(g).map(function(C){return _+r*C});return n(m?y.reverse():y)}return e.domain=function(g){return arguments.length?(t(g),d()):t()},e.range=function(g){return arguments.length?([l,i]=g,l=+l,i=+i,d()):[l,i]},e.rangeRound=function(g){return[l,i]=g,l=+l,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return r},e.round=function(g){return arguments.length?(s=!!g,d()):s},e.padding=function(g){return arguments.length?(a=Math.min(1,u=+g),d()):a},e.paddingInner=function(g){return arguments.length?(a=Math.min(1,g),d()):a},e.paddingOuter=function(g){return arguments.length?(u=+g,d()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),d()):f},e.copy=function(){return wf(t(),[l,i]).round(s).paddingInner(a).paddingOuter(u).align(f)},co.apply(d(),arguments)}function jc(e){return function(){return e}}function qc(e){return+e}var Ds=[0,1];function Zl(e){return e}function $r(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jc(isNaN(t)?NaN:.5)}function Uc(e,t){var n;return e>t&&(n=e,e=t,t=n),function(l){return Math.max(e,Math.min(t,l))}}function Xc(e,t,n){var l=e[0],i=e[1],r=t[0],o=t[1];return i<l?(l=$r(i,l),r=n(o,r)):(l=$r(l,i),r=n(r,o)),function(s){return r(l(s))}}function Wc(e,t,n){var l=Math.min(e.length,t.length)-1,i=new Array(l),r=new Array(l),o=-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<l;)i[o]=$r(e[o],e[o+1]),r[o]=n(t[o],t[o+1]);return function(s){var a=Od(e,s,1,l)-1;return r[a](i[a](s))}}function Yc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kc(){var e=Ds,t=Ds,n=ao,l,i,r,o=Zl,s,a,u;function f(){var g=Math.min(e.length,t.length);return o!==Zl&&(o=Uc(e[0],e[g-1])),s=g>2?Wc:Xc,a=u=null,d}function d(g){return g==null||isNaN(g=+g)?r:(a||(a=s(e.map(l),t,n)))(l(o(g)))}return d.invert=function(g){return o(i((u||(u=s(t,e.map(l),Ki)))(g)))},d.domain=function(g){return arguments.length?(e=Array.from(g,qc),f()):e.slice()},d.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},d.rangeRound=function(g){return t=Array.from(g),n=lc,f()},d.clamp=function(g){return arguments.length?(o=g?!0:Zl,f()):o!==Zl},d.interpolate=function(g){return arguments.length?(n=g,f()):n},d.unknown=function(g){return arguments.length?(r=g,d):r},function(g,m){return l=g,i=m,f()}}function Zc(){return Kc()(Zl,Zl)}function Jc(e,t,n,l){var i=Ud(e,t,n),r;switch(l=Ji(l??",f"),l.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return l.precision==null&&!isNaN(r=gc(i,o))&&(l.precision=r),mf(l,o)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(r=hc(i,Math.max(Math.abs(e),Math.abs(t))))&&(l.precision=r-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(r=cc(i))&&(l.precision=r-(l.type==="%")*2);break}}return _f(l)}function Qc(e){var t=e.domain;return e.ticks=function(n){var l=t();return gf(l[0],l[l.length-1],n??10)},e.tickFormat=function(n,l){var i=t();return Jc(i[0],i[i.length-1],n??10,l)},e.nice=function(n){n==null&&(n=10);var l=t(),i=0,r=l.length-1,o=l[i],s=l[r],a,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=r,r=u);f-- >0;){if(u=Jr(o,s,n),u===a)return l[i]=o,l[r]=s,t(l);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;a=u}return e},e}function yf(){var e=Zc();return e.copy=function(){return Yc(e,yf())},co.apply(e,arguments),Qc(e)}function $c(e){const t=e&&e.replace(/(\n+$)|(^\n$)|'|"|\r/g,"").split(`
`)||[],n=t.length,l=[],r=2+1,o=new RegExp("^[0-9]+$"),s=new RegExp("^(http://|https://|www.)","i"),a=[];let u=0,f=[],d;for(let g=0;g<n;g++)if(f=t[g].split("	"),u=f.length,u>=r){d===void 0&&(d=s.test(f[1])===!0);const m={id:f[0],name:d||f[1]===""?f[0]:f[1],genes:[]};if(m.id==="")throw new Error("line "+(g+1)+" is invalid, each row should start with a geneset identifier (but found empty string)");if(a.indexOf(m.id)!==-1)throw new Error("line "+(g+1)+" is invalid, duplicated geneset identifier that was already seen before; "+m.id);a.push(m.id);for(let _=2;_<u;_++){if(o.test(f[_])!==!0)throw new Error("line "+(g+1)+" is invalid, the genes should be integer numbers but instead we found value; "+f[_]);m.genes.push(+f[_])}l.push(m)}return l}async function xc(){const e=["source","id","name","ngenes_input","ngenes","ngenes_signif","genes","genes_signif","zscore","pvalue","pvalue_adjust","signif","score_type"],t=Ql(un);if(Array.isArray(t.genesets)){const n=t.genelist.map(o=>({gene:o.gene,symbol:o.symbol,maxscore:o.sort_score}));n.sort((o,s)=>s.maxscore-o.maxscore);let l=[],i=[];return t.genesets.forEach(o=>{const s=o.genesets.map(f=>{const d=new Set(f.genes),g=new Set(f.genes_signif);return[o.source,f.id,f.name,f.ngenes_input,f.ngenes,f.ngenes_signif,n.filter(m=>d.has(m.gene)).slice(0,250).map(m=>m.symbol).join(","),n.filter(m=>g.has(m.gene)).slice(0,250).map(m=>m.symbol).join(","),f.zscore,f.pvalue,f.pvalue_adjust,f.signif,f.score_type]}),a=l.length,u=o.genesets.map((f,d)=>({i:a+d,pvalue:f.pvalue}));l=l.concat(s),i=i.concat(u)}),i.sort((o,s)=>o.pvalue-s.pvalue),l=i.map(o=>l[o.i]),l.unshift(e),await nd(l)}else return new Blob(["no results available"])}function eg(e,t,n,l){const i=t.genesets.map(o=>o.source);let r=`Gene set analyses
GOAT online [PMID:38898151] (version `+n+", http://ftwkoopmans.github.io/goat ) was used to perform gene set enrichment analyses";return t.type==="go"||t.type.startsWith("go_")?r+=" using gene sets from the Gene Ontology database [PMID:10802651] (version "+t.genesets[0].source_version+"). ":t.type==="syngo"?r+=" using gene sets from the SynGO knowledgebase [PMID:31171447] (version "+t.genesets[0].source_version+"). ":r+=' using "'+t.genesets[0].source_version+'" gene sets imported into GOAT online in GMT format. ',r+="The input gene list contained "+e.genelist.length+" genes and its "+t.settings.scoreType+"-derived gene scores were used to test for enriched gene sets that contained at least "+t.settings.minSize+" and at most "+t.settings.maxSize+" genes (or 50% of the gene list, whichever was smaller) that overlapped with the input gene list. Multiple testing correction was ",i.length>1?r+='independently applied per gene set "source" (i.e. '+i.join(", ")+")":r+="applied",t.settings.pvalueAdjustment=="bonferroni"?r+=" using Bonferroni adjustment":r+=" using the Benjamini-Hochberg procedure (FDR)",i.length>1?r+=" and subsequently, all p-values were adjusted (again) using Bonferroni adjustment to account for "+i.length+' separate tests across "sources". ':r+=". ",r+="The significance threshold for adjusted p-values was set to "+t.settings.pvalueThreshold+`.

`,"GOAT online, version: "+n+`
date: `+l.replace("_"," ").replace(/-([0-9]+)$/,":$1")+`

input gene list:
filename: `+e.filename+`
gene count:`+e.genelist.length+`

input gene sets:
`+t.genesets.reduce((o,s)=>o+s.source+" (version: "+s.source_version+`)
`,"")+`
GOAT settings:
score type: `+t.settings.scoreType+`
min gene set size: `+t.settings.minSize+`
max gene set size: `+t.settings.maxSize+`
adjusted p-value, method: `+t.settings.pvalueAdjustment+`
adjusted p-value, significance threshold: `+t.settings.pvalueThreshold+`

GOAT results:
`+t.genesets.reduce((o,s)=>o+s.source+": "+s.genesets.filter(a=>a.signif===!0).length+" / "+s.genesets.length+` evaluated gene sets are significant
`,"")+`

Materials & Methods:

`+r}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(e,t){return typeof e=="function"?e(t):e}function pn(e,t){return n=>{t.setState(l=>({...l,[e]:il(n,l[e])}))}}function $i(e){return e instanceof Function}function tg(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function ng(e,t){const n=[],l=i=>{i.forEach(r=>{n.push(r);const o=t(r);o!=null&&o.length&&l(o)})};return l(e),n}function Ze(e,t,n){let l=[],i;return()=>{let r;n.key&&n.debug&&(r=Date.now());const o=e();if(!(o.length!==l.length||o.some((u,f)=>l[f]!==u)))return i;l=o;let a;if(n.key&&n.debug&&(a=Date.now()),i=t(...o),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-r)*100)/100,f=Math.round((Date.now()-a)*100)/100,d=f/16,g=(m,_)=>{for(m=String(m);m.length<_;)m=" "+m;return m};console.info(`%c⏱ ${g(f,5)} /${g(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function lg(e,t,n,l){var i,r;const s={...e._getDefaultColumnDef(),...t},a=s.accessorKey;let u=(i=(r=s.id)!=null?r:a?a.replace(".","_"):void 0)!=null?i:typeof s.header=="string"?s.header:void 0,f;if(s.accessorFn?f=s.accessorFn:a&&(a.includes(".")?f=g=>{let m=g;for(const v of a.split(".")){var _;m=(_=m)==null?void 0:_[v]}return m}:f=g=>g[s.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:f,parent:l,depth:n,columnDef:s,columns:[],getFlatColumns:Ze(()=>[!0],()=>{var g;return[d,...(g=d.columns)==null?void 0:g.flatMap(m=>m.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}}),getLeafColumns:Ze(()=>[e._getOrderColumnsFn()],g=>{var m;if((m=d.columns)!=null&&m.length){let _=d.columns.flatMap(v=>v.getLeafColumns());return g(_)}return[d]},{key:"column.getLeafColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}})};for(const g of e._features)g.createColumn==null||g.createColumn(d,e);return d}function Ts(e,t,n){var l;let r={id:(l=n.id)!=null?l:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],s=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(s),o.push(a)};return s(r),o},getContext:()=>({table:e,header:r,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(r,e)}),r}const ig={createTable:e=>{e.getHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,i)=>{var r,o;const s=(r=l==null?void 0:l.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?r:[],a=(o=i==null?void 0:i.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(l!=null&&l.includes(d.id))&&!(i!=null&&i.includes(d.id)));return Ni(t,[...s,...u,...a],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,i)=>(n=n.filter(r=>!(l!=null&&l.includes(r.id))&&!(i!=null&&i.includes(r.id))),Ni(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,l)=>{var i;const r=(i=l==null?void 0:l.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return Ni(t,r,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,l)=>{var i;const r=(i=l==null?void 0:l.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return Ni(t,r,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFooterGroups=Ze(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFooterGroups=Ze(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFooterGroups=Ze(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFooterGroups=Ze(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFlatHeaders=Ze(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFlatHeaders=Ze(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFlatHeaders=Ze(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFlatHeaders=Ze(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterLeafHeaders=Ze(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftLeafHeaders=Ze(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightLeafHeaders=Ze(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeafHeaders=Ze(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,l)=>{var i,r,o,s,a,u;return[...(i=(r=t[0])==null?void 0:r.headers)!=null?i:[],...(o=(s=n[0])==null?void 0:s.headers)!=null?o:[],...(a=(u=l[0])==null?void 0:u.headers)!=null?a:[]].map(f=>f.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})}};function Ni(e,t,n,l){var i,r;let o=0;const s=function(g,m){m===void 0&&(m=1),o=Math.max(o,m),g.filter(_=>_.getIsVisible()).forEach(_=>{var v;(v=_.columns)!=null&&v.length&&s(_.columns,m+1)},0)};s(e);let a=[];const u=(g,m)=>{const _={depth:m,id:[l,`${m}`].filter(Boolean).join("_"),headers:[]},v=[];g.forEach(y=>{const C=[...v].reverse()[0],E=y.column.depth===_.depth;let P,D=!1;if(E&&y.column.parent?P=y.column.parent:(P=y.column,D=!0),C&&(C==null?void 0:C.column)===P)C.subHeaders.push(y);else{const T=Ts(n,P,{id:[l,m,P.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${v.filter(M=>M.column===P).length}`:void 0,depth:m,index:v.length});T.subHeaders.push(y),v.push(T)}_.headers.push(y),y.headerGroup=_}),a.push(_),m>0&&u(v,m-1)},f=t.map((g,m)=>Ts(n,g,{depth:o,index:m}));u(f,o-1),a.reverse();const d=g=>g.filter(_=>_.column.getIsVisible()).map(_=>{let v=0,y=0,C=[0];_.subHeaders&&_.subHeaders.length?(C=[],d(_.subHeaders).forEach(P=>{let{colSpan:D,rowSpan:T}=P;v+=D,C.push(T)})):v=1;const E=Math.min(...C);return y=y+E,_.colSpan=v,_.rowSpan=y,{colSpan:v,rowSpan:y}});return d((i=(r=a[0])==null?void 0:r.headers)!=null?i:[]),a}const Bi={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},jr=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),rg={getDefaultColumnDef:()=>Bi,getInitialState:e=>({columnSizing:{},columnSizingInfo:jr(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:pn("columnSizing",e),onColumnSizingInfoChange:pn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,l,i;const r=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Bi.minSize,(l=r??e.columnDef.size)!=null?l:Bi.size),(i=e.columnDef.maxSize)!=null?i:Bi.maxSize)},e.getStart=n=>{const l=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),i=l.findIndex(r=>r.id===e.id);if(i>0){const r=l[i-1];return r.getStart(n)+r.getSize()}return 0},e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:l,...i}=n;return i})},e.getCanResize=()=>{var n,l;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((l=t.options.enableColumnResizing)!=null?l:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const l=i=>{if(i.subHeaders.length)i.subHeaders.forEach(l);else{var r;n+=(r=i.column.getSize())!=null?r:0}};return l(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=()=>{const n=t.getColumn(e.column.id),l=n==null?void 0:n.getCanResize();return i=>{if(!n||!l||(i.persist==null||i.persist(),qr(i)&&i.touches&&i.touches.length>1))return;const r=e.getSize(),o=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[n.id,n.getSize()]],s=qr(i)?Math.round(i.touches[0].clientX):i.clientX,a={},u=(v,y)=>{typeof y=="number"&&(t.setColumnSizingInfo(C=>{var E,P;const D=y-((E=C==null?void 0:C.startOffset)!=null?E:0),T=Math.max(D/((P=C==null?void 0:C.startSize)!=null?P:0),-.999999);return C.columnSizingStart.forEach(M=>{let[U,V]=M;a[U]=Math.round(Math.max(V+V*T,0)*100)/100}),{...C,deltaOffset:D,deltaPercentage:T}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(C=>({...C,...a})))},f=v=>u("move",v),d=v=>{u("end",v),t.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g={moveHandler:v=>f(v.clientX),upHandler:v=>{document.removeEventListener("mousemove",g.moveHandler),document.removeEventListener("mouseup",g.upHandler),d(v.clientX)}},m={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(v.touches[0].clientX),!1),upHandler:v=>{var y;document.removeEventListener("touchmove",m.moveHandler),document.removeEventListener("touchend",m.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),d((y=v.touches[0])==null?void 0:y.clientX)}},_=og()?{passive:!1}:!1;qr(i)?(document.addEventListener("touchmove",m.moveHandler,_),document.addEventListener("touchend",m.upHandler,_)):(document.addEventListener("mousemove",g.moveHandler,_),document.addEventListener("mouseup",g.upHandler,_)),t.setColumnSizingInfo(v=>({...v,startOffset:s,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?jr():(n=e.initialState.columnSizingInfo)!=null?n:jr())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0}}};let ji=null;function og(){if(typeof ji=="boolean")return ji;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return ji=e,ji}function qr(e){return e.type==="touchstart"}const sg={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:pn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var l,i;if(!t){e._queue(()=>{t=!0});return}if((l=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?l:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=l=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(l),e.toggleAllRowsExpanded=l=>{l??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=l=>{var i,r;e.setExpanded(l?{}:(i=(r=e.initialState)==null?void 0:r.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(l=>l.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>l=>{l.persist==null||l.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const l=e.getState().expanded;return l===!0||Object.values(l).some(Boolean)},e.getIsAllRowsExpanded=()=>{const l=e.getState().expanded;return typeof l=="boolean"?l===!0:!(!Object.keys(l).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let l=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(r=>{const o=r.split(".");l=Math.max(l,o.length)}),l},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(l=>{var i;const r=l===!0?!0:!!(l!=null&&l[e.id]);let o={};if(l===!0?Object.keys(t.getRowModel().rowsById).forEach(s=>{o[s]=!0}):o=l,n=(i=n)!=null?i:!r,!r&&n)return{...o,[e.id]:!0};if(r&&!n){const{[e.id]:s,...a}=o;return a}return l})},e.getIsExpanded=()=>{var n;const l=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:l===!0||l!=null&&l[e.id])},e.getCanExpand=()=>{var n,l,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((l=t.options.enableExpanding)!=null?l:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,l=e;for(;n&&l.parentId;)l=t.getRow(l.parentId,!0),n=l.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Sf=(e,t,n)=>{var l;const i=n.toLowerCase();return!!(!((l=e.getValue(t))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(i))};Sf.autoRemove=e=>Dn(e);const Cf=(e,t,n)=>{var l;return!!(!((l=e.getValue(t))==null||(l=l.toString())==null)&&l.includes(n))};Cf.autoRemove=e=>Dn(e);const kf=(e,t,n)=>{var l;return((l=e.getValue(t))==null||(l=l.toString())==null?void 0:l.toLowerCase())===(n==null?void 0:n.toLowerCase())};kf.autoRemove=e=>Dn(e);const Rf=(e,t,n)=>{var l;return(l=e.getValue(t))==null?void 0:l.includes(n)};Rf.autoRemove=e=>Dn(e)||!(e!=null&&e.length);const Ef=(e,t,n)=>!n.some(l=>{var i;return!((i=e.getValue(t))!=null&&i.includes(l))});Ef.autoRemove=e=>Dn(e)||!(e!=null&&e.length);const Af=(e,t,n)=>n.some(l=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(l)});Af.autoRemove=e=>Dn(e)||!(e!=null&&e.length);const If=(e,t,n)=>e.getValue(t)===n;If.autoRemove=e=>Dn(e);const Mf=(e,t,n)=>e.getValue(t)==n;Mf.autoRemove=e=>Dn(e);const go=(e,t,n)=>{let[l,i]=n;const r=e.getValue(t);return r>=l&&r<=i};go.resolveFilterValue=e=>{let[t,n]=e,l=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,r=t===null||Number.isNaN(l)?-1/0:l,o=n===null||Number.isNaN(i)?1/0:i;if(r>o){const s=r;r=o,o=s}return[r,o]};go.autoRemove=e=>Dn(e)||Dn(e[0])&&Dn(e[1]);const Kn={includesString:Sf,includesStringSensitive:Cf,equalsString:kf,arrIncludes:Rf,arrIncludesAll:Ef,arrIncludesSome:Af,equals:If,weakEquals:Mf,inNumberRange:go};function Dn(e){return e==null||e===""}const ag={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:pn("columnFilters",e),onGlobalFilterChange:pn("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const l=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof l=="string"||typeof l=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);return typeof l=="string"?Kn.includesString:typeof l=="number"?Kn.inNumberRange:typeof l=="boolean"||l!==null&&typeof l=="object"?Kn.equals:Array.isArray(l)?Kn.arrIncludes:Kn.weakEquals},e.getFilterFn=()=>{var n,l;return $i(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(l=t.options.filterFns)==null?void 0:l[e.columnDef.filterFn])!=null?n:Kn[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,l,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((l=t.options.enableColumnFilters)!=null?l:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,l,i,r;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((l=t.options.enableGlobalFilter)!=null?l:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((r=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(l=>l.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,l;return(n=(l=t.getState().columnFilters)==null?void 0:l.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(l=>{const i=e.getFilterFn(),r=l==null?void 0:l.find(f=>f.id===e.id),o=il(n,r?r.value:void 0);if(Vs(i,o,e)){var s;return(s=l==null?void 0:l.filter(f=>f.id!==e.id))!=null?s:[]}const a={id:e.id,value:o};if(r){var u;return(u=l==null?void 0:l.map(f=>f.id===e.id?a:f))!=null?u:[]}return l!=null&&l.length?[...l,a]:[a]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Kn.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:l}=e.options;return $i(l)?l:l==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[l])!=null?t:Kn[l]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),l=i=>{var r;return(r=il(t,i))==null?void 0:r.filter(o=>{const s=n.find(a=>a.id===o.id);if(s){const a=s.getFilterFn();if(Vs(a,o.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(l)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,l;e.setColumnFilters(t?[]:(n=(l=e.initialState)==null?void 0:l.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function Vs(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const ug=(e,t,n)=>n.reduce((l,i)=>{const r=i.getValue(e);return l+(typeof r=="number"?r:0)},0),fg=(e,t,n)=>{let l;return n.forEach(i=>{const r=i.getValue(e);r!=null&&(l>r||l===void 0&&r>=r)&&(l=r)}),l},dg=(e,t,n)=>{let l;return n.forEach(i=>{const r=i.getValue(e);r!=null&&(l<r||l===void 0&&r>=r)&&(l=r)}),l},cg=(e,t,n)=>{let l,i;return n.forEach(r=>{const o=r.getValue(e);o!=null&&(l===void 0?o>=o&&(l=i=o):(l>o&&(l=o),i<o&&(i=o)))}),[l,i]},gg=(e,t)=>{let n=0,l=0;if(t.forEach(i=>{let r=i.getValue(e);r!=null&&(r=+r)>=r&&(++n,l+=r)}),n)return l/n},hg=(e,t)=>{if(!t.length)return;const n=t.map(r=>r.getValue(e));if(!tg(n))return;if(n.length===1)return n[0];const l=Math.floor(n.length/2),i=n.sort((r,o)=>r-o);return n.length%2!==0?i[l]:(i[l-1]+i[l])/2},pg=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),_g=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,mg=(e,t)=>t.length,Ur={sum:ug,min:fg,max:dg,extent:cg,mean:gg,median:hg,unique:pg,uniqueCount:_g,count:mg},vg={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:pn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(l=>l!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,l,i,r;return(n=(l=(i=(r=e.columnDef.enableGrouping)!=null?r:!0)!=null?i:t.options.enableGrouping)!=null?l:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);if(typeof l=="number")return Ur.sum;if(Object.prototype.toString.call(l)==="[object Date]")return Ur.extent},e.getAggregationFn=()=>{var n,l;if(!e)throw new Error;return $i(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(l=t.options.aggregationFns)==null?void 0:l[e.columnDef.aggregationFn])!=null?n:Ur[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,l;e.setGrouping(t?[]:(n=(l=e.initialState)==null?void 0:l.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const l=t.getColumn(n);return l!=null&&l.columnDef.getGroupingValue?(e._groupingValuesCache[n]=l.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,l)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function bg(e,t,n){if(!(t!=null&&t.length)||!n)return e;const l=e.filter(r=>!t.includes(r.id));return n==="remove"?l:[...t.map(r=>e.find(o=>o.id===r)).filter(Boolean),...l]}const wg={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:pn("columnOrder",e)}),createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Ze(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,l)=>i=>{let r=[];if(!(t!=null&&t.length))r=i;else{const o=[...t],s=[...i];for(;s.length&&o.length;){const a=o.shift(),u=s.findIndex(f=>f.id===a);u>-1&&r.push(s.splice(u,1)[0])}r=[...r,...s]}return bg(r,n,l)},{key:!1})}},xr=0,eo=10,Xr=()=>({pageIndex:xr,pageSize:eo}),yg={getInitialState:e=>({...e,pagination:{...Xr(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:pn("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var l,i;if(!t){e._queue(()=>{t=!0});return}if((l=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?l:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=l=>{const i=r=>il(l,r);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=l=>{var i;e.setPagination(l?Xr():(i=e.initialState.pagination)!=null?i:Xr())},e.setPageIndex=l=>{e.setPagination(i=>{let r=il(l,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,o)),{...i,pageIndex:r}})},e.resetPageIndex=l=>{var i,r;e.setPageIndex(l?xr:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageIndex)!=null?i:xr)},e.resetPageSize=l=>{var i,r;e.setPageSize(l?eo:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageSize)!=null?i:eo)},e.setPageSize=l=>{e.setPagination(i=>{const r=Math.max(1,il(l,i.pageSize)),o=i.pageSize*i.pageIndex,s=Math.floor(o/r);return{...i,pageIndex:s,pageSize:r}})},e.setPageCount=l=>e.setPagination(i=>{var r;let o=il(l,(r=e.options.pageCount)!=null?r:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=Ze(()=>[e.getPageCount()],l=>{let i=[];return l&&l>0&&(i=[...new Array(l)].fill(null).map((r,o)=>o)),i},{key:!1,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugTable}}),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:l}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:l<i-1},e.previousPage=()=>e.setPageIndex(l=>l-1),e.nextPage=()=>e.setPageIndex(l=>l+1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var l;return(l=e.options.pageCount)!=null?l:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}},Wr=()=>({left:[],right:[]}),Yr=()=>({top:[],bottom:[]}),Sg={getInitialState:e=>({columnPinning:Wr(),rowPinning:Yr(),...e}),getDefaultOptions:e=>({onColumnPinningChange:pn("columnPinning",e),onRowPinningChange:pn("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const l=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var r,o;if(n==="right"){var s,a;return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(d=>!(l!=null&&l.includes(d))),right:[...((a=i==null?void 0:i.right)!=null?a:[]).filter(d=>!(l!=null&&l.includes(d))),...l]}}if(n==="left"){var u,f;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(d=>!(l!=null&&l.includes(d))),...l],right:((f=i==null?void 0:i.right)!=null?f:[]).filter(d=>!(l!=null&&l.includes(d)))}}return{left:((r=i==null?void 0:i.left)!=null?r:[]).filter(d=>!(l!=null&&l.includes(d))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(d=>!(l!=null&&l.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(l=>{var i,r,o;return((i=l.columnDef.enablePinning)!=null?i:!0)&&((r=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?r:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(s=>s.id),{left:l,right:i}=t.getState().columnPinning,r=n.some(s=>l==null?void 0:l.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return r?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,l;const i=e.getIsPinned();return i?(n=(l=t.getState().columnPinning)==null||(l=l[i])==null?void 0:l.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,l,i)=>{const r=l?e.getLeafRows().map(a=>{let{id:u}=a;return u}):[],o=i?e.getParentRows().map(a=>{let{id:u}=a;return u}):[],s=new Set([...o,e.id,...r]);t.setRowPinning(a=>{var u,f;if(n==="bottom"){var d,g;return{top:((d=a==null?void 0:a.top)!=null?d:[]).filter(v=>!(s!=null&&s.has(v))),bottom:[...((g=a==null?void 0:a.bottom)!=null?g:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)]}}if(n==="top"){var m,_;return{top:[...((m=a==null?void 0:a.top)!=null?m:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)],bottom:((_=a==null?void 0:a.bottom)!=null?_:[]).filter(v=>!(s!=null&&s.has(v)))}}return{top:((u=a==null?void 0:a.top)!=null?u:[]).filter(v=>!(s!=null&&s.has(v))),bottom:((f=a==null?void 0:a.bottom)!=null?f:[]).filter(v=>!(s!=null&&s.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:l,enablePinning:i}=t.options;return typeof l=="function"?l(e):(n=l??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:l,bottom:i}=t.getState().rowPinning,r=n.some(s=>l==null?void 0:l.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return r?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,l;const i=e.getIsPinned();if(!i)return-1;const r=(n=t._getPinnedRows(i))==null?void 0:n.map(o=>{let{id:s}=o;return s});return(l=r==null?void 0:r.indexOf(e.id))!=null?l:-1},e.getCenterVisibleCells=Ze(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,l,i)=>{const r=[...l??[],...i??[]];return n.filter(o=>!r.includes(o.column.id))},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getLeftVisibleCells=Ze(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,l)=>(l??[]).map(r=>n.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"left"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getRightVisibleCells=Ze(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,l)=>(l??[]).map(r=>n.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"right"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,l;return e.setColumnPinning(t?Wr():(n=(l=e.initialState)==null?void 0:l.columnPinning)!=null?n:Wr())},e.getIsSomeColumnsPinned=t=>{var n;const l=e.getState().columnPinning;if(!t){var i,r;return!!((i=l.left)!=null&&i.length||(r=l.right)!=null&&r.length)}return!!((n=l[t])!=null&&n.length)},e.getLeftLeafColumns=Ze(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(l=>t.find(i=>i.id===l)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getRightLeafColumns=Ze(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(l=>t.find(i=>i.id===l)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getCenterLeafColumns=Ze(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l)=>{const i=[...n??[],...l??[]];return t.filter(r=>!i.includes(r.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,l;return e.setRowPinning(t?Yr():(n=(l=e.initialState)==null?void 0:l.rowPinning)!=null?n:Yr())},e.getIsSomeRowsPinned=t=>{var n;const l=e.getState().rowPinning;if(!t){var i,r;return!!((i=l.top)!=null&&i.length||(r=l.bottom)!=null&&r.length)}return!!((n=l[t])!=null&&n.length)},e._getPinnedRows=t=>Ze(()=>[e.getRowModel().rows,e.getState().rowPinning[t]],(n,l)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(l??[]).map(o=>{const s=e.getRow(o,!0);return s.getIsAllParentsExpanded()?s:null}):(l??[]).map(o=>n.find(s=>s.id===o))).filter(Boolean).map(o=>({...o,position:t}))},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})(),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Ze(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,l)=>{const i=new Set([...n??[],...l??[]]);return t.filter(r=>!i.has(r.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugRows}})}},Cg={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:pn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const l={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(r=>{r.getCanSelect()&&(l[r.id]=!0)}):i.forEach(r=>{delete l[r.id]}),l})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const l=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(r=>{to(i,r.id,l,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ze(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Kr(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getFilteredSelectedRowModel=Ze(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Kr(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getGroupedSelectedRowModel=Ze(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Kr(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let l=!!(t.length&&Object.keys(n).length);return l&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(l=!1),l},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let l=!!t.length;return l&&t.some(i=>!n[i.id])&&(l=!1),l},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,l)=>{const i=e.getIsSelected();t.setRowSelection(r=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return r;const s={...r};return to(s,e.id,n,(o=l==null?void 0:l.selectChildren)!=null?o:!0,t),s})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return ho(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return no(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return no(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return l=>{var i;n&&e.toggleSelected((i=l.target)==null?void 0:i.checked)}}}},to=(e,t,n,l,i)=>{var r;const o=i.getRow(t);n?(o.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),o.getCanSelect()&&(e[t]=!0)):delete e[t],l&&(r=o.subRows)!=null&&r.length&&o.getCanSelectSubRows()&&o.subRows.forEach(s=>to(e,s.id,n,l,i))};function Kr(e,t){const n=e.getState().rowSelection,l=[],i={},r=function(o,s){return o.map(a=>{var u;const f=ho(a,n);if(f&&(l.push(a),i[a.id]=a),(u=a.subRows)!=null&&u.length&&(a={...a,subRows:r(a.subRows)}),f)return a}).filter(Boolean)};return{rows:r(t.rows),flatRows:l,rowsById:i}}function ho(e,t){var n;return(n=t[e.id])!=null?n:!1}function no(e,t,n){var l;if(!((l=e.subRows)!=null&&l.length))return!1;let i=!0,r=!1;return e.subRows.forEach(o=>{if(!(r&&!i)&&(o.getCanSelect()&&(ho(o,t)?r=!0:i=!1),o.subRows&&o.subRows.length)){const s=no(o,t);s==="all"?r=!0:(s==="some"&&(r=!0),i=!1)}}),i?"all":r?"some":!1}const lo=/([0-9]+)/gm,kg=(e,t,n)=>Df(rl(e.getValue(n)).toLowerCase(),rl(t.getValue(n)).toLowerCase()),Rg=(e,t,n)=>Df(rl(e.getValue(n)),rl(t.getValue(n))),Eg=(e,t,n)=>po(rl(e.getValue(n)).toLowerCase(),rl(t.getValue(n)).toLowerCase()),Ag=(e,t,n)=>po(rl(e.getValue(n)),rl(t.getValue(n))),Ig=(e,t,n)=>{const l=e.getValue(n),i=t.getValue(n);return l>i?1:l<i?-1:0},Mg=(e,t,n)=>po(e.getValue(n),t.getValue(n));function po(e,t){return e===t?0:e>t?1:-1}function rl(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Df(e,t){const n=e.split(lo).filter(Boolean),l=t.split(lo).filter(Boolean);for(;n.length&&l.length;){const i=n.shift(),r=l.shift(),o=parseInt(i,10),s=parseInt(r,10),a=[o,s].sort();if(isNaN(a[0])){if(i>r)return 1;if(r>i)return-1;continue}if(isNaN(a[1]))return isNaN(o)?-1:1;if(o>s)return 1;if(s>o)return-1}return n.length-l.length}const vi={alphanumeric:kg,alphanumericCaseSensitive:Rg,text:Eg,textCaseSensitive:Ag,datetime:Ig,basic:Mg},Dg={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:pn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let l=!1;for(const i of n){const r=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(r)==="[object Date]")return vi.datetime;if(typeof r=="string"&&(l=!0,r.split(lo).length>1))return vi.alphanumeric}return l?vi.text:vi.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,l;if(!e)throw new Error;return $i(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(l=t.options.sortingFns)==null?void 0:l[e.columnDef.sortingFn])!=null?n:vi[e.columnDef.sortingFn]},e.toggleSorting=(n,l)=>{const i=e.getNextSortingOrder(),r=typeof n<"u"&&n!==null;t.setSorting(o=>{const s=o==null?void 0:o.find(m=>m.id===e.id),a=o==null?void 0:o.findIndex(m=>m.id===e.id);let u=[],f,d=r?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&l?s?f="toggle":f="add":o!=null&&o.length&&a!==o.length-1?f="replace":s?f="toggle":f="replace",f==="toggle"&&(r||i||(f="remove")),f==="add"){var g;u=[...o,{id:e.id,desc:d}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=o.map(m=>m.id===e.id?{...m,desc:d}:m):f==="remove"?u=o.filter(m=>m.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,l;return((n=(l=e.columnDef.sortDescFirst)!=null?l:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var l,i;const r=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==r&&((l=t.options.enableSortingRemoval)==null||l)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":r},e.getCanSort=()=>{var n,l;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((l=t.options.enableSorting)!=null?l:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,l;return(n=(l=e.columnDef.enableMultiSort)!=null?l:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const l=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return l?l.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,l;return(n=(l=t.getState().sorting)==null?void 0:l.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(l=>l.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return l=>{n&&(l.persist==null||l.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(l):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,l;e.setSorting(t?[]:(n=(l=e.initialState)==null?void 0:l.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Tg={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:pn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(l=>({...l,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,l;return(n=(l=t.getState().columnVisibility)==null?void 0:l[e.id])!=null?n:!0},e.getCanHide=()=>{var n,l;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((l=t.options.enableHiding)!=null?l:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Ze(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(l=>l.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getVisibleCells=Ze(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,l,i)=>[...n,...l,...i],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{const t=(n,l)=>Ze(()=>[l(),l().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(r=>r.getIsVisible==null?void 0:r.getIsVisible()),{key:n,debug:()=>{var i;return(i=e.options.debugAll)!=null?i:e.options.debugColumns}});e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var l;e.setColumnVisibility(n?{}:(l=e.initialState.columnVisibility)!=null?l:{})},e.toggleAllColumnsVisible=n=>{var l;n=(l=n)!=null?l:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,r)=>({...i,[r.id]:n||!(r.getCanHide!=null&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var l;e.toggleAllColumnsVisible((l=n.target)==null?void 0:l.checked)}}},Ps=[ig,Tg,wg,Sg,ag,Dg,vg,sg,yg,Cg,rg];function Vg(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:Ps};const l=n._features.reduce((f,d)=>Object.assign(f,d.getDefaultOptions==null?void 0:d.getDefaultOptions(n)),{}),i=f=>n.options.mergeOptions?n.options.mergeOptions(l,f):{...l,...f};let o={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(f=>{var d;o=(d=f.getInitialState==null?void 0:f.getInitialState(o))!=null?d:o});const s=[];let a=!1;const u={_features:Ps,options:{...l,...e},initialState:o,_queue:f=>{s.push(f),a||(a=!0,Promise.resolve().then(()=>{for(;s.length;)s.shift()();a=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{n.setState(n.initialState)},setOptions:f=>{const d=il(f,n.options);n.options=i(d)},getState:()=>n.options.state,setState:f=>{n.options.onStateChange==null||n.options.onStateChange(f)},_getRowId:(f,d,g)=>{var m;return(m=n.options.getRowId==null?void 0:n.options.getRowId(f,d,g))!=null?m:`${g?[g.id,d].join("."):d}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(f,d)=>{const g=(d?n.getCoreRowModel():n.getRowModel()).rowsById[f];if(!g)throw new Error;return g},_getDefaultColumnDef:Ze(()=>[n.options.defaultColumn],f=>{var d;return f=(d=f)!=null?d:{},{header:g=>{const m=g.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:g=>{var m,_;return(m=(_=g.renderValue())==null||_.toString==null?void 0:_.toString())!=null?m:null},...n._features.reduce((g,m)=>Object.assign(g,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},{debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Ze(()=>[n._getColumnDefs()],f=>{const d=function(g,m,_){return _===void 0&&(_=0),g.map(v=>{const y=lg(n,v,_,m),C=v;return y.columns=C.columns?d(C.columns,y,_+1):[],y})};return d(f)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllFlatColumns:Ze(()=>[n.getAllColumns()],f=>f.flatMap(d=>d.getFlatColumns()),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),_getAllFlatColumnsById:Ze(()=>[n.getAllFlatColumns()],f=>f.reduce((d,g)=>(d[g.id]=g,d),{}),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllLeafColumns:Ze(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(f,d)=>{let g=f.flatMap(m=>m.getLeafColumns());return d(g)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getColumn:f=>n._getAllFlatColumnsById()[f]};Object.assign(n,u);for(let f=0;f<n._features.length;f++){const d=n._features[f];d==null||d.createTable==null||d.createTable(n)}return n}function Pg(e,t,n,l){const i=()=>{var o;return(o=r.getValue())!=null?o:e.options.renderFallbackValue},r={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(l),renderValue:i,getContext:Ze(()=>[e,n,t,r],(o,s,a,u)=>({table:o,column:s,row:a,cell:u,getValue:u.getValue,renderValue:u.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(o=>{o.createCell==null||o.createCell(r,n,t,e)},{}),r}const _o=(e,t,n,l,i,r,o)=>{let s={id:t,index:l,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(s._valuesCache.hasOwnProperty(a))return s._valuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return s._valuesCache[a]=u.accessorFn(s.original,l),s._valuesCache[a]},getUniqueValues:a=>{if(s._uniqueValuesCache.hasOwnProperty(a))return s._uniqueValuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(s._uniqueValuesCache[a]=u.columnDef.getUniqueValues(s.original,l),s._uniqueValuesCache[a]):(s._uniqueValuesCache[a]=[s.getValue(a)],s._uniqueValuesCache[a])},renderValue:a=>{var u;return(u=s.getValue(a))!=null?u:e.options.renderFallbackValue},subRows:r??[],getLeafRows:()=>ng(s.subRows,a=>a.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let a=[],u=s;for(;;){const f=u.getParentRow();if(!f)break;a.push(f),u=f}return a.reverse()},getAllCells:Ze(()=>[e.getAllLeafColumns()],a=>a.map(u=>Pg(e,s,u,u.id)),{key:!1,debug:()=>{var a;return(a=e.options.debugAll)!=null?a:e.options.debugRows}}),_getAllCellsByColumnId:Ze(()=>[s.getAllCells()],a=>a.reduce((u,f)=>(u[f.column.id]=f,u),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var a;return(a=e.options.debugAll)!=null?a:e.options.debugRows}})};for(let a=0;a<e._features.length;a++){const u=e._features[a];u==null||u.createRow==null||u.createRow(s,e)}return s};function zg(){return e=>Ze(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},l=function(i,r,o){r===void 0&&(r=0);const s=[];for(let u=0;u<i.length;u++){const f=_o(e,e._getRowId(i[u],u,o),i[u],u,r,void 0,o==null?void 0:o.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,s.push(f),e.options.getSubRows){var a;f.originalSubRows=e.options.getSubRows(i[u],u),(a=f.originalSubRows)!=null&&a.length&&(f.subRows=l(f.originalSubRows,r+1,f))}}return s};return n.rows=l(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Fg(e,t,n){return n.options.filterFromLeafRows?Gg(e,t,n):Og(e,t,n)}function Gg(e,t,n){var l;const i=[],r={},o=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,s=function(a,u){u===void 0&&(u=0);const f=[];for(let g=0;g<a.length;g++){var d;let m=a[g];const _=_o(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(_.columnFilters=m.columnFilters,(d=m.subRows)!=null&&d.length&&u<o){if(_.subRows=s(m.subRows,u+1),m=_,t(m)&&!_.subRows.length){f.push(m),r[m.id]=m,i.push(m);continue}if(t(m)||_.subRows.length){f.push(m),r[m.id]=m,i.push(m);continue}}else m=_,t(m)&&(f.push(m),r[m.id]=m,i.push(m))}return f};return{rows:s(e),flatRows:i,rowsById:r}}function Og(e,t,n){var l;const i=[],r={},o=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,s=function(a,u){u===void 0&&(u=0);const f=[];for(let g=0;g<a.length;g++){let m=a[g];if(t(m)){var d;if((d=m.subRows)!=null&&d.length&&u<o){const v=_o(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);v.subRows=s(m.subRows,u+1),m=v}f.push(m),i.push(m),r[m.id]=m}}return f};return{rows:s(e),flatRows:i,rowsById:r}}function Hg(){return e=>Ze(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,l)=>{if(!t.rows.length||!(n!=null&&n.length)&&!l){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const i=[],r=[];(n??[]).forEach(g=>{var m;const _=e.getColumn(g.id);if(!_)return;const v=_.getFilterFn();v&&i.push({id:g.id,filterFn:v,resolvedValue:(m=v.resolveFilterValue==null?void 0:v.resolveFilterValue(g.value))!=null?m:g.value})});const o=n.map(g=>g.id),s=e.getGlobalFilterFn(),a=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());l&&s&&a.length&&(o.push("__global__"),a.forEach(g=>{var m;r.push({id:g.id,filterFn:s,resolvedValue:(m=s.resolveFilterValue==null?void 0:s.resolveFilterValue(l))!=null?m:l})}));let u,f;for(let g=0;g<t.flatRows.length;g++){const m=t.flatRows[g];if(m.columnFilters={},i.length)for(let _=0;_<i.length;_++){u=i[_];const v=u.id;m.columnFilters[v]=u.filterFn(m,v,u.resolvedValue,y=>{m.columnFiltersMeta[v]=y})}if(r.length){for(let _=0;_<r.length;_++){f=r[_];const v=f.id;if(f.filterFn(m,v,f.resolvedValue,y=>{m.columnFiltersMeta[v]=y})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const d=g=>{for(let m=0;m<o.length;m++)if(g.columnFilters[o[m]]===!1)return!1;return!0};return Fg(t.rows,d,e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Lg(){return e=>Ze(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const l=e.getState().sorting,i=[],r=l.filter(a=>{var u;return(u=e.getColumn(a.id))==null?void 0:u.getCanSort()}),o={};r.forEach(a=>{const u=e.getColumn(a.id);u&&(o[a.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const s=a=>{const u=a.map(f=>({...f}));return u.sort((f,d)=>{for(let m=0;m<r.length;m+=1){var g;const _=r[m],v=o[_.id],y=(g=_==null?void 0:_.desc)!=null?g:!1;let C=0;if(v.sortUndefined){const E=f.getValue(_.id),P=d.getValue(_.id),D=E===void 0,T=P===void 0;(D||T)&&(C=D&&T?0:D?v.sortUndefined:-v.sortUndefined)}if(C===0&&(C=v.sortingFn(f,d,_.id)),C!==0)return y&&(C*=-1),v.invertSorting&&(C*=-1),C}return f.index-d.index}),u.forEach(f=>{var d;i.push(f),(d=f.subRows)!=null&&d.length&&(f.subRows=s(f.subRows))}),u};return{rows:s(n.rows),flatRows:i,rowsById:n.rowsById}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Ng(e){const t=[],n=l=>{var i;t.push(l),(i=l.subRows)!=null&&i.length&&l.getIsExpanded()&&l.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Bg(e){return t=>Ze(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,l)=>{if(!l.rows.length)return l;const{pageSize:i,pageIndex:r}=n;let{rows:o,flatRows:s,rowsById:a}=l;const u=i*r,f=u+i;o=o.slice(u,f);let d;t.options.paginateExpandedRows?d={rows:o,flatRows:s,rowsById:a}:d=Ng({rows:o,flatRows:s,rowsById:a}),d.flatRows=[];const g=m=>{d.flatRows.push(m),m.subRows.length&&m.subRows.forEach(g)};return d.rows.forEach(g),d},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}})}/**
 * svelte-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jg(e){let t;return{c(){t=W(e[0])},l(n){t=Y(n,e[0])},m(n,l){A(n,t,l)},p(n,[l]){l&1&&De(t,n[0])},i:at,o:at,d(n){n&&p(t)}}}function qg(e,t,n){let{content:l}=t;return e.$$set=i=>{"content"in i&&n(0,l=i.content)},[l]}class Ug extends $t{constructor(t){super(),ln(this,t,qg,jg,nn,{content:0})}}const Xg=ff((e,t,n,l)=>`${Td(t.content)}`);var Wg=typeof document>"u"?Xg:Ug;function Yg(e,t,n){let l,i;return l=new t({props:n,$$inline:!0}),{c(){Je(l.$$.fragment)},l(r){xe(l.$$.fragment,r)},m(r,o){Qe(l,r,o),i=!0},p:at,i(r){i||(oe(l.$$.fragment,r),i=!0)},o(r){ce(l.$$.fragment,r),i=!1},d(r){$e(l,r)}}}function Kg(e,t){return class extends $t{constructor(l){super(),ln(this,l,null,i=>Yg(i,e,t),nn,{},void 0)}}}function Zg(e,t){return ff((l,i,r,o)=>`${Vd(e,"TableComponent").$$render(l,t,{},{})}`)}const io=typeof window>"u"?Zg:Kg;function Jg(e){return typeof e=="object"&&typeof e.$$render=="function"&&typeof e.render=="function"}function Qg(e){var t,n;let l="__SVELTE_HMR"in window;return e.prototype instanceof $t||l&&((t=e.name)==null?void 0:t.startsWith("Proxy<"))&&((n=e.name)==null?void 0:n.endsWith(">"))}function zs(e){return typeof document>"u"?Jg(e):Qg(e)}function Fs(e){return io(Wg,{content:e})}function xi(e,t){if(!e)return null;if(zs(e))return io(e,t);if(typeof e=="function"){const n=e(t);return n==null?null:zs(n)?io(n,t):Fs(n)}return Fs(e)}function $g(e){let t;"subscribe"in e?t=e:t=bs(e);let n={state:{},onStateChange:()=>{},renderFallbackValue:null,...Ql(t)},l=Vg(n),i=hn(l.initialState),r=Ad([i,t],s=>s);return bs(l,function(a){const u=r.subscribe(f=>{let[d,g]=f;l.setOptions(m=>({...m,...g,state:{...d,...g.state},onStateChange:_=>{_ instanceof Function?i.update(_):i.set(_),n.onStateChange==null||n.onStateChange(_)}})),a(l)});return function(){u()}})}function Gs(e,t,n){const l=e.slice();return l[23]=t[n],l}function Os(e,t,n){const l=e.slice();return l[26]=t[n],l}function Hs(e,t,n){const l=e.slice();return l[29]=t[n],l}function Ls(e,t,n){const l=e.slice();return l[32]=t[n],l}function xg(e,t,n){const l=e.slice();return l[35]=t[n],l}function eh(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),ue(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:at,i:at,o:at,d(l){l&&p(t)}}}function th(e){let t,n,l,i="<<",r,o,s,a,u="<",f,d,g,m,_=">",v,y,C,E,P=">>",D,T,M,U,V,B,z,N,O,j=e[2].getState().pagination.pageIndex+1+"",K,le,Ce=e[2].getPageCount()+"",ve,q,pe,se,be,ye,ae,F,fe,x,Ee,we,Xe=me([25,50,100,250]),Ye=[];for(let J=0;J<4;J+=1)Ye[J]=nh(xg(e,Xe,J));let Ne=me(e[2].getHeaderGroups()),de=[];for(let J=0;J<Ne.length;J+=1)de[J]=js(Hs(e,Ne,J));const dt=J=>ce(de[J],1,1,()=>{de[J]=null});let ze=me(e[2].getRowModel().rows),Se=[];for(let J=0;J<ze.length;J+=1)Se[J]=Us(Gs(e,ze,J));const vt=J=>ce(Se[J],1,1,()=>{Se[J]=null});return{c(){t=b("div"),n=b("div"),l=b("button"),r=W(i),s=k(),a=b("button"),f=W(u),g=k(),m=b("button"),v=W(_),C=k(),E=b("button"),D=W(P),M=k(),U=b("div"),V=b("select");for(let J=0;J<4;J+=1)Ye[J].c();z=k(),N=b("div"),O=W("Page "),K=W(j),le=W(" of "),ve=W(Ce),q=k(),pe=b("div"),se=b("input"),be=k(),ye=b("table"),ae=b("thead");for(let J=0;J<de.length;J+=1)de[J].c();F=k(),fe=b("tbody");for(let J=0;J<Se.length;J+=1)Se[J].c();this.h()},l(J){t=w(J,"DIV",{});var he=S(t);n=w(he,"DIV",{style:!0});var Q=S(n);l=w(Q,"BUTTON",{class:!0});var ge=S(l);r=Y(ge,i),ge.forEach(p),s=R(Q),a=w(Q,"BUTTON",{class:!0});var Te=S(a);f=Y(Te,u),Te.forEach(p),g=R(Q),m=w(Q,"BUTTON",{class:!0});var _e=S(m);v=Y(_e,_),_e.forEach(p),C=R(Q),E=w(Q,"BUTTON",{class:!0});var He=S(E);D=Y(He,P),He.forEach(p),M=R(Q),U=w(Q,"DIV",{style:!0});var et=S(U);V=w(et,"SELECT",{});var wt=S(V);for(let Re=0;Re<4;Re+=1)Ye[Re].l(wt);wt.forEach(p),et.forEach(p),z=R(Q),N=w(Q,"DIV",{style:!0});var Ke=S(N);O=Y(Ke,"Page "),K=Y(Ke,j),le=Y(Ke," of "),ve=Y(Ke,Ce),Ke.forEach(p),q=R(Q),pe=w(Q,"DIV",{style:!0});var ot=S(pe);se=w(ot,"INPUT",{placeholder:!0,class:!0}),ot.forEach(p),Q.forEach(p),be=R(he),ye=w(he,"TABLE",{class:!0});var ft=S(ye);ae=w(ft,"THEAD",{});var Ae=S(ae);for(let Re=0;Re<de.length;Re+=1)de[Re].l(Ae);Ae.forEach(p),F=R(ft),fe=w(ft,"TBODY",{});var tt=S(fe);for(let Re=0;Re<Se.length;Re+=1)Se[Re].l(tt);tt.forEach(p),ft.forEach(p),he.forEach(p),this.h()},h(){h(l,"class","border rounded p-1"),l.disabled=o=!e[2].getCanPreviousPage(),h(a,"class","border rounded p-1"),a.disabled=d=!e[2].getCanPreviousPage(),h(m,"class","border rounded p-1"),m.disabled=y=!e[2].getCanNextPage(),h(E,"class","border rounded p-1"),E.disabled=T=!e[2].getCanNextPage(),G(U,"margin-left","10px"),G(N,"margin-left","10px"),G(N,"display","flex"),G(N,"justify-content","center"),G(N,"align-items","center"),h(se,"placeholder","search..."),se.value=e[1],h(se,"class","svelte-rg5axi"),te(se,"searchActive",e[1]!==""),G(pe,"margin-left","auto"),G(pe,"margin-right","3px"),G(pe,"display","flex"),G(pe,"align-self","end"),G(n,"display","flex"),G(n,"margin-bottom","10px"),h(ye,"class","svelte-rg5axi")},m(J,he){A(J,t,he),c(t,n),c(n,l),c(l,r),c(n,s),c(n,a),c(a,f),c(n,g),c(n,m),c(m,v),c(n,C),c(n,E),c(E,D),c(n,M),c(n,U),c(U,V);for(let Q=0;Q<4;Q+=1)Ye[Q]&&Ye[Q].m(V,null);an(V,e[2].getState().pagination.pageSize),c(n,z),c(n,N),c(N,O),c(N,K),c(N,le),c(N,ve),c(n,q),c(n,pe),c(pe,se),c(t,be),c(t,ye),c(ye,ae);for(let Q=0;Q<de.length;Q+=1)de[Q]&&de[Q].m(ae,null);c(ye,F),c(ye,fe);for(let Q=0;Q<Se.length;Q+=1)Se[Q]&&Se[Q].m(fe,null);x=!0,Ee||(we=[ie(l,"click",e[8]),ie(a,"click",e[9]),ie(m,"click",e[10]),ie(E,"click",e[11]),ie(V,"change",e[12]),ie(se,"input",e[4])],Ee=!0)},p(J,he){if((!x||he[0]&4&&o!==(o=!J[2].getCanPreviousPage()))&&(l.disabled=o),(!x||he[0]&4&&d!==(d=!J[2].getCanPreviousPage()))&&(a.disabled=d),(!x||he[0]&4&&y!==(y=!J[2].getCanNextPage()))&&(m.disabled=y),(!x||he[0]&4&&T!==(T=!J[2].getCanNextPage()))&&(E.disabled=T),(!x||he[0]&4&&B!==(B=J[2].getState().pagination.pageSize))&&an(V,J[2].getState().pagination.pageSize),(!x||he[0]&4)&&j!==(j=J[2].getState().pagination.pageIndex+1+"")&&De(K,j),(!x||he[0]&4)&&Ce!==(Ce=J[2].getPageCount()+"")&&De(ve,Ce),(!x||he[0]&2&&se.value!==J[1])&&(se.value=J[1]),(!x||he[0]&2)&&te(se,"searchActive",J[1]!==""),he[0]&12){Ne=me(J[2].getHeaderGroups());let Q;for(Q=0;Q<Ne.length;Q+=1){const ge=Hs(J,Ne,Q);de[Q]?(de[Q].p(ge,he),oe(de[Q],1)):(de[Q]=js(ge),de[Q].c(),oe(de[Q],1),de[Q].m(ae,null))}for(qt(),Q=Ne.length;Q<de.length;Q+=1)dt(Q);Ut()}if(he[0]&4){ze=me(J[2].getRowModel().rows);let Q;for(Q=0;Q<ze.length;Q+=1){const ge=Gs(J,ze,Q);Se[Q]?(Se[Q].p(ge,he),oe(Se[Q],1)):(Se[Q]=Us(ge),Se[Q].c(),oe(Se[Q],1),Se[Q].m(fe,null))}for(qt(),Q=ze.length;Q<Se.length;Q+=1)vt(Q);Ut()}},i(J){if(!x){for(let he=0;he<Ne.length;he+=1)oe(de[he]);for(let he=0;he<ze.length;he+=1)oe(Se[he]);x=!0}},o(J){de=de.filter(Boolean);for(let he=0;he<de.length;he+=1)ce(de[he]);Se=Se.filter(Boolean);for(let he=0;he<Se.length;he+=1)ce(Se[he]);x=!1},d(J){J&&p(t),st(Ye,J),st(de,J),st(Se,J),Ee=!1,Qt(we)}}}function nh(e){let t,n,l,i;return{c(){t=b("option"),n=W("Show "),l=W(e[35]),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);n=Y(o,"Show "),l=Y(o,e[35]),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[35],Yt(t,t.__value)},m(r,o){A(r,t,o),c(t,n),c(t,l),c(t,i)},p:at,d(r){r&&p(t)}}}function Ns(e){let t,n,l,i=(e[3][e[32].column.getIsSorted().toString()]??"")+"",r,o,s,a;var u=xi(e[32].column.columnDef.header,e[32].getContext());function f(d,g){return{}}return u&&(n=Xi(u,f())),{c(){t=b("div"),n&&Je(n.$$.fragment),l=k(),r=W(i),this.h()},l(d){t=w(d,"DIV",{tabindex:!0,role:!0,"aria-pressed":!0});var g=S(t);n&&xe(n.$$.fragment,g),l=R(g),r=Y(g,i),g.forEach(p),this.h()},h(){h(t,"tabindex","0"),h(t,"role","button"),h(t,"aria-pressed","false"),te(t,"cursor-pointer",e[32].column.getCanSort()),te(t,"select-none",e[32].column.getCanSort())},m(d,g){A(d,t,g),n&&Qe(n,t,null),c(t,l),c(t,r),o=!0,s||(a=[ie(t,"click",function(){Kf(e[32].column.getToggleSortingHandler())&&e[32].column.getToggleSortingHandler().apply(this,arguments)}),ie(t,"keydown",e[13])],s=!0)},p(d,g){if(e=d,g[0]&4&&u!==(u=xi(e[32].column.columnDef.header,e[32].getContext()))){if(n){qt();const m=n;ce(m.$$.fragment,1,0,()=>{$e(m,1)}),Ut()}u?(n=Xi(u,f()),Je(n.$$.fragment),oe(n.$$.fragment,1),Qe(n,t,l)):n=null}(!o||g[0]&4)&&i!==(i=(e[3][e[32].column.getIsSorted().toString()]??"")+"")&&De(r,i),(!o||g[0]&4)&&te(t,"cursor-pointer",e[32].column.getCanSort()),(!o||g[0]&4)&&te(t,"select-none",e[32].column.getCanSort())},i(d){o||(n&&oe(n.$$.fragment,d),o=!0)},o(d){n&&ce(n.$$.fragment,d),o=!1},d(d){d&&p(t),n&&$e(n),s=!1,Qt(a)}}}function Bs(e){let t,n,l=!e[32].isPlaceholder&&Ns(e);return{c(){t=b("th"),l&&l.c(),this.h()},l(i){t=w(i,"TH",{class:!0});var r=S(t);l&&l.l(r),r.forEach(p),this.h()},h(){h(t,"class","svelte-rg5axi")},m(i,r){A(i,t,r),l&&l.m(t,null),n=!0},p(i,r){i[32].isPlaceholder?l&&(qt(),ce(l,1,1,()=>{l=null}),Ut()):l?(l.p(i,r),r[0]&4&&oe(l,1)):(l=Ns(i),l.c(),oe(l,1),l.m(t,null))},i(i){n||(oe(l),n=!0)},o(i){ce(l),n=!1},d(i){i&&p(t),l&&l.d()}}}function js(e){let t,n,l,i=me(e[29].headers),r=[];for(let s=0;s<i.length;s+=1)r[s]=Bs(Ls(e,i,s));const o=s=>ce(r[s],1,1,()=>{r[s]=null});return{c(){t=b("tr");for(let s=0;s<r.length;s+=1)r[s].c();n=k(),this.h()},l(s){t=w(s,"TR",{class:!0});var a=S(t);for(let u=0;u<r.length;u+=1)r[u].l(a);n=R(a),a.forEach(p),this.h()},h(){h(t,"class","svelte-rg5axi")},m(s,a){A(s,t,a);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);c(t,n),l=!0},p(s,a){if(a[0]&12){i=me(s[29].headers);let u;for(u=0;u<i.length;u+=1){const f=Ls(s,i,u);r[u]?(r[u].p(f,a),oe(r[u],1)):(r[u]=Bs(f),r[u].c(),oe(r[u],1),r[u].m(t,n))}for(qt(),u=i.length;u<r.length;u+=1)o(u);Ut()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)oe(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)ce(r[a]);l=!1},d(s){s&&p(t),st(r,s)}}}function qs(e){let t,n,l,i;var r=xi(e[26].column.columnDef.cell,e[26].getContext());function o(s,a){return{}}return r&&(n=Xi(r,o())),{c(){t=b("td"),n&&Je(n.$$.fragment),this.h()},l(s){t=w(s,"TD",{style:!0,class:!0});var a=S(t);n&&xe(n.$$.fragment,a),a.forEach(p),this.h()},h(){h(t,"style",l=e[26].column.getSize()===Number.MAX_SAFE_INTEGER?"width: auto":"width: "+e[26].column.getSize()+"px; max-width: "+e[26].column.getSize()+"px;"),h(t,"class","svelte-rg5axi")},m(s,a){A(s,t,a),n&&Qe(n,t,null),i=!0},p(s,a){if(a[0]&4&&r!==(r=xi(s[26].column.columnDef.cell,s[26].getContext()))){if(n){qt();const u=n;ce(u.$$.fragment,1,0,()=>{$e(u,1)}),Ut()}r?(n=Xi(r,o()),Je(n.$$.fragment),oe(n.$$.fragment,1),Qe(n,t,null)):n=null}(!i||a[0]&4&&l!==(l=s[26].column.getSize()===Number.MAX_SAFE_INTEGER?"width: auto":"width: "+s[26].column.getSize()+"px; max-width: "+s[26].column.getSize()+"px;"))&&h(t,"style",l)},i(s){i||(n&&oe(n.$$.fragment,s),i=!0)},o(s){n&&ce(n.$$.fragment,s),i=!1},d(s){s&&p(t),n&&$e(n)}}}function Us(e){let t,n,l,i=me(e[23].getVisibleCells()),r=[];for(let s=0;s<i.length;s+=1)r[s]=qs(Os(e,i,s));const o=s=>ce(r[s],1,1,()=>{r[s]=null});return{c(){t=b("tr");for(let s=0;s<r.length;s+=1)r[s].c();n=k(),this.h()},l(s){t=w(s,"TR",{class:!0});var a=S(t);for(let u=0;u<r.length;u+=1)r[u].l(a);n=R(a),a.forEach(p),this.h()},h(){h(t,"class","svelte-rg5axi")},m(s,a){A(s,t,a);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);c(t,n),l=!0},p(s,a){if(a[0]&4){i=me(s[23].getVisibleCells());let u;for(u=0;u<i.length;u+=1){const f=Os(s,i,u);r[u]?(r[u].p(f,a),oe(r[u],1)):(r[u]=qs(f),r[u].c(),oe(r[u],1),r[u].m(t,n))}for(qt(),u=i.length;u<r.length;u+=1)o(u);Ut()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)oe(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)ce(r[a]);l=!1},d(s){s&&p(t),st(r,s)}}}function lh(e){let t,n,l,i,r;const o=[th,eh],s=[];function a(u,f){return f[0]&1&&(t=null),t==null&&(t=!!(Array.isArray(u[0])&&u[0].length>0)),t?0:1}return n=a(e,[-1,-1]),l=s[n]=o[n](e),{c(){l.c(),i=Oe()},l(u){l.l(u),i=Oe()},m(u,f){s[n].m(u,f),A(u,i,f),r=!0},p(u,f){let d=n;n=a(u,f),n===d?s[n].p(u,f):(qt(),ce(s[d],1,1,()=>{s[d]=null}),Ut(),l=s[n],l?l.p(u,f):(l=s[n]=o[n](u),l.c()),oe(l,1),l.m(i.parentNode,i))},i(u){r||(oe(l),r=!0)},o(u){ce(l),r=!1},d(u){u&&p(i),s[n].d(u)}}}function ih(e,t,n){let l,{tableColumns:i=[]}=t,{tableData:r=[]}=t,{initialSort:o=[]}=t,s=[o],a={pageIndex:0,pageSize:25};const u={asc:" 🔼",desc:" 🔽"};let f="";function d(z){n(1,f=z)}let g;const m=z=>{z.preventDefault(),g!==void 0&&clearTimeout(g),g=setTimeout(()=>{n(1,f=z.target.value),y.update(N=>({...N,state:{...N.state,globalFilter:f}}))},250)},_=z=>{z instanceof Function?s=z(s):s=z,y.update(N=>({...N,state:{...N.state,sorting:s}}))},v=z=>{a=z(a),y.update(N=>({...N,state:{...N.state,pagination:a}}))},y=hn({data:r,columns:i,defaultColumn:{minSize:0,size:Number.MAX_SAFE_INTEGER,maxSize:Number.MAX_SAFE_INTEGER},state:{sorting:s,pagination:a,globalFilter:f},onPaginationChange:v,onSortingChange:_,onGlobalFilterChange:d,getCoreRowModel:zg(),getSortedRowModel:Lg(),getPaginationRowModel:Bg(),getFilteredRowModel:Hg()}),C=$g(y);Pt(e,C,z=>n(2,l=z));function E(...z){y.update(N=>({...N,data:r}))}function P(...z){y.update(N=>({...N,columns:i}))}const D=()=>l.setPageIndex(0),T=()=>l.previousPage(),M=()=>{l.nextPage()},U=()=>l.setPageIndex(l.getPageCount()-1),V=z=>{l.setPageSize(Number(z.target.value))},B=()=>{};return e.$$set=z=>{"tableColumns"in z&&n(6,i=z.tableColumns),"tableData"in z&&n(0,r=z.tableData),"initialSort"in z&&n(7,o=z.initialSort)},e.$$.update=()=>{e.$$.dirty[0]&1&&E(r),e.$$.dirty[0]&64&&P(i)},[r,f,l,u,m,C,i,o,D,T,M,U,V,B]}class rh extends $t{constructor(t){super(),ln(this,t,ih,lh,nn,{tableColumns:6,tableData:0,initialSort:7},null,[-1,-1])}}function oh(e){let t,n,l=`This table shows the statistical outcome of your GOAT enrichment analysis for gene sets from the
		currently selected gene set &quot;source&quot; (e.g. GO_CC or GO_BP, options shown in the light blue bar
		directly above). The columns in this table are described in more detail in the <a href="docs#GOATresults" target="_blank">documentation</a>.
        <br/>The &quot;score type&quot; column reflects what type of gene scores (from your input dataset)
		were used to compute the presented gene set enrichment p-values. ES is an abbreviation for
		effect size (to minimize the horizontal space required for this column). e.g. &quot;ES up&quot; indicates
		the gene set is enriched in genes with a positive gene effect size, &quot;ES down&quot; indicates
		enrichment of negative gene effect sizes. If &quot;pvalue&quot; was selected in the &quot;gene score type&quot;
		settings, information on enrichment in either up/down-direction is not available.`,i,r,o,s,a,u="only show significant gene sets",f,d,g,m,_,v,y,C;return _=new rh({props:{initialSort:e[2],tableData:e[1],tableColumns:e[3]}}),{c(){t=b("div"),n=b("div"),n.innerHTML=l,i=k(),r=b("div"),o=b("input"),s=k(),a=b("label"),a.textContent=u,f=k(),d=b("br"),g=k(),m=b("div"),Je(_.$$.fragment),this.h()},l(E){t=w(E,"DIV",{});var P=S(t);n=w(P,"DIV",{style:!0,"data-svelte-h":!0}),ue(n)!=="svelte-184a9eb"&&(n.innerHTML=l),i=R(P),r=w(P,"DIV",{});var D=S(r);o=w(D,"INPUT",{type:!0,id:!0,name:!0}),s=R(D),a=w(D,"LABEL",{for:!0,"data-svelte-h":!0}),ue(a)!=="svelte-a2yfu0"&&(a.textContent=u),D.forEach(p),f=R(P),d=w(P,"BR",{}),g=R(P),m=w(P,"DIV",{style:!0});var T=S(m);xe(_.$$.fragment,T),T.forEach(p),P.forEach(p),this.h()},h(){G(n,"margin-bottom","10px"),G(n,"border-bottom","1px solid grey"),G(n,"padding-bottom","20px"),h(o,"type","checkbox"),h(o,"id","inputFilterSignif"),h(o,"name","inputFilterSignif"),h(a,"for","inputFilterSignif"),G(m,"min-height","900px")},m(E,P){A(E,t,P),c(t,n),c(t,i),c(t,r),c(r,o),o.checked=e[0],c(r,s),c(r,a),c(t,f),c(t,d),c(t,g),c(t,m),Qe(_,m,null),v=!0,y||(C=ie(o,"change",e[6]),y=!0)},p(E,[P]){P&1&&(o.checked=E[0]);const D={};P&2&&(D.tableData=E[1]),_.$set(D)},i(E){v||(oe(_.$$.fragment,E),v=!0)},o(E){ce(_.$$.fragment,E),v=!1},d(E){E&&p(t),$e(_),y=!1,C()}}}function sh(e,t,n){let l,i;Pt(e,un,f=>n(5,i=f));let{selectedSourceIndex:r=0}=t,o=!0;const s={id:"pvalue",desc:!1},a=[{accessorKey:"name",header:()=>"gene set name",size:500},{accessorKey:"ngenes",header:()=>"#genes",size:70},{accessorKey:"ngenes_signif",header:()=>"#signif",size:70},{accessorKey:"pvalue",header:()=>"p-value",cell:f=>Wi(f.getValue()),size:80},{accessorKey:"pvalue_adjust",header:()=>"adj. p-value",cell:f=>Wi(f.getValue()),size:80},{accessorKey:"signif",header:()=>"signif",size:60},{accessorKey:"score_type",header:()=>"score type",cell:f=>f.getValue().replace("effectsize_","ES "),size:70}];function u(){o=this.checked,n(0,o)}return e.$$set=f=>{"selectedSourceIndex"in f&&n(4,r=f.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty&49&&n(1,l=i&&i.genesets&&i.genesets[r].genesets.filter(f=>o===!1||f.signif===!0)||[])},[o,l,s,a,r,i,u]}class ah extends $t{constructor(t){super(),ln(this,t,sh,oh,nn,{selectedSourceIndex:4})}}function Xs(e){return Object.prototype.toString.call(e)==="[object Date]"}function ro(e,t,n,l){if(typeof n=="number"||Xs(n)){const i=l-n,r=(n-t)/(e.dt||1/60),o=e.opts.stiffness*i,s=e.opts.damping*r,a=(o-s)*e.inv_mass,u=(r+a)*e.dt;return Math.abs(u)<e.opts.precision&&Math.abs(i)<e.opts.precision?l:(e.settled=!1,Xs(n)?new Date(n.getTime()+u):n+u)}else{if(Array.isArray(n))return n.map((i,r)=>ro(e,t[r],n[r],l[r]));if(typeof n=="object"){const i={};for(const r in n)i[r]=ro(e,t[r],n[r],l[r]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function uh(e,t={}){const n=hn(e),{stiffness:l=.15,damping:i=.8,precision:r=.01}=t;let o,s,a,u=e,f=e,d=1,g=0,m=!1;function _(y,C={}){f=y;const E=a={};return e==null||C.hard||v.stiffness>=1&&v.damping>=1?(m=!0,o=ws(),u=y,n.set(e=f),Promise.resolve()):(C.soft&&(g=1/((C.soft===!0?.5:+C.soft)*60),d=0),s||(o=ws(),m=!1,s=Id(P=>{if(m)return m=!1,s=null,!1;d=Math.min(d+g,1);const D={inv_mass:d,opts:v,settled:!0,dt:(P-o)*60/1e3},T=ro(D,u,e,f);return o=P,u=e,n.set(e=T),D.settled&&(s=null),!D.settled})),new Promise(P=>{s.promise.then(()=>{E===a&&P()})}))}const v={set:_,update:(y,C)=>_(y(f,e),C),subscribe:n.subscribe,stiffness:l,damping:i,precision:r};return v}function Ws(e,t,n){const l=e.slice();return l[37]=t[n],l[39]=n,l}function Ys(e){let t,n,l,i,r=(e[6]==="label"||e[7]==="label")&&Ks(e);return{c(){t=b("span"),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0,style:!0});var s=S(t);r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pip first"),h(t,"style",n=e[14]+": 0%;"),te(t,"selected",e[18](e[0])),te(t,"in-range",e[17](e[0]))},m(o,s){A(o,t,s),r&&r.m(t,null),l||(i=[ie(t,"pointerdown",e[30]),ie(t,"pointerup",e[31])],l=!0)},p(o,s){o[6]==="label"||o[7]==="label"?r?r.p(o,s):(r=Ks(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null),s[0]&16384&&n!==(n=o[14]+": 0%;")&&h(t,"style",n),s[0]&262145&&te(t,"selected",o[18](o[0])),s[0]&131073&&te(t,"in-range",o[17](o[0]))},d(o){o&&p(t),r&&r.d(),l=!1,Qt(i)}}}function Ks(e){let t,n=e[12](e[16](e[0]),0,0)+"",l,i=e[10]&&Zs(e),r=e[11]&&Js(e);return{c(){t=b("span"),i&&i.c(),l=W(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=Y(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pipVal")},m(o,s){A(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=Zs(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&69633&&n!==(n=o[12](o[16](o[0]),0,0)+"")&&De(l,n),o[11]?r?r.p(o,s):(r=Js(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function Zs(e){let t,n;return{c(){t=b("span"),n=W(e[10]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=Y(i,e[10]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-prefix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&1024&&De(n,l[10])},d(l){l&&p(t)}}}function Js(e){let t,n;return{c(){t=b("span"),n=W(e[11]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=Y(i,e[11]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-suffix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&2048&&De(n,l[11])},d(l){l&&p(t)}}}function Qs(e){let t,n=me(Array(e[20]+1)),l=[];for(let i=0;i<n.length;i+=1)l[i]=na(Ws(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=Oe()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=Oe()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r[0]&8314435){n=me(Array(i[20]+1));let o;for(o=0;o<n.length;o+=1){const s=Ws(i,n,o);l[o]?l[o].p(s,r):(l[o]=na(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function $s(e){let t,n,l,i,r,o=(e[6]==="label"||e[9]==="label")&&xs(e);function s(...a){return e[33](e[39],...a)}return{c(){t=b("span"),o&&o.c(),n=k(),this.h()},l(a){t=w(a,"SPAN",{class:!0,style:!0});var u=S(t);o&&o.l(u),n=R(u),u.forEach(p),this.h()},h(){h(t,"class","pip"),h(t,"style",l=e[14]+": "+e[15](e[19](e[39]))+"%;"),te(t,"selected",e[18](e[19](e[39]))),te(t,"in-range",e[17](e[19](e[39])))},m(a,u){A(a,t,u),o&&o.m(t,null),c(t,n),i||(r=[ie(t,"pointerdown",e[32]),ie(t,"pointerup",s)],i=!0)},p(a,u){e=a,e[6]==="label"||e[9]==="label"?o?o.p(e,u):(o=xs(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),u[0]&573440&&l!==(l=e[14]+": "+e[15](e[19](e[39]))+"%;")&&h(t,"style",l),u[0]&786432&&te(t,"selected",e[18](e[19](e[39]))),u[0]&655360&&te(t,"in-range",e[17](e[19](e[39])))},d(a){a&&p(t),o&&o.d(),i=!1,Qt(r)}}}function xs(e){let t,n=e[12](e[19](e[39]),e[39],e[15](e[19](e[39])))+"",l,i=e[10]&&ea(e),r=e[11]&&ta(e);return{c(){t=b("span"),i&&i.c(),l=W(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=Y(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pipVal")},m(o,s){A(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=ea(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&561152&&n!==(n=o[12](o[19](o[39]),o[39],o[15](o[19](o[39])))+"")&&De(l,n),o[11]?r?r.p(o,s):(r=ta(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function ea(e){let t,n;return{c(){t=b("span"),n=W(e[10]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=Y(i,e[10]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-prefix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&1024&&De(n,l[10])},d(l){l&&p(t)}}}function ta(e){let t,n;return{c(){t=b("span"),n=W(e[11]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=Y(i,e[11]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-suffix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&2048&&De(n,l[11])},d(l){l&&p(t)}}}function na(e){let t=e[19](e[39])!==e[0]&&e[19](e[39])!==e[1],n,l=t&&$s(e);return{c(){l&&l.c(),n=Oe()},l(i){l&&l.l(i),n=Oe()},m(i,r){l&&l.m(i,r),A(i,n,r)},p(i,r){r[0]&524291&&(t=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),t?l?l.p(i,r):(l=$s(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){i&&p(n),l&&l.d(i)}}}function la(e){let t,n,l,i,r=(e[6]==="label"||e[8]==="label")&&ia(e);return{c(){t=b("span"),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0,style:!0});var s=S(t);r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pip last"),h(t,"style",n=e[14]+": 100%;"),te(t,"selected",e[18](e[1])),te(t,"in-range",e[17](e[1]))},m(o,s){A(o,t,s),r&&r.m(t,null),l||(i=[ie(t,"pointerdown",e[34]),ie(t,"pointerup",e[35])],l=!0)},p(o,s){o[6]==="label"||o[8]==="label"?r?r.p(o,s):(r=ia(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null),s[0]&16384&&n!==(n=o[14]+": 100%;")&&h(t,"style",n),s[0]&262146&&te(t,"selected",o[18](o[1])),s[0]&131074&&te(t,"in-range",o[17](o[1]))},d(o){o&&p(t),r&&r.d(),l=!1,Qt(i)}}}function ia(e){let t,n=e[12](e[16](e[1]),e[20],100)+"",l,i=e[10]&&ra(e),r=e[11]&&oa(e);return{c(){t=b("span"),i&&i.c(),l=W(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=Y(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pipVal")},m(o,s){A(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=ra(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&1118210&&n!==(n=o[12](o[16](o[1]),o[20],100)+"")&&De(l,n),o[11]?r?r.p(o,s):(r=oa(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function ra(e){let t,n;return{c(){t=b("span"),n=W(e[10]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=Y(i,e[10]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-prefix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&1024&&De(n,l[10])},d(l){l&&p(t)}}}function oa(e){let t,n;return{c(){t=b("span"),n=W(e[11]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=Y(i,e[11]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-suffix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&2048&&De(n,l[11])},d(l){l&&p(t)}}}function fh(e){let t,n,l,i=(e[6]&&e[7]!==!1||e[7])&&Ys(e),r=(e[6]&&e[9]!==!1||e[9])&&Qs(e),o=(e[6]&&e[8]!==!1||e[8])&&la(e);return{c(){t=b("div"),i&&i.c(),n=k(),r&&r.c(),l=k(),o&&o.c(),this.h()},l(s){t=w(s,"DIV",{class:!0});var a=S(t);i&&i.l(a),n=R(a),r&&r.l(a),l=R(a),o&&o.l(a),a.forEach(p),this.h()},h(){h(t,"class","rangePips"),te(t,"disabled",e[5]),te(t,"hoverable",e[4]),te(t,"vertical",e[2]),te(t,"reversed",e[3]),te(t,"focus",e[13])},m(s,a){A(s,t,a),i&&i.m(t,null),c(t,n),r&&r.m(t,null),c(t,l),o&&o.m(t,null)},p(s,a){s[6]&&s[7]!==!1||s[7]?i?i.p(s,a):(i=Ys(s),i.c(),i.m(t,n)):i&&(i.d(1),i=null),s[6]&&s[9]!==!1||s[9]?r?r.p(s,a):(r=Qs(s),r.c(),r.m(t,l)):r&&(r.d(1),r=null),s[6]&&s[8]!==!1||s[8]?o?o.p(s,a):(o=la(s),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a[0]&32&&te(t,"disabled",s[5]),a[0]&16&&te(t,"hoverable",s[4]),a[0]&4&&te(t,"vertical",s[2]),a[0]&8&&te(t,"reversed",s[3]),a[0]&8192&&te(t,"focus",s[13])},i:at,o:at,d(s){s&&p(t),i&&i.d(),r&&r.d(),o&&o.d()}}}function dh(e,t,n){let l,i,r,o,s,{range:a=!1}=t,{min:u=0}=t,{max:f=100}=t,{step:d=1}=t,{values:g=[(f+u)/2]}=t,{vertical:m=!1}=t,{reversed:_=!1}=t,{hoverable:v=!0}=t,{disabled:y=!1}=t,{pipstep:C=void 0}=t,{all:E=!0}=t,{first:P=void 0}=t,{last:D=void 0}=t,{rest:T=void 0}=t,{prefix:M=""}=t,{suffix:U=""}=t,{formatter:V=(F,fe)=>F}=t,{focus:B=void 0}=t,{orientationStart:z=void 0}=t,{percentOf:N=void 0}=t,{moveHandle:O=void 0}=t,{fixFloat:j=void 0}=t,{normalisedClient:K=void 0}=t,le;function Ce(F){F=K(F),le={x:F.clientX,y:F.clientY}}function ve(F,fe){if(fe=K(fe),!y){const x=Math.sqrt(Math.pow(le.x-fe.clientX,2)+Math.pow(le.y-fe.clientY,2));le&&x<=5&&O(void 0,F)}}const q=F=>{Ce(F)},pe=F=>{ve(r(u),F)},se=F=>{Ce(F)},be=(F,fe)=>{ve(r(F),fe)},ye=F=>{Ce(F)},ae=F=>{ve(r(f),F)};return e.$$set=F=>{"range"in F&&n(23,a=F.range),"min"in F&&n(0,u=F.min),"max"in F&&n(1,f=F.max),"step"in F&&n(24,d=F.step),"values"in F&&n(25,g=F.values),"vertical"in F&&n(2,m=F.vertical),"reversed"in F&&n(3,_=F.reversed),"hoverable"in F&&n(4,v=F.hoverable),"disabled"in F&&n(5,y=F.disabled),"pipstep"in F&&n(26,C=F.pipstep),"all"in F&&n(6,E=F.all),"first"in F&&n(7,P=F.first),"last"in F&&n(8,D=F.last),"rest"in F&&n(9,T=F.rest),"prefix"in F&&n(10,M=F.prefix),"suffix"in F&&n(11,U=F.suffix),"formatter"in F&&n(12,V=F.formatter),"focus"in F&&n(13,B=F.focus),"orientationStart"in F&&n(14,z=F.orientationStart),"percentOf"in F&&n(15,N=F.percentOf),"moveHandle"in F&&n(27,O=F.moveHandle),"fixFloat"in F&&n(16,j=F.fixFloat),"normalisedClient"in F&&n(28,K=F.normalisedClient)},e.$$.update=()=>{e.$$.dirty[0]&83886087&&n(29,l=C||((f-u)/d>=(m?50:100)?(f-u)/(m?10:20):1)),e.$$.dirty[0]&553648131&&n(20,i=parseInt((f-u)/(d*l),10)),e.$$.dirty[0]&553713665&&n(19,r=function(F){return j(u+F*d*l)}),e.$$.dirty[0]&33619968&&n(18,o=function(F){return g.some(fe=>j(fe)===j(F))}),e.$$.dirty[0]&41943040&&n(17,s=function(F){if(a==="min")return g[0]>F;if(a==="max")return g[0]<F;if(a)return g[0]<F&&g[1]>F})},[u,f,m,_,v,y,E,P,D,T,M,U,V,B,z,N,j,s,o,r,i,Ce,ve,a,d,g,C,O,K,l,q,pe,se,be,ye,ae]}class ch extends $t{constructor(t){super(),ln(this,t,dh,fh,nn,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function sa(e,t,n){const l=e.slice();return l[65]=t[n],l[67]=n,l}function aa(e){let t,n=e[21](e[65],e[67],e[24](e[65]))+"",l,i=e[18]&&ua(e),r=e[19]&&fa(e);return{c(){t=b("span"),i&&i.c(),l=W(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=Y(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","rangeFloat")},m(o,s){A(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[18]?i?i.p(o,s):(i=ua(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&18874369&&n!==(n=o[21](o[65],o[67],o[24](o[65]))+"")&&De(l,n),o[19]?r?r.p(o,s):(r=fa(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function ua(e){let t,n;return{c(){t=b("span"),n=W(e[18]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=Y(i,e[18]),i.forEach(p),this.h()},h(){h(t,"class","rangeFloat-prefix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&262144&&De(n,l[18])},d(l){l&&p(t)}}}function fa(e){let t,n;return{c(){t=b("span"),n=W(e[19]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=Y(i,e[19]),i.forEach(p),this.h()},h(){h(t,"class","rangeFloat-suffix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&524288&&De(n,l[19])},d(l){l&&p(t)}}}function da(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_=e[7]&&aa(e);return{c(){t=b("span"),n=b("span"),l=k(),_&&_.c(),this.h()},l(v){t=w(v,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var y=S(t);n=w(y,"SPAN",{class:!0}),S(n).forEach(p),l=R(y),_&&_.l(y),y.forEach(p),this.h()},h(){h(n,"class","rangeNub"),h(t,"role","slider"),h(t,"class","rangeHandle"),h(t,"data-handle",e[67]),h(t,"style",i=e[29]+": "+e[30][e[67]]+"%; z-index: "+(e[27]===e[67]?3:2)+";"),h(t,"aria-label",r=e[22][e[67]]),h(t,"aria-valuemin",o=e[2]===!0&&e[67]===1?e[0][0]:e[3]),h(t,"aria-valuemax",s=e[2]===!0&&e[67]===0?e[0][1]:e[4]),h(t,"aria-valuenow",a=e[65]),h(t,"aria-valuetext",u=""+(e[18]+e[21](e[65],e[67],e[24](e[65]))+e[19])),h(t,"aria-orientation",f=e[6]?"vertical":"horizontal"),h(t,"aria-disabled",e[10]),h(t,"disabled",e[10]),h(t,"tabindex",d=e[10]?-1:0),te(t,"active",e[25]&&e[27]===e[67]),te(t,"press",e[26]&&e[27]===e[67])},m(v,y){A(v,t,y),c(t,n),c(t,l),_&&_.m(t,null),g||(m=[ie(t,"blur",e[35]),ie(t,"focus",e[36]),ie(t,"keydown",e[37])],g=!0)},p(v,y){v[7]?_?_.p(v,y):(_=aa(v),_.c(),_.m(t,null)):_&&(_.d(1),_=null),y[0]&1744830464&&i!==(i=v[29]+": "+v[30][v[67]]+"%; z-index: "+(v[27]===v[67]?3:2)+";")&&h(t,"style",i),y[0]&4194304&&r!==(r=v[22][v[67]])&&h(t,"aria-label",r),y[0]&13&&o!==(o=v[2]===!0&&v[67]===1?v[0][0]:v[3])&&h(t,"aria-valuemin",o),y[0]&21&&s!==(s=v[2]===!0&&v[67]===0?v[0][1]:v[4])&&h(t,"aria-valuemax",s),y[0]&1&&a!==(a=v[65])&&h(t,"aria-valuenow",a),y[0]&19660801&&u!==(u=""+(v[18]+v[21](v[65],v[67],v[24](v[65]))+v[19]))&&h(t,"aria-valuetext",u),y[0]&64&&f!==(f=v[6]?"vertical":"horizontal")&&h(t,"aria-orientation",f),y[0]&1024&&h(t,"aria-disabled",v[10]),y[0]&1024&&h(t,"disabled",v[10]),y[0]&1024&&d!==(d=v[10]?-1:0)&&h(t,"tabindex",d),y[0]&167772160&&te(t,"active",v[25]&&v[27]===v[67]),y[0]&201326592&&te(t,"press",v[26]&&v[27]===v[67])},d(v){v&&p(t),_&&_.d(),g=!1,Qt(m)}}}function ca(e){let t,n;return{c(){t=b("span"),this.h()},l(l){t=w(l,"SPAN",{class:!0,style:!0}),S(t).forEach(p),this.h()},h(){h(t,"class","rangeBar"),h(t,"style",n=e[29]+": "+e[33](e[30])+"%; "+e[28]+": "+e[34](e[30])+"%;")},m(l,i){A(l,t,i)},p(l,i){i[0]&1879048192&&n!==(n=l[29]+": "+l[33](l[30])+"%; "+l[28]+": "+l[34](l[30])+"%;")&&h(t,"style",n)},d(l){l&&p(t)}}}function ga(e){let t,n;return t=new ch({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[29],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[25],percentOf:e[24],moveHandle:e[32],fixFloat:e[31],normalisedClient:Ui}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&1&&(r.values=l[0]),i[0]&8&&(r.min=l[3]),i[0]&16&&(r.max=l[4]),i[0]&32&&(r.step=l[5]),i[0]&4&&(r.range=l[2]),i[0]&64&&(r.vertical=l[6]),i[0]&256&&(r.reversed=l[8]),i[0]&536870912&&(r.orientationStart=l[29]),i[0]&512&&(r.hoverable=l[9]),i[0]&1024&&(r.disabled=l[10]),i[0]&8192&&(r.all=l[13]),i[0]&16384&&(r.first=l[14]),i[0]&32768&&(r.last=l[15]),i[0]&65536&&(r.rest=l[16]),i[0]&4096&&(r.pipstep=l[12]),i[0]&262144&&(r.prefix=l[18]),i[0]&524288&&(r.suffix=l[19]),i[0]&1048576&&(r.formatter=l[20]),i[0]&33554432&&(r.focus=l[25]),i[0]&16777216&&(r.percentOf=l[24]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function gh(e){let t,n,l,i,r,o,s=me(e[0]),a=[];for(let d=0;d<s.length;d+=1)a[d]=da(sa(e,s,d));let u=e[2]&&ca(e),f=e[11]&&ga(e);return{c(){t=b("div");for(let d=0;d<a.length;d+=1)a[d].c();n=k(),u&&u.c(),l=k(),f&&f.c(),this.h()},l(d){t=w(d,"DIV",{id:!0,class:!0});var g=S(t);for(let m=0;m<a.length;m+=1)a[m].l(g);n=R(g),u&&u.l(g),l=R(g),f&&f.l(g),g.forEach(p),this.h()},h(){h(t,"id",e[17]),h(t,"class","rangeSlider"),te(t,"range",e[2]),te(t,"disabled",e[10]),te(t,"hoverable",e[9]),te(t,"vertical",e[6]),te(t,"reversed",e[8]),te(t,"focus",e[25]),te(t,"min",e[2]==="min"),te(t,"max",e[2]==="max"),te(t,"pips",e[11]),te(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(d,g){A(d,t,g);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(t,null);c(t,n),u&&u.m(t,null),c(t,l),f&&f.m(t,null),e[51](t),i=!0,r||(o=[ie(window,"mousedown",e[40]),ie(window,"touchstart",e[40]),ie(window,"mousemove",e[41]),ie(window,"touchmove",e[41]),ie(window,"mouseup",e[42]),ie(window,"touchend",e[43]),ie(window,"keydown",e[44]),ie(t,"mousedown",e[38]),ie(t,"mouseup",e[39]),ie(t,"touchstart",gs(e[38])),ie(t,"touchend",gs(e[39]))],r=!0)},p(d,g){if(g[0]&1869350109|g[1]&112){s=me(d[0]);let m;for(m=0;m<s.length;m+=1){const _=sa(d,s,m);a[m]?a[m].p(_,g):(a[m]=da(_),a[m].c(),a[m].m(t,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=s.length}d[2]?u?u.p(d,g):(u=ca(d),u.c(),u.m(t,l)):u&&(u.d(1),u=null),d[11]?f?(f.p(d,g),g[0]&2048&&oe(f,1)):(f=ga(d),f.c(),oe(f,1),f.m(t,null)):f&&(qt(),ce(f,1,1,()=>{f=null}),Ut()),(!i||g[0]&131072)&&h(t,"id",d[17]),(!i||g[0]&4)&&te(t,"range",d[2]),(!i||g[0]&1024)&&te(t,"disabled",d[10]),(!i||g[0]&512)&&te(t,"hoverable",d[9]),(!i||g[0]&64)&&te(t,"vertical",d[6]),(!i||g[0]&256)&&te(t,"reversed",d[8]),(!i||g[0]&33554432)&&te(t,"focus",d[25]),(!i||g[0]&4)&&te(t,"min",d[2]==="min"),(!i||g[0]&4)&&te(t,"max",d[2]==="max"),(!i||g[0]&2048)&&te(t,"pips",d[11]),(!i||g[0]&122880)&&te(t,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(oe(f),i=!0)},o(d){ce(f),i=!1},d(d){d&&p(t),st(a,d),u&&u.d(),f&&f.d(),e[51](null),r=!1,Qt(o)}}}function ha(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function Ui(e){return e.type.includes("touch")?e.touches[0]||e.changedTouches[0]:e}function hh(e,t,n){let l,i,r,o,s,a,u=at,f=()=>(u(),u=Jf(Ye,I=>n(30,a=I)),Ye);e.$$.on_destroy.push(()=>u());let{slider:d=void 0}=t,{range:g=!1}=t,{pushy:m=!1}=t,{min:_=0}=t,{max:v=100}=t,{step:y=1}=t,{values:C=[(v+_)/2]}=t,{vertical:E=!1}=t,{float:P=!1}=t,{reversed:D=!1}=t,{hoverable:T=!0}=t,{disabled:M=!1}=t,{pips:U=!1}=t,{pipstep:V=void 0}=t,{all:B=void 0}=t,{first:z=void 0}=t,{last:N=void 0}=t,{rest:O=void 0}=t,{id:j=void 0}=t,{prefix:K=""}=t,{suffix:le=""}=t,{formatter:Ce=(I,ee,Ie)=>I}=t,{handleFormatter:ve=Ce}=t,{ariaLabels:q=[]}=t,{precision:pe=2}=t,{springValues:se={stiffness:.15,damping:.4}}=t;const be=Zf();let ye=0,ae=!1,F=!1,fe=!1,x=!1,Ee=C.length-1,we,Xe,Ye;const Ne=I=>parseFloat((+I).toFixed(pe));function de(I){const ee=d.querySelectorAll(".handle"),Ie=Array.prototype.includes.call(ee,I),X=Array.prototype.some.call(ee,Me=>Me.contains(I));return Ie||X}function dt(I){return g==="min"||g==="max"?I.slice(0,1):g?I.slice(0,2):I}function ze(){return d.getBoundingClientRect()}function Se(I){const ee=ze();let Ie=0,X=0,Me=0;E?(Ie=I.clientY-ee.top,X=Ie/ee.height*100,X=D?X:100-X):(Ie=I.clientX-ee.left,X=Ie/ee.width*100,X=D?100-X:X),Me=(v-_)/100*X+_;let ne;return g===!0&&C[0]===C[1]?Me>C[1]?1:0:(ne=C.indexOf([...C].sort((Ve,Le)=>Math.abs(Me-Ve)-Math.abs(Me-Le))[0]),ne)}function vt(I){const ee=ze();let Ie=0,X=0,Me=0;E?(Ie=I.clientY-ee.top,X=Ie/ee.height*100,X=D?X:100-X):(Ie=I.clientX-ee.left,X=Ie/ee.width*100,X=D?100-X:X),Me=(v-_)/100*X+_,J(Ee,Me)}function J(I,ee){return ee=r(ee),typeof I>"u"&&(I=Ee),g&&(I===0&&ee>C[1]?m?n(0,C[1]=ee,C):ee=C[1]:I===1&&ee<C[0]&&(m?n(0,C[0]=ee,C):ee=C[0])),C[I]!==ee&&n(0,C[I]=ee,C),Xe!==ee&&(it(),Xe=ee),ee}function he(I){return g==="min"?0:I[0]}function Q(I){return g==="max"?0:g==="min"?100-I[0]:100-I[1]}function ge(I){x&&(n(25,ae=!1),F=!1,n(26,fe=!1))}function Te(I){M||(n(27,Ee=ha(I.target)),n(25,ae=!0))}function _e(I){if(!M){const ee=ha(I.target);let Ie=I.ctrlKey||I.metaKey||I.shiftKey?y*10:y,X=!1;switch(I.key){case"PageDown":Ie*=10;case"ArrowRight":case"ArrowUp":J(ee,C[ee]+Ie),X=!0;break;case"PageUp":Ie*=10;case"ArrowLeft":case"ArrowDown":J(ee,C[ee]-Ie),X=!0;break;case"Home":J(ee,_),X=!0;break;case"End":J(ee,v),X=!0;break}X&&(I.preventDefault(),I.stopPropagation())}}function He(I){if(!M){const ee=I.target,Ie=Ui(I);n(25,ae=!0),F=!0,n(26,fe=!0),n(27,Ee=Se(Ie)),we=Xe=r(C[Ee]),tt(),I.type==="touchstart"&&!ee.matches(".pipVal")&&vt(Ie)}}function et(I){I.type==="touchend"&&Re(),n(26,fe=!1)}function wt(I){x=!1,ae&&I.target!==d&&!d.contains(I.target)&&n(25,ae=!1)}function Ke(I){M||F&&vt(Ui(I))}function ot(I){if(!M){const ee=I.target;F&&((ee===d||d.contains(ee))&&(n(25,ae=!0),!de(ee)&&!ee.matches(".pipVal")&&vt(Ui(I))),Re())}F=!1,n(26,fe=!1)}function ft(I){F=!1,n(26,fe=!1)}function Ae(I){M||(I.target===d||d.contains(I.target))&&(x=!0)}function tt(){!M&&be("start",{activeHandle:Ee,value:we,values:C.map(I=>r(I))})}function Re(){!M&&be("stop",{activeHandle:Ee,startValue:we,value:C[Ee],values:C.map(I=>r(I))})}function it(){!M&&be("change",{activeHandle:Ee,startValue:we,previousValue:typeof Xe>"u"?we:Xe,value:C[Ee],values:C.map(I=>r(I))})}function rt(I){ht[I?"unshift":"push"](()=>{d=I,n(1,d)})}return e.$$set=I=>{"slider"in I&&n(1,d=I.slider),"range"in I&&n(2,g=I.range),"pushy"in I&&n(45,m=I.pushy),"min"in I&&n(3,_=I.min),"max"in I&&n(4,v=I.max),"step"in I&&n(5,y=I.step),"values"in I&&n(0,C=I.values),"vertical"in I&&n(6,E=I.vertical),"float"in I&&n(7,P=I.float),"reversed"in I&&n(8,D=I.reversed),"hoverable"in I&&n(9,T=I.hoverable),"disabled"in I&&n(10,M=I.disabled),"pips"in I&&n(11,U=I.pips),"pipstep"in I&&n(12,V=I.pipstep),"all"in I&&n(13,B=I.all),"first"in I&&n(14,z=I.first),"last"in I&&n(15,N=I.last),"rest"in I&&n(16,O=I.rest),"id"in I&&n(17,j=I.id),"prefix"in I&&n(18,K=I.prefix),"suffix"in I&&n(19,le=I.suffix),"formatter"in I&&n(20,Ce=I.formatter),"handleFormatter"in I&&n(21,ve=I.handleFormatter),"ariaLabels"in I&&n(22,q=I.ariaLabels),"precision"in I&&n(46,pe=I.precision),"springValues"in I&&n(47,se=I.springValues)},e.$$.update=()=>{if(e.$$.dirty[0]&24&&n(50,i=function(I){return I<=_?_:I>=v?v:I}),e.$$.dirty[0]&56|e.$$.dirty[1]&524288&&n(49,r=function(I){if(I<=_)return Ne(_);if(I>=v)return Ne(v);I=Ne(I);let ee=(I-_)%y,Ie=I-ee;return Math.abs(ee)*2>=y&&(Ie+=ee>0?y:-y),Ie=i(Ie),Ne(Ie)}),e.$$.dirty[0]&24&&n(24,l=function(I){let ee=(I-_)/(v-_)*100;return isNaN(ee)||ee<=0?0:ee>=100?100:Ne(ee)}),e.$$.dirty[0]&29360153|e.$$.dirty[1]&458752){Array.isArray(C)||(n(0,C=[(v+_)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const I=dt(C.map(ee=>r(ee)));(C.length!==I.length||!C.every((ee,Ie)=>Ne(ee)===I[Ie]))&&n(0,C=I),ye!==C.length?f(n(23,Ye=uh(C.map(ee=>l(ee)),se))):Ye.set(C.map(ee=>l(ee))),n(48,ye=C.length),C.length>1&&!Array.isArray(q)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}e.$$.dirty[0]&320&&n(29,o=E?D?"top":"bottom":D?"right":"left"),e.$$.dirty[0]&320&&n(28,s=E?D?"bottom":"top":D?"left":"right")},[C,d,g,_,v,y,E,P,D,T,M,U,V,B,z,N,O,j,K,le,Ce,ve,q,Ye,l,ae,fe,Ee,s,o,a,Ne,J,he,Q,ge,Te,_e,He,et,wt,Ke,ot,ft,Ae,m,pe,se,ye,r,i,rt]}class Kt extends $t{constructor(t){super(),ln(this,t,hh,gh,nn,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function pa(e,t,n){const l=e.slice();return l[31]=t[n],l[33]=n,l}function _a(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function ma(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function va(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function ba(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function wa(e,t,n){const l=e.slice();return l[39]=t[n],l[33]=n,l}function ph(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),ue(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:at,d(l){l&&p(t)}}}function _h(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_,v,y=e[5]==="lollipop"&&Array.isArray(e[17])&&e[17].length>1,C,E=e[5]!=="lollipop"&&ya(e),P=me(e[13]),D=[];for(let O=0;O<P.length;O+=1)D[O]=Sa(wa(e,P,O));let T=me(e[6]),M=[];for(let O=0;O<T.length;O+=1)M[O]=ka(ba(e,T,O));let U=e[2]===!0&&Ra(e);function V(O,j){return O[5]==="lollipop"?vh:mh}let B=V(e),z=B(e),N=y&&Ma(e);return{c(){t=b("div"),n=qe("svg"),l=qe("g"),E&&E.c(),i=Oe();for(let O=0;O<D.length;O+=1)D[O].c();r=qe("g"),o=qe("path");for(let O=0;O<M.length;O+=1)M[O].c();U&&U.c(),u=qe("g"),z.c(),f=qe("g"),d=qe("text"),g=W(Fa),N&&N.c(),this.h()},l(O){t=w(O,"DIV",{id:!0});var j=S(t);n=Ue(j,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var K=S(n);l=Ue(K,"g",{});var le=S(l);E&&E.l(le),i=Oe();for(let se=0;se<D.length;se+=1)D[se].l(le);le.forEach(p),r=Ue(K,"g",{class:!0,transform:!0});var Ce=S(r);o=Ue(Ce,"path",{stroke:!0,d:!0}),S(o).forEach(p);for(let se=0;se<M.length;se+=1)M[se].l(Ce);Ce.forEach(p),U&&U.l(K),u=Ue(K,"g",{});var ve=S(u);z.l(ve),ve.forEach(p),f=Ue(K,"g",{});var q=S(f);d=Ue(q,"text",{"font-size":!0,"text-anchor":!0,"font-family":!0,x:!0,y:!0});var pe=S(d);g=Y(pe,Fa),pe.forEach(p),q.forEach(p),N&&N.l(K),K.forEach(p),j.forEach(p),this.h()},h(){h(o,"stroke","black"),h(o,"d",s="M 0 0 H "+(e[10][1]-e[10][0])+" V 0"),h(r,"class","x-axis"),h(r,"transform",a="translate("+e[10][0]+", "+e[8][0]+")"),h(d,"font-size",m=e[4]+"px"),h(d,"text-anchor","middle"),h(d,"font-family","Arial, Helvetica, sans-serif"),h(d,"x",_=e[10][0]+(e[10][1]-e[10][0])/2),h(d,"y",v=e[11]-7),h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",e[12]),h(n,"height",e[20]),h(n,"viewBox",C="0 0 "+e[12]+" "+e[20]),h(t,"id","mybarplot")},m(O,j){A(O,t,j),c(t,n),c(n,l),E&&E.m(l,null),c(l,i);for(let K=0;K<D.length;K+=1)D[K]&&D[K].m(l,null);c(n,r),c(r,o);for(let K=0;K<M.length;K+=1)M[K]&&M[K].m(r,null);U&&U.m(n,null),c(n,u),z.m(u,null),c(n,f),c(f,d),c(d,g),N&&N.m(n,null)},p(O,j){if(O[5]!=="lollipop"?E?E.p(O,j):(E=ya(O),E.c(),E.m(l,i)):E&&(E.d(1),E=null),j[0]&75272){P=me(O[13]);let K;for(K=0;K<P.length;K+=1){const le=wa(O,P,K);D[K]?D[K].p(le,j):(D[K]=Sa(le),D[K].c(),D[K].m(l,null))}for(;K<D.length;K+=1)D[K].d(1);D.length=P.length}if(j[0]&1024&&s!==(s="M 0 0 H "+(O[10][1]-O[10][0])+" V 0")&&h(o,"d",s),j[0]&1224){T=me(O[6]);let K;for(K=0;K<T.length;K+=1){const le=ba(O,T,K);M[K]?M[K].p(le,j):(M[K]=ka(le),M[K].c(),M[K].m(r,null))}for(;K<M.length;K+=1)M[K].d(1);M.length=T.length}j[0]&1280&&a!==(a="translate("+O[10][0]+", "+O[8][0]+")")&&h(r,"transform",a),O[2]===!0?U?U.p(O,j):(U=Ra(O),U.c(),U.m(n,u)):U&&(U.d(1),U=null),B===(B=V(O))&&z?z.p(O,j):(z.d(1),z=B(O),z&&(z.c(),z.m(u,null))),j[0]&16&&m!==(m=O[4]+"px")&&h(d,"font-size",m),j[0]&1024&&_!==(_=O[10][0]+(O[10][1]-O[10][0])/2)&&h(d,"x",_),j[0]&2048&&v!==(v=O[11]-7)&&h(d,"y",v),j[0]&131104&&(y=O[5]==="lollipop"&&Array.isArray(O[17])&&O[17].length>1),y?N?N.p(O,j):(N=Ma(O),N.c(),N.m(n,null)):N&&(N.d(1),N=null),j[0]&4096&&h(n,"width",O[12]),j[0]&1048576&&h(n,"height",O[20]),j[0]&1052672&&C!==(C="0 0 "+O[12]+" "+O[20])&&h(n,"viewBox",C)},d(O){O&&p(t),E&&E.d(),st(D,O),st(M,O),U&&U.d(),z.d(),N&&N.d()}}}function ya(e){let t,n;return{c(){t=qe("path"),this.h()},l(l){t=Ue(l,"path",{stroke:!0,d:!0}),S(t).forEach(p),this.h()},h(){h(t,"stroke","black"),h(t,"d",n="M "+e[10][0]+" "+e[8][0]+" H "+e[10][0]+" V "+e[8][1])},m(l,i){A(l,t,i)},p(l,i){i[0]&1280&&n!==(n="M "+l[10][0]+" "+l[8][0]+" H "+l[10][0]+" V "+l[8][1])&&h(t,"d",n)},d(l){l&&p(t)}}}function Sa(e){let t,n,l=e[9][e[33]]+"",i,r,o,s;return{c(){t=qe("g"),n=qe("text"),i=W(l),this.h()},l(a){t=Ue(a,"g",{});var u=S(t);n=Ue(u,"text",{"font-size":!0,"text-anchor":!0,"font-family":!0,x:!0,y:!0});var f=S(n);i=Y(f,l),f.forEach(p),u.forEach(p),this.h()},h(){h(n,"font-size",r=e[3]+"px"),h(n,"text-anchor","end"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"x",o=e[10][0]+-1*Oa),h(n,"y",s=e[16](e[13][e[33]])+e[16].bandwidth()/2+Ga)},m(a,u){A(a,t,u),c(t,n),c(n,i)},p(a,u){u[0]&512&&l!==(l=a[9][a[33]]+"")&&De(i,l),u[0]&8&&r!==(r=a[3]+"px")&&h(n,"font-size",r),u[0]&1024&&o!==(o=a[10][0]+-1*Oa)&&h(n,"x",o),u[0]&73728&&s!==(s=a[16](a[13][a[33]])+a[16].bandwidth()/2+Ga)&&h(n,"y",s)},d(a){a&&p(t)}}}function Ca(e){let t,n,l=e[34]+"",i,r,o;return{c(){t=qe("g"),n=qe("text"),i=W(l),this.h()},l(s){t=Ue(s,"g",{});var a=S(t);n=Ue(a,"text",{"font-size":!0,"text-anchor":!0,"font-family":!0,x:!0,y:!0});var u=S(n);i=Y(u,l),u.forEach(p),a.forEach(p),this.h()},h(){h(n,"font-size",r=e[3]+"px"),h(n,"text-anchor","middle"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"x",o=e[7](e[34])-e[10][0]),h(n,"y",yh)},m(s,a){A(s,t,a),c(t,n),c(n,i)},p(s,a){a[0]&64&&l!==(l=s[34]+"")&&De(i,l),a[0]&8&&r!==(r=s[3]+"px")&&h(n,"font-size",r),a[0]&1216&&o!==(o=s[7](s[34])-s[10][0])&&h(n,"x",o)},d(s){s&&p(t)}}}function ka(e){let t=e[7](e[34])+10<e[10][1],n,l=t&&Ca(e);return{c(){l&&l.c(),n=Oe()},l(i){l&&l.l(i),n=Oe()},m(i,r){l&&l.m(i,r),A(i,n,r)},p(i,r){r[0]&1216&&(t=i[7](i[34])+10<i[10][1]),t?l?l.p(i,r):(l=Ca(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){i&&p(n),l&&l.d(i)}}}function Ra(e){let t,n=me(e[15]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Ea(va(e,n,i));return{c(){t=qe("g");for(let i=0;i<l.length;i+=1)l[i].c()},l(i){t=Ue(i,"g",{});var r=S(t);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(p)},m(i,r){A(i,t,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null)},p(i,r){if(r[0]&106912){n=me(i[15]);let o;for(o=0;o<n.length;o+=1){const s=va(i,n,o);l[o]?l[o].p(s,r):(l[o]=Ea(s),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function Ea(e){let t,n;return{c(){t=qe("path"),this.h()},l(l){t=Ue(l,"path",{stroke:!0,"stroke-dasharray":!0,d:!0}),S(t).forEach(p),this.h()},h(){h(t,"stroke","grey"),h(t,"stroke-dasharray",e[33]===0?0:5),h(t,"d",n="M "+e[7](e[34])+" "+e[8][0]+" V "+(e[16](e[13][e[13].length-1])+(e[5]==="lollipop"?e[16].bandwidth()/2:0)))},m(l,i){A(l,t,i)},p(l,i){i[0]&106912&&n!==(n="M "+l[7](l[34])+" "+l[8][0]+" V "+(l[16](l[13][l[13].length-1])+(l[5]==="lollipop"?l[16].bandwidth()/2:0)))&&h(t,"d",n)},d(l){l&&p(t)}}}function mh(e){let t,n=me(e[14]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Aa(_a(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=Oe()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=Oe()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r[0]&615554){n=me(i[14]);let o;for(o=0;o<n.length;o+=1){const s=_a(i,n,o);l[o]?l[o].p(s,r):(l[o]=Aa(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function vh(e){let t,n=me(e[14]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Ia(ma(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=Oe()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=Oe()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r[0]&877698){n=me(i[14]);let o;for(o=0;o<n.length;o+=1){const s=ma(i,n,o);l[o]?l[o].p(s,r):(l[o]=Ia(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function Aa(e){let t,n,l,i,r,o;return{c(){t=qe("rect"),this.h()},l(s){t=Ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),S(t).forEach(p),this.h()},h(){h(t,"x",n=e[10][0]+5),h(t,"y",l=e[16](e[13][e[33]])),h(t,"width",i=e[7](e[34])-e[10][0]-5),h(t,"height",r=e[16].bandwidth()),h(t,"fill",o=e[1][e[19][e[33]]]||"#000000")},m(s,a){A(s,t,a)},p(s,a){a[0]&1024&&n!==(n=s[10][0]+5)&&h(t,"x",n),a[0]&73728&&l!==(l=s[16](s[13][s[33]]))&&h(t,"y",l),a[0]&17536&&i!==(i=s[7](s[34])-s[10][0]-5)&&h(t,"width",i),a[0]&65536&&r!==(r=s[16].bandwidth())&&h(t,"height",r),a[0]&524290&&o!==(o=s[1][s[19][s[33]]]||"#000000")&&h(t,"fill",o)},d(s){s&&p(t)}}}function Ia(e){let t,n,l,i,r,o,s;return{c(){t=qe("path"),l=qe("circle"),this.h()},l(a){t=Ue(a,"path",{stroke:!0,"shape-rendering":!0,"stroke-width":!0,"stroke-miterlimit":!0,d:!0}),S(t).forEach(p),l=Ue(a,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),S(l).forEach(p),this.h()},h(){h(t,"stroke","black"),h(t,"shape-rendering","crispEdges"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"d",n="M "+e[10][0]+" "+(e[16](e[13][e[33]])+e[16].bandwidth()/2)+" H "+e[7](e[34])+" V "+(e[16](e[13][e[33]])+e[16].bandwidth()/2)),h(l,"cx",i=e[7](e[34])),h(l,"cy",r=e[16](e[13][e[33]])+e[16].bandwidth()/2),h(l,"fill",o=e[1][e[19][e[33]]]||"#000000"),h(l,"r",s=e[18][e[33]])},m(a,u){A(a,t,u),A(a,l,u)},p(a,u){u[0]&91264&&n!==(n="M "+a[10][0]+" "+(a[16](a[13][a[33]])+a[16].bandwidth()/2)+" H "+a[7](a[34])+" V "+(a[16](a[13][a[33]])+a[16].bandwidth()/2))&&h(t,"d",n),u[0]&16512&&i!==(i=a[7](a[34]))&&h(l,"cx",i),u[0]&73728&&r!==(r=a[16](a[13][a[33]])+a[16].bandwidth()/2)&&h(l,"cy",r),u[0]&524290&&o!==(o=a[1][a[19][a[33]]]||"#000000")&&h(l,"fill",o),u[0]&262144&&s!==(s=a[18][a[33]])&&h(l,"r",s)},d(a){a&&(p(t),p(l))}}}function Ma(e){let t,n,l,i,r,o,s=me(e[17]),a=[];for(let u=0;u<s.length;u+=1)a[u]=Da(pa(e,s,u));return{c(){t=qe("g"),n=qe("text"),l=W(`Geneset size:\r
					`);for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){t=Ue(u,"g",{});var f=S(t);n=Ue(f,"text",{"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,x:!0,y:!0});var d=S(n);l=Y(d,`Geneset size:\r
					`),d.forEach(p);for(let g=0;g<a.length;g+=1)a[g].l(f);f.forEach(p),this.h()},h(){h(n,"font-size",i=e[3]+"px"),h(n,"text-anchor","end"),h(n,"dominant-baseline","middle"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"x",r=e[10][1]-e[17][e[17].length-1].xEnd-e[17][0].radius-e[3]/2),h(n,"y",o=e[11]+e[4])},m(u,f){A(u,t,f),c(t,n),c(n,l);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(t,null)},p(u,f){if(f[0]&8&&i!==(i=u[3]+"px")&&h(n,"font-size",i),f[0]&132104&&r!==(r=u[10][1]-u[17][u[17].length-1].xEnd-u[17][0].radius-u[3]/2)&&h(n,"x",r),f[0]&2064&&o!==(o=u[11]+u[4])&&h(n,"y",o),f[0]&134168){s=me(u[17]);let d;for(d=0;d<s.length;d+=1){const g=pa(u,s,d);a[d]?a[d].p(g,f):(a[d]=Da(g),a[d].c(),a[d].m(t,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=s.length}},d(u){u&&p(t),st(a,u)}}}function Da(e){let t,n,l,i,r,o=e[31].label+"",s,a,u,f;return{c(){t=qe("circle"),r=qe("text"),s=W(o),this.h()},l(d){t=Ue(d,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),S(t).forEach(p),r=Ue(d,"text",{"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,x:!0,y:!0});var g=S(r);s=Y(g,o),g.forEach(p),this.h()},h(){h(t,"cx",n=e[10][1]-e[17][e[17].length-1].xEnd+e[31].x),h(t,"cy",l=e[11]+e[4]-2),h(t,"fill","#666666"),h(t,"r",i=e[31].radius),h(r,"font-size",a=e[3]+"px"),h(r,"text-anchor","begin"),h(r,"dominant-baseline","middle"),h(r,"font-family","Arial, Helvetica, sans-serif"),h(r,"x",u=e[10][1]-e[17][e[17].length-1].xEnd+e[31].xText),h(r,"y",f=e[11]+e[4])},m(d,g){A(d,t,g),A(d,r,g),c(r,s)},p(d,g){g[0]&132096&&n!==(n=d[10][1]-d[17][d[17].length-1].xEnd+d[31].x)&&h(t,"cx",n),g[0]&2064&&l!==(l=d[11]+d[4]-2)&&h(t,"cy",l),g[0]&131072&&i!==(i=d[31].radius)&&h(t,"r",i),g[0]&131072&&o!==(o=d[31].label+"")&&De(s,o),g[0]&8&&a!==(a=d[3]+"px")&&h(r,"font-size",a),g[0]&132096&&u!==(u=d[10][1]-d[17][d[17].length-1].xEnd+d[31].xText)&&h(r,"x",u),g[0]&2064&&f!==(f=d[11]+d[4])&&h(r,"y",f)},d(d){d&&(p(t),p(r))}}}function bh(e){let t,n;function l(o,s){return s[0]&1&&(t=null),t==null&&(t=!!(Array.isArray(o[0])&&o[0].length>0)),t?_h:ph}let i=l(e,[-1,-1]),r=i(e);return{c(){r.c(),n=Oe()},l(o){r.l(o),n=Oe()},m(o,s){r.m(o,s),A(o,n,s)},p(o,s){i===(i=l(o,s))&&r?r.p(o,s):(r.d(1),r=i(o),r&&(r.c(),r.m(n.parentNode,n)))},i:at,o:at,d(o){o&&p(n),r.d(o)}}}const Ta=20,Va=40,Pa=50,za=500,wh=.2,Fa="-log10 adjusted p-value",Ga=4,Oa=5,yh=20,Sh=100;function Ch(e,t,n){let l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,E,P;function D(q,pe,se,be,ye,ae){let F=gf(0,pe,se).filter(we=>we>q);F.unshift(q);const fe=F.map(we=>({label:we,radius:ve(we,be,ae),labelWidth:bi(we,ye+"px sans-serif"),x:0,xText:0})),x=fe.length;let Ee=0;for(let we=0;we<x;we++)fe[we].x=Math.round(Ee),Ee+=fe[we].radius+Math.max(4,ae/6),fe[we].xText=Math.round(Ee),Ee+=fe[we].labelWidth+Math.max(8,ae/2)+(we!==x-1?fe[we].radius:0),fe[we].xEnd=Ee;return fe}let{selectedSourceIndex:T=0}=t,{barplotData:M=[]}=t,{maxGenesetSize:U=100}=t,{colors:V={}}=t,{widthPlotArea:B=300}=t,{xScalefactor:z=5}=t,{showGrid:N=!0}=t,{barHeight:O=20}=t,{textSize:j=16}=t,{labelSize:K=22}=t,{topn:le=0}=t,{barplotType:Ce="lollipop"}=t;const ve=(q,pe,se)=>se/2*(Math.sqrt(q-10)/Math.sqrt(pe-10)*.8+.4);return e.$$set=q=>{"selectedSourceIndex"in q&&n(21,T=q.selectedSourceIndex),"barplotData"in q&&n(0,M=q.barplotData),"maxGenesetSize"in q&&n(22,U=q.maxGenesetSize),"colors"in q&&n(1,V=q.colors),"widthPlotArea"in q&&n(23,B=q.widthPlotArea),"xScalefactor"in q&&n(24,z=q.xScalefactor),"showGrid"in q&&n(2,N=q.showGrid),"barHeight"in q&&n(25,O=q.barHeight),"textSize"in q&&n(3,j=q.textSize),"labelSize"in q&&n(4,K=q.labelSize),"topn"in q&&n(26,le=q.topn),"barplotType"in q&&n(5,Ce=q.barplotType)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&n(12,l=B+za+Va),e.$$.dirty[0]&33554433&&n(11,i=Pa+Ta+M.length*O),e.$$.dirty[0]&2080&&n(20,r=i+(Ce==="lollipop"?Sh:0)),e.$$.dirty[0]&1&&n(28,o=M),e.$$.dirty[0]&268435456&&n(14,s=o.map(q=>q.value)),e.$$.dirty[0]&268435456&&n(13,a=o.map(q=>q.name)),e.$$.dirty[0]&268435456&&n(19,u=o.map(q=>q.score_type)),e.$$.dirty[0]&306184192&&n(18,f=o.map(q=>ve(q.ngenes,U,O))),e.$$.dirty[0]&37748744&&n(17,d=D(10,U,5,U,j,O)),e.$$.dirty[0]&16384&&n(27,g=[0,Math.max(...s)]),e.$$.dirty[0]&8192&&n(9,m=a),e.$$.dirty[0]&4096&&n(10,_=[za,l-Va]),e.$$.dirty[0]&2048&&n(8,v=[i-Pa,Ta]),e.$$.dirty[0]&134218752&&n(7,y=yf(g,_).nice()),e.$$.dirty[0]&768&&n(16,C=wf(m,v).padding(wh)),e.$$.dirty[0]&16777344&&n(6,E=y.ticks(z)),e.$$.dirty[0]&134217792&&n(15,P=E.filter(q=>q<g[1]*.9))},[M,V,N,j,K,Ce,E,y,v,m,_,i,l,a,s,P,C,d,f,u,r,T,U,B,z,O,le,g,o]}class kh extends $t{constructor(t){super(),ln(this,t,Ch,bh,nn,{selectedSourceIndex:21,barplotData:0,maxGenesetSize:22,colors:1,widthPlotArea:23,xScalefactor:24,showGrid:2,barHeight:25,textSize:3,labelSize:4,topn:26,barplotType:5},null,[-1,-1])}}function Ha(e,t,n){const l=e.slice();return l[17]=t[n],l[19]=n,l}function La(e,t,n){const l=e.slice();return l[20]=t[n],l[22]=n,l}function Na(e){let t,n,l,i,r,o=me(e[6]),s=[];for(let a=0;a<o.length;a+=1)s[a]=ja(Ha(e,o,a));return{c(){t=b("div"),n=b("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){t=w(a,"DIV",{class:!0});var u=S(t);n=w(u,"DIV",{class:!0});var f=S(n);for(let d=0;d<s.length;d+=1)s[d].l(f);f.forEach(p),u.forEach(p),this.h()},h(){h(n,"class","values-dropdown-grid svelte-1cqee7o"),h(t,"class","values-dropdown svelte-1cqee7o"),Jn(()=>e[16].call(t)),te(t,"top",e[2])},m(a,u){A(a,t,u),c(t,n);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null);l=of(t,e[16].bind(t)),i||(r=[Qf(ld.call(null,t)),ie(t,"click_outside",e[9])],i=!0)},p(a,u){if(u&1089){o=me(a[6]);let f;for(f=0;f<o.length;f+=1){const d=Ha(a,o,f);s[f]?s[f].p(d,u):(s[f]=ja(d),s[f].c(),s[f].m(n,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}u&4&&te(t,"top",a[2])},d(a){a&&p(t),st(s,a),l(),i=!1,Qt(r)}}}function Ba(e){let t,n,l;function i(){return e[15](e[20])}return{c(){t=b("button"),this.h()},l(r){t=w(r,"BUTTON",{style:!0,class:!0});var o=S(t);o.forEach(p),this.h()},h(){G(t,"background",e[20]),h(t,"class","color-block svelte-1cqee7o"),te(t,"active",e[20]==e[0])},m(r,o){A(r,t,o),n||(l=ie(t,"click",i),n=!0)},p(r,o){e=r,o&65&&te(t,"active",e[20]==e[0])},d(r){r&&p(t),n=!1,l()}}}function ja(e){let t,n=me(e[17]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Ba(La(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=Oe()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=Oe()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r&1089){n=me(i[17]);let o;for(o=0;o<n.length;o+=1){const s=La(i,n,o);l[o]?l[o].p(s,r):(l[o]=Ba(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function Rh(e){let t,n,l,i,r,o,s,a,u,f,d,g,m;Jn(e[11]);let _=e[3]&&Na(e);return{c(){t=b("div"),n=b("div"),l=b("button"),i=b("div"),r=b("div"),o=k(),s=b("div"),u=k(),f=b("input"),d=k(),_&&_.c(),this.h()},l(v){t=w(v,"DIV",{class:!0});var y=S(t);n=w(y,"DIV",{class:!0});var C=S(n);l=w(C,"BUTTON",{class:!0});var E=S(l);i=w(E,"DIV",{style:!0});var P=S(i);r=w(P,"DIV",{style:!0,class:!0}),S(r).forEach(p),o=R(P),s=w(P,"DIV",{class:!0,style:!0}),S(s).forEach(p),P.forEach(p),E.forEach(p),u=R(C),f=w(C,"INPUT",{type:!0,class:!0}),C.forEach(p),d=R(y),_&&_.l(y),y.forEach(p),this.h()},h(){G(r,"background",e[0]),h(r,"class","color-block svelte-1cqee7o"),h(s,"class","caret svelte-1cqee7o"),G(s,"margin-right",".2rem"),te(s,"top",e[2]),G(i,"display","flex"),h(l,"class","select-color svelte-1cqee7o"),Jn(()=>e[12].call(l)),te(l,"fake-focus",e[3]),h(f,"type","text"),h(f,"class","svelte-1cqee7o"),h(n,"class","color-picker-inner svelte-1cqee7o"),h(t,"class","color-picker-holder svelte-1cqee7o")},m(v,y){A(v,t,y),c(t,n),c(n,l),c(l,i),c(i,r),c(i,o),c(i,s),a=of(l,e[12].bind(l)),c(n,u),c(n,f),Yt(f,e[0]),c(t,d),_&&_.m(t,null),g||(m=[ie(window,"keydown",e[7]),ie(window,"resize",e[11]),ie(l,"click",e[13]),ie(f,"input",e[14])],g=!0)},p(v,[y]){y&1&&G(r,"background",v[0]),y&4&&te(s,"top",v[2]),y&8&&te(l,"fake-focus",v[3]),y&1&&f.value!==v[0]&&Yt(f,v[0]),v[3]?_?_.p(v,y):(_=Na(v),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},i:at,o:at,d(v){v&&p(t),a(),_&&_.d(),g=!1,Qt(m)}}}let Eh="Escape";function Ah(e,t,n){let l=[["#CFD8DC","#BCAAA4","#DAAFE9","#C7DBF5","#B0EDC3","#EF9A9A","#F8D6A2"],["#B0BEC5","#A1887F","#C47ADA","#AAD5FB","#73DE8C","#E57373","#F5B969"],["#78909C","#8D6E63","#AE44B7","#75BAFA","#63B75A","#F44336","#EC9740"],["#455A64","#6D4C41","#9C27B0","#5E7ABC","#388E3C","#FF1744","#F57F17"],["#000000","#4E342E","#501B87","#0C2794","#2F6A52","#D50000","#AD6127"]],{value:i=l[0][0]}=t,r,o,s=!1,a=158,u;function f(D){D.key==Eh&&n(3,s=!1)}async function d(D){D.clientY+u<a||r-a-u-D.clientY>0?n(2,o=!1):n(2,o=!0),n(3,s=!s),await $f()}function g(){n(3,s=!1)}function m(D){n(0,i=D),n(3,s=!1)}function _(){n(1,r=window.innerHeight)}function v(){u=this.clientHeight,n(5,u)}const y=D=>d(D);function C(){i=this.value,n(0,i)}const E=D=>{m(D)};function P(){a=this.clientHeight,n(4,a)}return e.$$set=D=>{"value"in D&&n(0,i=D.value)},[i,r,o,s,a,u,l,f,d,g,m,_,v,y,C,E,P]}class tr extends $t{constructor(t){super(),ln(this,t,Ah,Rh,nn,{value:0})}}const bn={DOWNLOAD:`Click to download the current figure as a ZIP file.

Included are both an SVG file (vector graphics, open with Adobe Illustrator or Google Chrome) and a PNG file (raster graphic, low resolution)`,BARPLOT_TOPN:"Limit the results shown to the top N gene sets (sorted by p-value, most significant hits on top)",BARPLOT_COLOR_PVAL:"Color for (all) gene sets",BARPLOT_COLOR_ESUP:"Color for gene sets that are enriched in gene constituents that have a positive effect size in your dataset / input gene list",BARPLOT_COLOR_ESDOWN:"Color for gene sets that are enriched in gene constituents that have a negative effect size in your dataset / input gene list",BARPLOT_COLOR_ESABS:"Color for (all) gene sets",TREEMAP_SIMPLIFY:`Optionally, show only a subset of genesets in the treemap.

Only leafs: show only genesets that do not have a (indirect) parent term that is also among significant genesets
(note that the 'minimal tree view' @ TREE can mislead; it only shows 1 parent term per child while the full DAG may have more links).

Prune singletons: very basic simplification that only removes parent terms that have exactly 1 (indirect) child among the set of significant genesets.`,TREEMAP_LABELS:`The labels shown on each tile. Options:
ID = abbreviated gene set identifier. e.g. for GO, an ID like 'GO:00000123' would be abbreviated to '123'
1 name per branch = show only the name for 1 representative gene set per parent term (1 tile per color)
parent name = show only names for the parent gene set for each group of tiles / gene sets`,HEATMAP_SCORETYPE:`Show a color-coded sidebar on the left y-axis that depics the up/down-regulation of respective genesets.

blue = effectsize down
red = effectsize up

only available for analyses analyzed with scoretype='effectsize' (i.e. GOAT specifically tested for both up- and down-regulation)`,HEATMAP_SYMMETRIC:"HELP TEXT HERE"};function qa(e,t,n){const l=e.slice();return l[39]=t[n],l}function Ua(e){let t,n=e[39].label+"",l,i,r;return{c(){t=b("option"),l=W(n),i=k(),this.h()},l(o){t=w(o,"OPTION",{});var s=S(t);l=Y(s,n),i=R(s),s.forEach(p),this.h()},h(){t.__value=r=e[39].key,Yt(t,t.__value)},m(o,s){A(o,t,s),c(t,l),c(t,i)},p(o,s){s[0]&65536&&n!==(n=o[39].label+"")&&De(l,n),s[0]&65536&&r!==(r=o[39].key)&&(t.__value=r,Yt(t,t.__value))},d(o){o&&p(t)}}}function Xa(e){let t,n,l,i,r,o,s;function a(f){e[32](f)}let u={};return e[2]!==void 0&&(u.value=e[2]),r=new tr({props:u}),ht.push(()=>mt(r,"value",a)),{c(){t=b("div"),n=W("Color: "),l=b("i"),i=k(),Je(r.$$.fragment),this.h()},l(f){t=w(f,"DIV",{style:!0});var d=S(t);n=Y(d,"Color: "),l=w(d,"I",{class:!0,style:!0,"data-tooltip":!0}),S(l).forEach(p),i=R(d),xe(r.$$.fragment,d),d.forEach(p),this.h()},h(){h(l,"class","helpicon"),G(l,"margin-left","2px"),G(l,"float","right"),h(l,"data-tooltip",bn.BARPLOT_COLOR_PVAL),G(t,"margin-left","50px"),G(t,"display","inline-block")},m(f,d){A(f,t,d),c(t,n),c(t,l),c(t,i),Qe(r,t,null),s=!0},p(f,d){const g={};!o&&d[0]&4&&(o=!0,g.value=f[2],_t(()=>o=!1)),r.$set(g)},i(f){s||(oe(r.$$.fragment,f),s=!0)},o(f){ce(r.$$.fragment,f),s=!1},d(f){f&&p(t),$e(r)}}}function Wa(e){let t,n,l,i,r,o,s;function a(f){e[33](f)}let u={};return e[3]!==void 0&&(u.value=e[3]),r=new tr({props:u}),ht.push(()=>mt(r,"value",a)),{c(){t=b("div"),n=W("Color for 'effect size up': "),l=b("i"),i=k(),Je(r.$$.fragment),this.h()},l(f){t=w(f,"DIV",{style:!0});var d=S(t);n=Y(d,"Color for 'effect size up': "),l=w(d,"I",{class:!0,style:!0,"data-tooltip":!0}),S(l).forEach(p),i=R(d),xe(r.$$.fragment,d),d.forEach(p),this.h()},h(){h(l,"class","helpicon"),G(l,"margin-left","2px"),G(l,"float","right"),h(l,"data-tooltip",bn.BARPLOT_COLOR_ESUP),G(t,"margin-left","50px"),G(t,"display","inline-block")},m(f,d){A(f,t,d),c(t,n),c(t,l),c(t,i),Qe(r,t,null),s=!0},p(f,d){const g={};!o&&d[0]&8&&(o=!0,g.value=f[3],_t(()=>o=!1)),r.$set(g)},i(f){s||(oe(r.$$.fragment,f),s=!0)},o(f){ce(r.$$.fragment,f),s=!1},d(f){f&&p(t),$e(r)}}}function Ya(e){let t,n,l,i,r,o,s;function a(f){e[34](f)}let u={};return e[4]!==void 0&&(u.value=e[4]),r=new tr({props:u}),ht.push(()=>mt(r,"value",a)),{c(){t=b("div"),n=W("Color for 'effect size down': "),l=b("i"),i=k(),Je(r.$$.fragment),this.h()},l(f){t=w(f,"DIV",{style:!0});var d=S(t);n=Y(d,"Color for 'effect size down': "),l=w(d,"I",{class:!0,style:!0,"data-tooltip":!0}),S(l).forEach(p),i=R(d),xe(r.$$.fragment,d),d.forEach(p),this.h()},h(){h(l,"class","helpicon"),G(l,"margin-left","2px"),G(l,"float","right"),h(l,"data-tooltip",bn.BARPLOT_COLOR_ESDOWN),G(t,"margin-left","50px"),G(t,"display","inline-block")},m(f,d){A(f,t,d),c(t,n),c(t,l),c(t,i),Qe(r,t,null),s=!0},p(f,d){const g={};!o&&d[0]&16&&(o=!0,g.value=f[4],_t(()=>o=!1)),r.$set(g)},i(f){s||(oe(r.$$.fragment,f),s=!0)},o(f){ce(r.$$.fragment,f),s=!1},d(f){f&&p(t),$e(r)}}}function Ka(e){let t,n,l,i,r,o,s;function a(f){e[35](f)}let u={};return e[5]!==void 0&&(u.value=e[5]),r=new tr({props:u}),ht.push(()=>mt(r,"value",a)),{c(){t=b("div"),n=W("Color for 'effect size abs': "),l=b("i"),i=k(),Je(r.$$.fragment),this.h()},l(f){t=w(f,"DIV",{style:!0});var d=S(t);n=Y(d,"Color for 'effect size abs': "),l=w(d,"I",{class:!0,style:!0,"data-tooltip":!0}),S(l).forEach(p),i=R(d),xe(r.$$.fragment,d),d.forEach(p),this.h()},h(){h(l,"class","helpicon"),G(l,"margin-left","2px"),G(l,"float","right"),h(l,"data-tooltip",bn.BARPLOT_COLOR_ESABS),G(t,"margin-left","50px"),G(t,"display","inline-block")},m(f,d){A(f,t,d),c(t,n),c(t,l),c(t,i),Qe(r,t,null),s=!0},p(f,d){const g={};!o&&d[0]&32&&(o=!0,g.value=f[5],_t(()=>o=!1)),r.$set(g)},i(f){s||(oe(r.$$.fragment,f),s=!0)},o(f){ce(r.$$.fragment,f),s=!1},d(f){f&&p(t),$e(r)}}}function Ih(e){let t,n,l=`Use the interactive tool below to create a customized barplot visualization of significant gene sets. Hover your mouse\r
		cursor over the question mark symbols for further details.`,i,r,o,s,a,u,f,d,g,m="Barplot",_,v,y,C,E,P,D="Lollipop chart",T,M,U,V,B,z,N,O,j,K,le,Ce,ve,q,pe,se,be,ye,ae,F,fe,x,Ee,we,Xe=e[1][0]+"",Ye,Ne,de,dt,ze,Se,vt,J,he,Q,ge,Te,_e,He,et,wt,Ke,ot,ft,Ae,tt,Re,it,rt="download",I,ee,Ie,X,Me,ne=`Limit to topN:
					<i class="helpicon" style="margin-left: 2px; float: right;" data-tooltip="${bn.BARPLOT_TOPN}"></i>`,Ve,Le,nt,L,Z,We=e[18].has("pvalue"),Be,$=e[18].has("effectsize_up"),ke,Pe=e[18].has("effectsize_down"),ut,St=e[18].has("effectsize_abs"),bt,ct,lt,Rt="Grid:",Nt,Zt,zt,fn,Mt,xt,Dt,Tn,Ft;function ei(re){e[24](re)}let kl={min:100,max:600,step:25,pipstep:5,pips:!0,first:"label",last:"label",rest:"pip"};e[9]!==void 0&&(kl.values=e[9]),z=new Kt({props:kl}),ht.push(()=>mt(z,"values",ei));function Qn(re){e[25](re)}let ti={min:10,max:30,step:1,pipstep:5,pips:!0,first:"label",last:"label",rest:"pip"};e[10]!==void 0&&(ti.values=e[10]),ve=new Kt({props:ti}),ht.push(()=>mt(ve,"values",Qn));function ni(re){e[26](re)}let Vn={min:3,max:8,step:1,pipstep:1,pips:!0,first:"label",last:"label",rest:"pip"};e[11]!==void 0&&(Vn.values=e[11]),F=new Kt({props:Vn}),ht.push(()=>mt(F,"values",ni));function wi(re){e[27](re)}let Rl={min:20,max:100,step:1,pipstep:10,pips:!0,first:"label",last:"label",rest:"pip"};e[1]!==void 0&&(Rl.values=e[1]),de=new Kt({props:Rl}),ht.push(()=>mt(de,"values",wi));function wn(re){e[28](re)}let dn={min:10,max:25,step:1,pipstep:3,pips:!0,first:"label",last:"label",rest:"pip"};e[12]!==void 0&&(dn.values=e[12]),Q=new Kt({props:dn}),ht.push(()=>mt(Q,"values",wn));function rn(re){e[29](re)}let El={min:10,max:25,step:1,pipstep:3,pips:!0,first:"label",last:"label",rest:"pip"};e[13]!==void 0&&(El.values=e[13]),Ke=new Kt({props:El}),ht.push(()=>mt(Ke,"values",rn));let yn=me(e[16]),Vt=[];for(let re=0;re<yn.length;re+=1)Vt[re]=Ua(qa(e,yn,re));let pt=We&&Xa(e),Et=$&&Wa(e),At=Pe&&Ya(e),Ct=St&&Ka(e);return xt=new kh({props:{selectedSourceIndex:e[0],barplotData:e[6],maxGenesetSize:e[15],barplotType:e[8],colors:e[17],widthPlotArea:e[9][0],xScalefactor:e[11][0],showGrid:e[14],barHeight:e[10][0],textSize:e[12][0],labelSize:e[13][0],topn:e[20]}}),{c(){t=b("div"),n=b("div"),n.textContent=l,i=k(),r=b("div"),o=b("div"),s=b("div"),a=b("div"),u=b("input"),d=k(),g=b("label"),g.textContent=m,_=k(),v=b("div"),y=b("input"),E=k(),P=b("label"),P.textContent=D,T=k(),M=b("div"),U=W("Plot width: "),V=W(e[9]),B=k(),Je(z.$$.fragment),O=k(),j=b("div"),K=W("Row height: "),le=W(e[10]),Ce=k(),Je(ve.$$.fragment),pe=k(),se=b("div"),be=W("X-axis ticks: "),ye=W(e[11]),ae=k(),Je(F.$$.fragment),x=k(),Ee=b("div"),we=W("Max. text length: "),Ye=W(Xe),Ne=k(),Je(de.$$.fragment),ze=k(),Se=b("div"),vt=W("Geneset name size: "),J=W(e[12]),he=k(),Je(Q.$$.fragment),Te=k(),_e=b("div"),He=W("X-axis label size: "),et=W(e[13]),wt=k(),Je(Ke.$$.fragment),ft=k(),Ae=b("div"),tt=b("div"),Re=b("div"),it=b("button"),it.textContent=rt,I=k(),ee=b("i"),Ie=k(),X=b("div"),Me=b("div"),Me.innerHTML=ne,Ve=k(),Le=b("br"),nt=k(),L=b("select");for(let re=0;re<Vt.length;re+=1)Vt[re].c();Z=k(),pt&&pt.c(),Be=k(),Et&&Et.c(),ke=k(),At&&At.c(),ut=k(),Ct&&Ct.c(),bt=k(),ct=b("div"),lt=b("div"),lt.textContent=Rt,Nt=k(),Zt=b("div"),zt=b("input"),fn=k(),Mt=b("div"),Je(xt.$$.fragment),this.h()},l(re){t=w(re,"DIV",{style:!0});var Ge=S(t);n=w(Ge,"DIV",{style:!0,"data-svelte-h":!0}),ue(n)!=="svelte-mrj3ld"&&(n.textContent=l),i=R(Ge),r=w(Ge,"DIV",{style:!0});var Gt=S(r);o=w(Gt,"DIV",{style:!0});var Ot=S(o);s=w(Ot,"DIV",{});var Sn=S(s);a=w(Sn,"DIV",{});var Xt=S(a);u=w(Xt,"INPUT",{type:!0,id:!0,name:!0}),d=R(Xt),g=w(Xt,"LABEL",{for:!0,"data-svelte-h":!0}),ue(g)!=="svelte-njryio"&&(g.textContent=m),Xt.forEach(p),_=R(Sn),v=w(Sn,"DIV",{});var Ht=S(v);y=w(Ht,"INPUT",{type:!0,id:!0,name:!0}),E=R(Ht),P=w(Ht,"LABEL",{for:!0,"data-svelte-h":!0}),ue(P)!=="svelte-18ebw30"&&(P.textContent=D),Ht.forEach(p),Sn.forEach(p),T=R(Ot),M=w(Ot,"DIV",{});var Bt=S(M);U=Y(Bt,"Plot width: "),V=Y(Bt,e[9]),B=R(Bt),xe(z.$$.fragment,Bt),Bt.forEach(p),O=R(Ot),j=w(Ot,"DIV",{});var Tt=S(j);K=Y(Tt,"Row height: "),le=Y(Tt,e[10]),Ce=R(Tt),xe(ve.$$.fragment,Tt),Tt.forEach(p),pe=R(Ot),se=w(Ot,"DIV",{});var gt=S(se);be=Y(gt,"X-axis ticks: "),ye=Y(gt,e[11]),ae=R(gt),xe(F.$$.fragment,gt),gt.forEach(p),x=R(Ot),Ee=w(Ot,"DIV",{});var _n=S(Ee);we=Y(_n,"Max. text length: "),Ye=Y(_n,Xe),Ne=R(_n),xe(de.$$.fragment,_n),_n.forEach(p),ze=R(Ot),Se=w(Ot,"DIV",{});var Pn=S(Se);vt=Y(Pn,"Geneset name size: "),J=Y(Pn,e[12]),he=R(Pn),xe(Q.$$.fragment,Pn),Pn.forEach(p),Te=R(Ot),_e=w(Ot,"DIV",{});var Hn=S(_e);He=Y(Hn,"X-axis label size: "),et=Y(Hn,e[13]),wt=R(Hn),xe(Ke.$$.fragment,Hn),Hn.forEach(p),Ot.forEach(p),ft=R(Gt),Ae=w(Gt,"DIV",{style:!0});var It=S(Ae);tt=w(It,"DIV",{style:!0});var Al=S(tt);Re=w(Al,"DIV",{style:!0});var $n=S(Re);it=w($n,"BUTTON",{"data-svelte-h":!0}),ue(it)!=="svelte-12bxta8"&&(it.textContent=rt),I=R($n),ee=w($n,"I",{class:!0,style:!0,"data-tooltip":!0}),S(ee).forEach(p),$n.forEach(p),Al.forEach(p),Ie=R(It),X=w(It,"DIV",{style:!0});var cn=S(X);Me=w(cn,"DIV",{style:!0,"data-svelte-h":!0}),ue(Me)!=="svelte-15shk1y"&&(Me.innerHTML=ne),Ve=R(cn),Le=w(cn,"BR",{}),nt=R(cn),L=w(cn,"SELECT",{});var li=S(L);for(let ol=0;ol<Vt.length;ol+=1)Vt[ol].l(li);li.forEach(p),cn.forEach(p),Z=R(It),pt&&pt.l(It),Be=R(It),Et&&Et.l(It),ke=R(It),At&&At.l(It),ut=R(It),Ct&&Ct.l(It),bt=R(It),ct=w(It,"DIV",{style:!0});var xn=S(ct);lt=w(xn,"DIV",{"data-svelte-h":!0}),ue(lt)!=="svelte-j81zj8"&&(lt.textContent=Rt),Nt=R(xn),Zt=w(xn,"DIV",{style:!0});var zn=S(Zt);zt=w(zn,"INPUT",{id:!0,type:!0}),zn.forEach(p),xn.forEach(p),It.forEach(p),Gt.forEach(p),fn=R(Ge),Mt=w(Ge,"DIV",{});var ii=S(Mt);xe(xt.$$.fragment,ii),ii.forEach(p),Ge.forEach(p),this.h()},h(){G(n,"margin-bottom","10px"),G(n,"border-bottom","1px solid grey"),G(n,"padding-bottom","20px"),h(u,"type","radio"),h(u,"id","rdioBarplot"),h(u,"name","rdioPlottype"),u.checked=f=e[8]=="barplot",h(g,"for","rdioBarplot"),h(y,"type","radio"),h(y,"id","rdioLollipop"),h(y,"name","rdioPlottype"),y.checked=C=e[8]=="lollipop",h(P,"for","rdioLollipop"),G(o,"display","flex"),G(o,"justify-content","space-between"),h(ee,"class","helpicon"),G(ee,"margin-left","5px"),h(ee,"data-tooltip",bn.DOWNLOAD),G(Re,"display","flex"),G(tt,"align-self","flex-end"),G(Me,"display","inline-block"),e[19]===void 0&&Jn(()=>e[31].call(L)),G(X,"margin-left","80px"),h(zt,"id","chkShowGrid"),h(zt,"type","checkbox"),G(Zt,"margin-top","5px"),G(ct,"margin-left","80px"),G(Ae,"display","flex"),G(Ae,"justify-content","start"),G(r,"margin-bottom","50px"),G(r,"border-bottom","1px solid grey"),G(r,"padding-bottom","20px"),G(t,"min-height","900px")},m(re,Ge){A(re,t,Ge),c(t,n),c(t,i),c(t,r),c(r,o),c(o,s),c(s,a),c(a,u),c(a,d),c(a,g),c(s,_),c(s,v),c(v,y),c(v,E),c(v,P),c(o,T),c(o,M),c(M,U),c(M,V),c(M,B),Qe(z,M,null),c(o,O),c(o,j),c(j,K),c(j,le),c(j,Ce),Qe(ve,j,null),c(o,pe),c(o,se),c(se,be),c(se,ye),c(se,ae),Qe(F,se,null),c(o,x),c(o,Ee),c(Ee,we),c(Ee,Ye),c(Ee,Ne),Qe(de,Ee,null),c(o,ze),c(o,Se),c(Se,vt),c(Se,J),c(Se,he),Qe(Q,Se,null),c(o,Te),c(o,_e),c(_e,He),c(_e,et),c(_e,wt),Qe(Ke,_e,null),c(r,ft),c(r,Ae),c(Ae,tt),c(tt,Re),c(Re,it),c(Re,I),c(Re,ee),c(Ae,Ie),c(Ae,X),c(X,Me),c(X,Ve),c(X,Le),c(X,nt),c(X,L);for(let Gt=0;Gt<Vt.length;Gt+=1)Vt[Gt]&&Vt[Gt].m(L,null);an(L,e[19],!0),c(Ae,Z),pt&&pt.m(Ae,null),c(Ae,Be),Et&&Et.m(Ae,null),c(Ae,ke),At&&At.m(Ae,null),c(Ae,ut),Ct&&Ct.m(Ae,null),c(Ae,bt),c(Ae,ct),c(ct,lt),c(ct,Nt),c(ct,Zt),c(Zt,zt),zt.checked=e[14],c(t,fn),c(t,Mt),Qe(xt,Mt,null),Dt=!0,Tn||(Ft=[ie(u,"change",e[22]),ie(y,"change",e[23]),ie(it,"click",e[30]),ie(L,"change",e[31]),ie(zt,"change",e[36])],Tn=!0)},p(re,Ge){(!Dt||Ge[0]&256&&f!==(f=re[8]=="barplot"))&&(u.checked=f),(!Dt||Ge[0]&256&&C!==(C=re[8]=="lollipop"))&&(y.checked=C),(!Dt||Ge[0]&512)&&De(V,re[9]);const Gt={};!N&&Ge[0]&512&&(N=!0,Gt.values=re[9],_t(()=>N=!1)),z.$set(Gt),(!Dt||Ge[0]&1024)&&De(le,re[10]);const Ot={};!q&&Ge[0]&1024&&(q=!0,Ot.values=re[10],_t(()=>q=!1)),ve.$set(Ot),(!Dt||Ge[0]&2048)&&De(ye,re[11]);const Sn={};!fe&&Ge[0]&2048&&(fe=!0,Sn.values=re[11],_t(()=>fe=!1)),F.$set(Sn),(!Dt||Ge[0]&2)&&Xe!==(Xe=re[1][0]+"")&&De(Ye,Xe);const Xt={};!dt&&Ge[0]&2&&(dt=!0,Xt.values=re[1],_t(()=>dt=!1)),de.$set(Xt),(!Dt||Ge[0]&4096)&&De(J,re[12]);const Ht={};!ge&&Ge[0]&4096&&(ge=!0,Ht.values=re[12],_t(()=>ge=!1)),Q.$set(Ht),(!Dt||Ge[0]&8192)&&De(et,re[13]);const Bt={};if(!ot&&Ge[0]&8192&&(ot=!0,Bt.values=re[13],_t(()=>ot=!1)),Ke.$set(Bt),Ge[0]&65536){yn=me(re[16]);let gt;for(gt=0;gt<yn.length;gt+=1){const _n=qa(re,yn,gt);Vt[gt]?Vt[gt].p(_n,Ge):(Vt[gt]=Ua(_n),Vt[gt].c(),Vt[gt].m(L,null))}for(;gt<Vt.length;gt+=1)Vt[gt].d(1);Vt.length=yn.length}Ge[0]&589824&&an(L,re[19]),Ge[0]&262144&&(We=re[18].has("pvalue")),We?pt?(pt.p(re,Ge),Ge[0]&262144&&oe(pt,1)):(pt=Xa(re),pt.c(),oe(pt,1),pt.m(Ae,Be)):pt&&(qt(),ce(pt,1,1,()=>{pt=null}),Ut()),Ge[0]&262144&&($=re[18].has("effectsize_up")),$?Et?(Et.p(re,Ge),Ge[0]&262144&&oe(Et,1)):(Et=Wa(re),Et.c(),oe(Et,1),Et.m(Ae,ke)):Et&&(qt(),ce(Et,1,1,()=>{Et=null}),Ut()),Ge[0]&262144&&(Pe=re[18].has("effectsize_down")),Pe?At?(At.p(re,Ge),Ge[0]&262144&&oe(At,1)):(At=Ya(re),At.c(),oe(At,1),At.m(Ae,ut)):At&&(qt(),ce(At,1,1,()=>{At=null}),Ut()),Ge[0]&262144&&(St=re[18].has("effectsize_abs")),St?Ct?(Ct.p(re,Ge),Ge[0]&262144&&oe(Ct,1)):(Ct=Ka(re),Ct.c(),oe(Ct,1),Ct.m(Ae,bt)):Ct&&(qt(),ce(Ct,1,1,()=>{Ct=null}),Ut()),Ge[0]&16384&&(zt.checked=re[14]);const Tt={};Ge[0]&1&&(Tt.selectedSourceIndex=re[0]),Ge[0]&64&&(Tt.barplotData=re[6]),Ge[0]&32768&&(Tt.maxGenesetSize=re[15]),Ge[0]&256&&(Tt.barplotType=re[8]),Ge[0]&131072&&(Tt.colors=re[17]),Ge[0]&512&&(Tt.widthPlotArea=re[9][0]),Ge[0]&2048&&(Tt.xScalefactor=re[11][0]),Ge[0]&16384&&(Tt.showGrid=re[14]),Ge[0]&1024&&(Tt.barHeight=re[10][0]),Ge[0]&4096&&(Tt.textSize=re[12][0]),Ge[0]&8192&&(Tt.labelSize=re[13][0]),xt.$set(Tt)},i(re){Dt||(oe(z.$$.fragment,re),oe(ve.$$.fragment,re),oe(F.$$.fragment,re),oe(de.$$.fragment,re),oe(Q.$$.fragment,re),oe(Ke.$$.fragment,re),oe(pt),oe(Et),oe(At),oe(Ct),oe(xt.$$.fragment,re),Dt=!0)},o(re){ce(z.$$.fragment,re),ce(ve.$$.fragment,re),ce(F.$$.fragment,re),ce(de.$$.fragment,re),ce(Q.$$.fragment,re),ce(Ke.$$.fragment,re),ce(pt),ce(Et),ce(At),ce(Ct),ce(xt.$$.fragment,re),Dt=!1},d(re){re&&p(t),$e(z),$e(ve),$e(F),$e(de),$e(Q),$e(Ke),st(Vt,re),pt&&pt.d(),Et&&Et.d(),At&&At.d(),Ct&&Ct.d(),$e(xt),Tn=!1,Qt(Ft)}}}function Mh(e,t,n){let l,i,r,o,s,a,u,f;Pt(e,un,x=>n(7,u=x));function d(x,Ee,we,Xe){if(typeof x=="object"&&Array.isArray(x.genesets)&&x.genesets.length>Ee){let Ne=x.genesets[Ee].genesets.filter(de=>de.signif===!0).map(de=>({id:de.id,name:oo(de.name,Xe),size:de.ngenes,score_type:de.score_type,ngenes:de.ngenes,pvalue_adjust:de.pvalue_adjust,value:-1*Math.log10(de.pvalue_adjust)}));return Ne.sort((de,dt)=>de.value-dt.value),Ql(we)>0&&(Ne=Ne.slice(-Ql(we))),Ne}return[]}let{selectedSourceIndex:g=0}=t,m="barplot",_=[300],v=[20],y=[5],C=[16],E=[60],P=[20];const D=hn(0);Pt(e,D,x=>n(19,f=x));let T=!0,M="#5E7ABC",U="#E57373",V="#5E7ABC",B="#5E7ABC";const z=[{key:0,label:"all significant"},{key:100,label:"top 100"},{key:75,label:"top 75"},{key:50,label:"top 50"},{key:40,label:"top 40"},{key:30,label:"top 30"},{key:25,label:"top 25"},{key:20,label:"top 20"},{key:15,label:"top 15"},{key:10,label:"top 10"}],N=x=>{n(8,m="barplot")},O=x=>{n(8,m="lollipop")};function j(x){_=x,n(9,_)}function K(x){v=x,n(10,v)}function le(x){y=x,n(11,y)}function Ce(x){E=x,n(1,E)}function ve(x){C=x,n(12,C)}function q(x){P=x,n(13,P)}const pe=()=>er("mybarplot","GOAT-online__barplot_"+u.genesets[g].source);function se(){f=$l(this),D.set(f),n(16,s),n(21,o),n(6,l),n(7,u),n(0,g),n(1,E)}function be(x){M=x,n(2,M)}function ye(x){U=x,n(3,U)}function ae(x){V=x,n(4,V)}function F(x){B=x,n(5,B)}function fe(){T=this.checked,n(14,T)}return e.$$set=x=>{"selectedSourceIndex"in x&&n(0,g=x.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty[0]&131&&n(6,l=d(u,g,D,[E])),e.$$.dirty[0]&64&&n(18,i=new Set(l.map(x=>x.score_type))),e.$$.dirty[0]&60&&n(17,r={pvalue:M,effectsize_up:U,effectsize_down:V,effectsize_abs:B}),e.$$.dirty[0]&193&&n(21,o=Array.isArray(l)&&l.length>0&&u.genesets[g].stats.signif_count||0),e.$$.dirty[0]&2097152&&n(16,s=z.filter(x=>x.key===0||x.key<o)),e.$$.dirty[0]&1&&D.update(x=>0),e.$$.dirty[0]&128&&n(15,a=typeof u=="object"&&typeof u.genesetStats=="object"&&Math.max(100,Math.min(1e3,u.genesetStats.signif_max_ngenes||0))||100)},[g,E,M,U,V,B,l,u,m,_,v,y,C,P,T,a,s,r,i,f,D,o,N,O,j,K,le,Ce,ve,q,pe,se,be,ye,ae,F,fe]}class Dh extends $t{constructor(t){super(),ln(this,t,Mh,Ih,nn,{selectedSourceIndex:0},null,[-1,-1])}}async function Tf(e,t){const n=Ql(un);if(n===void 0||!Array.isArray(n.genesets)||typeof n.genesets[e]!="object"||n.dag[e]===!1||n.dag[e]!==null&&typeof n.dag[e]=="object")return;t.update(r=>!0);const l=Th(n,e);if(l===void 0){n.dag[e]=!1,un.update(r=>n),t.update(r=>!1);return}Vh(l),l.linksNested=Za(l.nodes,l.links,l.root),l.linksTree=zh(l.links),l.linksTreeNested=Za(l.nodes,l.linksTree,l.root),n.dag[e]=l,un.update(r=>n),await(r=>new Promise(o=>setTimeout(o,r)))(100),t.update(r=>!1)}function Th(e,t){const n=Date.now();if(typeof e!="object"||!Array.isArray(e.genesets)||e.genesets.length<=t||e.hasDag!==!0||!Array.isArray(e.genesets[t].genesets)||!Array.isArray(e.genelist))return;const l=e.genesets[t].genesets,i=l.filter(M=>M.signif===!0),r=i.length;if(r===0)return;const o=i.reduce((M,U)=>(M[U.id]=U,M),{}),s=Object.keys(o),a=l.reduce((M,U)=>(M[U.id]=U.parents,M),{}),u={},f=Object.keys(e.genelist[0]),d=["score_pvalue","score_effectsize_up","score_effectsize_down","score_effectsize_abs"].filter(M=>f.indexOf(M)!==-1),g=d.length;if(g===0){console.error(e.genelist),console.error("no score columns in genelist");return}const m=e.genelist.length;let _,v;for(let M=0;M<g;M++){_=d[M].replace("score_",""),v={};for(let U=0;U<m;U++)v[e.genelist[U].gene]=e.genelist[U][d[M]];u[_]=v}let y=0,C="",E;const P=new Set,D=[],T=[];for(let M=0;M<r;M++)if(E=[],Vf(i[M].id,E,a,s),y=E.length,y===0)D.push(i[M].id);else for(let U=0;U<y;U++)C=i[M].id+" "+E[U],P.has(C)===!1&&(T.push({id:C,source:i[M].id,target:E[U],scoreType:i[M].score_type,weight:Ph(i[M].genes,o[E[U]].genes,u[i[M].score_type])}),P.add(C));if(D.length===0){console.error("invalid input edgelist; not a DAG because the graph is circular (i.e. every parent is a child of another parent)");return}return console.log("genesetDAG() took; "+(Date.now()-n)+"ms"),{nodes:i,links:T,roots:D}}function Vh(e){const t=e.roots.length;if(t>1||t===1&&e.links.length===0){const n="__root__"+Date.now();e.root=n,e.nodes.push({id:n,name:"root",isMock:!0});for(let l=0;l<t;l++)e.links.push({id:e.roots[l]+" "+n,source:e.roots[l],target:n,scoreType:"",weight:0,isMock:!0});e.nodes=e.nodes,e.links=e.links}else e.root=e.roots[0]}function Vf(e,t,n,l){const i=n[e];if(Array.isArray(i)&&i.length!==0){const r=i.length;for(let o=0;o<r;o++)l.indexOf(i[o])!==-1?t.push(i[o]):Vf(i[o],t,n,l)}}function Ph(e,t,n){const l=e.filter(o=>t.indexOf(o)!==-1);if(l.length===0)return 0;const i=l.reduce((o,s)=>(o+=n[s]||0,o),0),r=t.reduce((o,s)=>(o+=n[s]||0,o),0);return i/r}function zh(e){if(!Array.isArray(e)||e.length===0)return;const t=[],n=new Set;e.sort((i,r)=>i.weight-r.weight);const l=e.length;for(let i=0;i<l;i++)n.has(e[i].source)===!1&&(t.push(e[i]),n.add(e[i].source));return t}function Pf(e,t,n){e.level=e.level||0,e.children=[];const l=n[e.id]||[],i=l.length;for(let r=0;r<i;r++){const o=t[l[r].source];if(o===void 0)console.error(l[r]),console.error("unknown child ID in this edge, cannot find '"+l[r].source+"' in nodesLookup");else{const s={id:o.id,name:o.name,ngenes:o.ngenes,ngenes_input:o.ngenes_input,ngenes_signif:o.ngenes_signif,pvalue:o.pvalue,pvalue_adjust:o.pvalue_adjust,signif:o.signif,score_type:o.score_type,level:e.level+1,weight:l[r].weight};e.children.push(Pf(s,t,n))}}return e}function Za(e,t,n){let l={};if(!Array.isArray(t)||t.length===0)return l;const i=e.reduce((s,a)=>(s[a.id]=a,s),{}),r=t.reduce((s,a)=>(s[a.target]===void 0?s[a.target]=[a]:s[a.target]=s[a.target].concat(a),s),{}),o=i[n];if(o===void 0){console.error("Cannot find root in node lookup; "+n),console.error(i);return}return l=o,l.level=0,l.weight=o.weight||0,l.ngenes=o.ngenes||0,l=Pf(l,i,r),l}function Fh(e){const t=[];return zf(e,t,0,-1,[]),Gh(t),t}function zf(e,t,n,l,i){const r=Array.isArray(e.children)?e.children.length:0;for(let o=0;o<r;o++){const s=e.children[o],a=Array.isArray(s.children)?s.children.length:0,u=l===-1?[]:i.concat(l);s.name=s.label||s.name,s.value=s.hasOwnProperty("weight")?s.weight:s.value,t.push({id:s.id,name:s.name,value:s.value,pvalue_adjust:s.pvalue_adjust,displayName:s.name,siblingCount:r,parentIndex:l,parentIndexRecursive:u,childIndexRecursive:[],childCount:a,childCountRecursive:0,isLastChild:o===r-1,level:n+1,isCollapsed:!1}),zf(s,t,n+1,t.length-1,u)}}function Gh(e){const t=e.length;let n=0;for(let l=0;l<t;l++){n=e[l].parentIndexRecursive.length;for(let i=0;i<n;i++)e[e[l].parentIndexRecursive[i]].childIndexRecursive.push(l)}for(let l=0;l<t;l++)e[l].childCountRecursive=e[l].childIndexRecursive.length,e[l].parentID=e[l].parentIndex===-1?"":e[e[l].parentIndex].id}function Oh(e,t){if(Array.isArray(e)){const r=e.length;let o;for(let s=0;s<r;s++)e[s].isCollapsed=!1,e[s].remove=!1;for(let s=0;s<r;s++)if(t.has(e[s].id)&&(e[s].isCollapsed=!0,Array.isArray(e[s].childIndexRecursive))){o=e[s].childIndexRecursive.length;for(let a=0;a<o;a++)e[e[s].childIndexRecursive[a]].remove=!0}}const n=e.filter(r=>r.remove!==!0),l=n.map(r=>r.id),i=n.length;for(let r=0;r<i;r++)n[r].parentIndex=n[r].parentID===void 0?-1:l.indexOf(n[r].parentID),n[r].parentIndexRecursive=void 0,n[r].childIndexRecursive=[];return n}function Hh(e,t,n,l){if(!Array.isArray(e))return;const i=e.length,r=n+"px sans-serif";let o=0;for(let s=0;s<i;s++)e[s].displayName=(e[s].isCollapsed===!0?"*":"")+oo(e[s].name,t)+(e[s].isCollapsed===!0?" (c="+e[s].childCountRecursive+")":"")+(l===!0&&e[s].pvalue_adjust!==void 0?" (p = "+Wi(e[s].pvalue_adjust)+")":""),o=Math.max(o,bi(e[s].displayName,r));return o}function Ja(e,t,n){const l=e.slice();return l[25]=t[n],l[27]=n,l}function Qa(e,t,n){const l=e.slice();return l[25]=t[n],l[27]=n,l}function Lh(e){let t,n=`Use the interactive tool below to create a customized ontology tree visualization. Each node\r
			in the tree is a significant gene set from your GOAT results. The tree structure was inferred\r
			from the parent/child relations that are encoded in the selected gene set database. You can\r
			click nodes in the tree to (un)collapse them. Collapsed nodes are depicted with a * before\r
			their name, the "(c=N)" notation after the gene set name describes the number of child terms\r
			that were collapsed. Hover your mouse cursor over the question mark symbols for further\r
			details.`,l,i,r,o,s,a=e[3][0]+"",u,f,d,g,m,_,v,y=e[1][0]+"",C,E,P,D,T,M,U,V=e[2][0]+"",B,z,N,O,j,K,le,Ce,ve,q,pe,se,be,ye,ae="download",F,fe,x,Ee,we,Xe,Ye;function Ne(ge){e[17](ge)}let de={min:4,max:30,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[3]!==void 0&&(de.values=e[3]),d=new Kt({props:de}),ht.push(()=>mt(d,"values",Ne));function dt(ge){e[18](ge)}let ze={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[1]!==void 0&&(ze.values=e[1]),P=new Kt({props:ze}),ht.push(()=>mt(P,"values",dt));function Se(ge){e[19](ge)}let vt={min:20,max:100,step:1,pipstep:10,pips:!0,first:"label",last:"label",rest:"pip"};e[2]!==void 0&&(vt.values=e[2]),N=new Kt({props:vt}),ht.push(()=>mt(N,"values",Se));function J(ge,Te){return ge[5]!==void 0?qh:jh}let he=J(e),Q=he(e);return{c(){t=b("div"),t.textContent=n,l=k(),i=b("div"),r=b("div"),o=b("div"),s=W("Row height: "),u=W(a),f=k(),Je(d.$$.fragment),m=k(),_=b("div"),v=W("Geneset name size: "),C=W(y),E=k(),Je(P.$$.fragment),T=k(),M=b("div"),U=W("Max. text length: "),B=W(V),z=k(),Je(N.$$.fragment),j=k(),K=b("div"),le=b("input"),Ce=W(" Show"),ve=b("br"),q=W("adjusted p-values"),pe=k(),se=b("div"),be=b("div"),ye=b("button"),ye.textContent=ae,F=k(),fe=b("i"),x=k(),Ee=b("div"),Q.c(),this.h()},l(ge){t=w(ge,"DIV",{style:!0,"data-svelte-h":!0}),ue(t)!=="svelte-5p8e24"&&(t.textContent=n),l=R(ge),i=w(ge,"DIV",{style:!0});var Te=S(i);r=w(Te,"DIV",{style:!0});var _e=S(r);o=w(_e,"DIV",{});var He=S(o);s=Y(He,"Row height: "),u=Y(He,a),f=R(He),xe(d.$$.fragment,He),He.forEach(p),m=R(_e),_=w(_e,"DIV",{});var et=S(_);v=Y(et,"Geneset name size: "),C=Y(et,y),E=R(et),xe(P.$$.fragment,et),et.forEach(p),T=R(_e),M=w(_e,"DIV",{});var wt=S(M);U=Y(wt,"Max. text length: "),B=Y(wt,V),z=R(wt),xe(N.$$.fragment,wt),wt.forEach(p),j=R(_e),K=w(_e,"DIV",{});var Ke=S(K);le=w(Ke,"INPUT",{type:!0}),Ce=Y(Ke," Show"),ve=w(Ke,"BR",{}),q=Y(Ke,"adjusted p-values"),Ke.forEach(p),_e.forEach(p),pe=R(Te),se=w(Te,"DIV",{style:!0});var ot=S(se);be=w(ot,"DIV",{style:!0});var ft=S(be);ye=w(ft,"BUTTON",{"data-svelte-h":!0}),ue(ye)!=="svelte-11womkd"&&(ye.textContent=ae),F=R(ft),fe=w(ft,"I",{class:!0,style:!0,"data-tooltip":!0}),S(fe).forEach(p),ft.forEach(p),ot.forEach(p),Te.forEach(p),x=R(ge),Ee=w(ge,"DIV",{});var Ae=S(Ee);Q.l(Ae),Ae.forEach(p),this.h()},h(){G(t,"margin-bottom","10px"),G(t,"border-bottom","1px solid grey"),G(t,"padding-bottom","20px"),h(le,"type","checkbox"),G(r,"display","flex"),G(r,"justify-content","space-between"),h(fe,"class","helpicon"),G(fe,"margin-left","5px"),h(fe,"data-tooltip",bn.DOWNLOAD),G(be,"display","flex"),G(se,"align-self","flex-end"),G(i,"margin-bottom","50px"),G(i,"border-bottom","1px solid grey"),G(i,"padding-bottom","20px")},m(ge,Te){A(ge,t,Te),A(ge,l,Te),A(ge,i,Te),c(i,r),c(r,o),c(o,s),c(o,u),c(o,f),Qe(d,o,null),c(r,m),c(r,_),c(_,v),c(_,C),c(_,E),Qe(P,_,null),c(r,T),c(r,M),c(M,U),c(M,B),c(M,z),Qe(N,M,null),c(r,j),c(r,K),c(K,le),le.checked=e[4],c(K,Ce),c(K,ve),c(K,q),c(i,pe),c(i,se),c(se,be),c(be,ye),c(be,F),c(be,fe),A(ge,x,Te),A(ge,Ee,Te),Q.m(Ee,null),we=!0,Xe||(Ye=[ie(le,"change",e[20]),ie(ye,"click",e[21])],Xe=!0)},p(ge,Te){(!we||Te&8)&&a!==(a=ge[3][0]+"")&&De(u,a);const _e={};!g&&Te&8&&(g=!0,_e.values=ge[3],_t(()=>g=!1)),d.$set(_e),(!we||Te&2)&&y!==(y=ge[1][0]+"")&&De(C,y);const He={};!D&&Te&2&&(D=!0,He.values=ge[1],_t(()=>D=!1)),P.$set(He),(!we||Te&4)&&V!==(V=ge[2][0]+"")&&De(B,V);const et={};!O&&Te&4&&(O=!0,et.values=ge[2],_t(()=>O=!1)),N.$set(et),Te&16&&(le.checked=ge[4]),he===(he=J(ge))&&Q?Q.p(ge,Te):(Q.d(1),Q=he(ge),Q&&(Q.c(),Q.m(Ee,null)))},i(ge){we||(oe(d.$$.fragment,ge),oe(P.$$.fragment,ge),oe(N.$$.fragment,ge),we=!0)},o(ge){ce(d.$$.fragment,ge),ce(P.$$.fragment,ge),ce(N.$$.fragment,ge),we=!1},d(ge){ge&&(p(t),p(l),p(i),p(x),p(Ee)),$e(d),$e(P),$e(N),Q.d(),Xe=!1,Qt(Ye)}}}function Nh(e){let t,n,l,i,r;function o(a){e[16](a)}let s={colour:"black",size:"1.5em"};return e[8]!==void 0&&(s.show=e[8]),n=new Zn({props:s}),ht.push(()=>mt(n,"show",o)),{c(){t=b("div"),Je(n.$$.fragment),i=W(`\r
			computing...`)},l(a){t=w(a,"DIV",{});var u=S(t);xe(n.$$.fragment,u),i=Y(u,`\r
			computing...`),u.forEach(p)},m(a,u){A(a,t,u),Qe(n,t,null),c(t,i),r=!0},p(a,u){const f={};!l&&u&256&&(l=!0,f.show=a[8],_t(()=>l=!1)),n.$set(f)},i(a){r||(oe(n.$$.fragment,a),r=!0)},o(a){ce(n.$$.fragment,a),r=!1},d(a){a&&p(t),$e(n)}}}function Bh(e){let t,n=`The gene set database does not incorporate parent-child relations; visualization of tree-structure is not\r
			available.`;return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),ue(t)!=="svelte-1j746nr"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:at,i:at,o:at,d(l){l&&p(t)}}}function jh(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),ue(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:at,d(l){l&&p(t)}}}function qh(e){let t,n,l,i,r,o,s,a=me(e[5]),u=[];for(let g=0;g<a.length;g+=1)u[g]=$a(Qa(e,a,g));let f=me(e[5]),d=[];for(let g=0;g<f.length;g+=1)d[g]=eu(Ja(e,f,g));return{c(){t=b("div"),n=qe("svg"),l=qe("g");for(let g=0;g<u.length;g+=1)u[g].c();i=qe("g");for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){t=w(g,"DIV",{id:!0});var m=S(t);n=Ue(m,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var _=S(n);l=Ue(_,"g",{});var v=S(l);for(let C=0;C<u.length;C+=1)u[C].l(v);v.forEach(p),i=Ue(_,"g",{});var y=S(i);for(let C=0;C<d.length;C+=1)d[C].l(y);y.forEach(p),_.forEach(p),m.forEach(p),this.h()},h(){h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",r=e[9]+2*yt),h(n,"height",o=e[10]+2*yt),h(n,"viewBox",s="0 0 "+(e[9]+2*yt)+" "+(e[10]+2*yt)),h(t,"id","mytree")},m(g,m){A(g,t,m),c(t,n),c(n,l);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(l,null);c(n,i);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(i,null)},p(g,m){if(m&10282){a=me(g[5]);let _;for(_=0;_<a.length;_+=1){const v=Qa(g,a,_);u[_]?u[_].p(v,m):(u[_]=$a(v),u[_].c(),u[_].m(l,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=a.length}if(m&8232){f=me(g[5]);let _;for(_=0;_<f.length;_+=1){const v=Ja(g,f,_);d[_]?d[_].p(v,m):(d[_]=eu(v),d[_].c(),d[_].m(i,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=f.length}m&512&&r!==(r=g[9]+2*yt)&&h(n,"width",r),m&1024&&o!==(o=g[10]+2*yt)&&h(n,"height",o),m&1536&&s!==(s="0 0 "+(g[9]+2*yt)+" "+(g[10]+2*yt))&&h(n,"viewBox",s)},d(g){g&&p(t),st(u,g),st(d,g)}}}function $a(e){let t,n=e[25].displayName+"",l,i,r,o,s,a;function u(...f){return e[22](e[25],...f)}return{c(){t=qe("text"),l=W(n),this.h()},l(f){t=Ue(f,"text",{"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,x:!0,y:!0,cursor:!0});var d=S(t);l=Y(d,n),d.forEach(p),this.h()},h(){h(t,"font-size",i=e[1][0]+"px"),h(t,"text-anchor","begin"),h(t,"dominant-baseline","middle"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"x",r=Math.ceil((e[25].level+.5)*Mn)+3+yt),h(t,"y",o=e[13]+e[27]*e[3][0]+yt),h(t,"cursor","pointer")},m(f,d){A(f,t,d),c(t,l),s||(a=ie(t,"click",u),s=!0)},p(f,d){e=f,d&32&&n!==(n=e[25].displayName+"")&&De(l,n),d&2&&i!==(i=e[1][0]+"px")&&h(t,"font-size",i),d&32&&r!==(r=Math.ceil((e[25].level+.5)*Mn)+3+yt)&&h(t,"x",r),d&8&&o!==(o=e[13]+e[27]*e[3][0]+yt)&&h(t,"y",o)},d(f){f&&p(t),s=!1,a()}}}function xa(e){let t,n,l,i,r;return{c(){t=qe("line"),this.h()},l(o){t=Ue(o,"line",{"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),this.h()},h(){h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"x1",n=(e[25].level-1)*Mn+yt),h(t,"y1",l=e[13]+Math.max(0,e[25].parentIndex)*e[3][0]+yt),h(t,"x2",i=(e[25].level-1)*Mn+yt),h(t,"y2",r=e[13]+e[27]*e[3][0]+yt)},m(o,s){A(o,t,s)},p(o,s){s&32&&n!==(n=(o[25].level-1)*Mn+yt)&&h(t,"x1",n),s&40&&l!==(l=o[13]+Math.max(0,o[25].parentIndex)*o[3][0]+yt)&&h(t,"y1",l),s&32&&i!==(i=(o[25].level-1)*Mn+yt)&&h(t,"x2",i),s&8&&r!==(r=o[13]+o[27]*o[3][0]+yt)&&h(t,"y2",r)},d(o){o&&p(t)}}}function eu(e){let t,n,l,i,r,o,s=e[25].isLastChild===!0&&xa(e);return{c(){t=qe("line"),s&&s.c(),o=Oe(),this.h()},l(a){t=Ue(a,"line",{"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),s&&s.l(a),o=Oe(),this.h()},h(){h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"x1",n=(e[25].level-1)*Mn+yt),h(t,"y1",l=e[13]+e[27]*e[3][0]+yt),h(t,"x2",i=Math.ceil((e[25].level+.5)*Mn)+yt),h(t,"y2",r=e[13]+e[27]*e[3][0]+yt)},m(a,u){A(a,t,u),s&&s.m(a,u),A(a,o,u)},p(a,u){u&32&&n!==(n=(a[25].level-1)*Mn+yt)&&h(t,"x1",n),u&8&&l!==(l=a[13]+a[27]*a[3][0]+yt)&&h(t,"y1",l),u&32&&i!==(i=Math.ceil((a[25].level+.5)*Mn)+yt)&&h(t,"x2",i),u&8&&r!==(r=a[13]+a[27]*a[3][0]+yt)&&h(t,"y2",r),a[25].isLastChild===!0?s?s.p(a,u):(s=xa(a),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(a){a&&(p(t),p(o)),s&&s.d(a)}}}function Uh(e){let t,n,l,i;const r=[Bh,Nh,Lh],o=[];function s(a,u){return a[6]!==!0?0:a[8]===!0?1:2}return n=s(e),l=o[n]=r[n](e),{c(){t=b("div"),l.c(),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);l.l(u),u.forEach(p),this.h()},h(){G(t,"min-height","900px")},m(a,u){A(a,t,u),o[n].m(t,null),i=!0},p(a,[u]){let f=n;n=s(a),n===f?o[n].p(a,u):(qt(),ce(o[f],1,1,()=>{o[f]=null}),Ut(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),oe(l,1),l.m(t,null))},i(a){i||(oe(l),i=!0)},o(a){ce(l),i=!1},d(a){a&&p(t),o[n].d()}}}const Mn=15,yt=10;function Xh(e,t,n){let l,i,r,o,s,a;Pt(e,un,O=>n(7,s=O));function u(O,j,K,le,Ce,ve,q){const pe=Oh(Fh(s.dag[O].linksTreeNested),j),se=Hh(pe,K,le,Ce),be=pe.reduce((ye,ae)=>Math.max(ae.level,ye),0);return n(9,E=se+be*ve+10),pe}function f(O){P.has(O)?P.delete(O):P.add(O),n(14,D=!D)}const d=hn(!1);Pt(e,d,O=>n(8,a=O));let{selectedSourceIndex:g=0}=t,m=[14],_=[60],v=[20],y=!0;const C=Math.ceil(v[0]/2);let E=200;const P=new Set;let D=!1;function T(O){a=O,d.set(a)}function M(O){v=O,n(3,v)}function U(O){m=O,n(1,m)}function V(O){_=O,n(2,_)}function B(){y=this.checked,n(4,y)}const z=()=>er("mytree","GOAT-online__tree_"+s.genesets[g].source),N=(O,j)=>f(O.id);return e.$$set=O=>{"selectedSourceIndex"in O&&n(0,g=O.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty&128&&n(6,i=typeof s=="object"&&s.hasDag===!0),e.$$.dirty&449&&n(15,r=()=>i&&a===!1&&typeof s=="object"&&Array.isArray(s.dag)&&s.dag.length>g&&!!s.dag[g]),e.$$.dirty&49175&&n(5,o=r()===!0?u(g,P,_[0],m[0],y,Mn):void 0),e.$$.dirty&40&&n(10,l=v[0]*(Array.isArray(o)?o.length:0)),e.$$.dirty&65&&i&&Tf(g,d)},[g,m,_,v,y,o,i,s,a,E,l,f,d,C,D,r,T,M,U,V,B,z,N]}class Wh extends $t{constructor(t){super(),ln(this,t,Xh,Uh,nn,{selectedSourceIndex:0})}}function Yh(e,t,n){const i=Ql(un);if((typeof i=="object"&&Array.isArray(i.dag)&&i.dag.length>e&&!!i.dag[e])!==!0)return;typeof t!="string"&&(t="none"),typeof n!="number"&&(n=0);const o=i.dag[e],s=o.nodes,a=o.links,u=o.linksNested,f=o.root;let d=new Set;const g=a.length;if(t==="leaf_only"){const U=new Set,V=new Set;for(let B=0;B<g;B++)U.add(a[B].source),V.add(a[B].target);d=Lr(U,V)}else if(t==="prune_singletons"){const U=s.reduce((z,N)=>(z[N.id]=0,z),{});for(let z=0;z<g;z++)U[a[z].target]=U[a[z].target]+1;const V=Object.keys(U),B=V.length;for(let z=0;z<B;z++)U[V[z]]!==1&&d.add(V[z])}else d=new Set(s.map(U=>U.id));const m=Ff(u,d),_=[],v=new Set,y=m.children.length;for(let U=0;U<y;U++){let V=[];Gf(m.children[U],n,V);let B=V.length;for(let z=0;z<B;z++)v.has(V[z].id)===!1&&(_.push(V[z]),v.add(V[z].id))}const C=_.length;_.sort((U,V)=>(V.ngenes||99999)-(U.ngenes||99999));const E=s.find(U=>U.id===f);if(E===void 0){console.error("treemapData(); cannot find root in nodes array; "+f),console.error(s);return}const P=[],D=new Set;for(let U=0;U<C&&d.size!==D.size;U++){let V=_[U],B,z,N=!1;if(D.has(V.id)===!1&&(d.has(V.id)?(B=V,B.recursiveChildrenShortlist_length>0?z=new Set(B.recursiveChildrenShortlist):z=new Set,z.add(B.id),N=!0,z=Lr(z,D)):V.recursiveChildrenShortlist_length>0&&(z=Lr(new Set(V.recursiveChildrenShortlist),D),z.size>0&&(B=Of(V))),z!==void 0&&z.size>0)){let O=Array.from(z);P.push({id:B.id,name:B.name,ngenes:B.ngenes,shortlistNodes:O,shortlistHasLevel1:N}),O.forEach(j=>{D.add(j)})}}const T=_s(E);T.ngenes=T.ngenes||0,T.group=0,T.children=[];const M=P.length;for(let U=0;U<M;U++){let V=P[U];V.group=U,V.value=Math.sqrt(V.ngenes),V.children=[],V.shortlistNodes.forEach(j=>{const K=s.find(le=>le.id===j);V.children.push(_s(K))}),V.children.sort((j,K)=>K.ngenes-j.ngenes||j.pvalue-K.pvalue);const B=V.shortlistNodes.length;let z=0;for(let j=0;j<B;j++)V.children[j].isLeading=j===0,V.children[j].siblingCount=B,V.children[j].parent_id=V.id,V.children[j].parent_name=V.name,V.children[j].group=U,V.children[j].value=Math.sqrt(V.children[j].ngenes),V.children[j].value>z&&(z=V.children[j].value);let N=z/5,O=0;for(let j=0;j<B;j++)V.children[j].value<N&&(V.children[j].value=N),O+=V.children[j].value;for(let j=0;j<B;j++)V.children[j].value=V.children[j].value/O*V.value;B>0&&(V.value=0),T.children.push(V)}return T}function Ff(e,t){if(e.recursiveChildren=[],e.recursiveChildrenShortlist=[],e.recursiveChildren_length=0,e.recursiveChildrenShortlist_length=0,Array.isArray(e.children)&&e.children.length>0){const n=e.children.length;for(let i=0;i<n;i++)e.children[i]=Ff(e.children[i],t),e.recursiveChildren.push(e.children[i].id),e.recursiveChildren=e.recursiveChildren.concat(e.children[i].recursiveChildren);const l=new Set(e.recursiveChildren);e.recursiveChildren=Array.from(l),e.recursiveChildren_length=e.recursiveChildren.length,e.recursiveChildrenShortlist=Array.from(id(l,t)),e.recursiveChildrenShortlist_length=e.recursiveChildrenShortlist.length}return e}function Gf(e,t,n){if(t===0||!Array.isArray(e.children)||e.children.length==0||e.ngenes>0&&e.ngenes<=t){n.push(e);return}const l=e.children.length;for(let i=0;i<l;i++)Gf(e.children[i],t,n)}function Of(e){if(typeof e.ngenes=="number"&&e.ngenes>0&&Array.isArray(e.children)&&e.children.length>0){const t=e.children.find(n=>n.ngenes===e.ngenes);if(t!==void 0)return Of(t)}return e}function Kh(e,t,n,l,i,r){function o(d,g){g.push({id:d.data.id,name:d.data.name,group:d.data.group,childCount:Array.isArray(d.children)?d.children.length:0,isLeading:d.data.isLeading,siblingCount:d.data.siblingCount,parent_id:d.data.parent_id,parent_name:d.data.parent_name,ngenes:d.data.ngenes,ngenes_input:d.data.ngenes_input,ngenes_signif:d.data.ngenes_signif,pvalue_adjust:d.data.pvalue_adjust,value:d.value,depth:d.depth,x0:d.x0,x1:d.x1,y0:d.y0,y1:d.y1});const m=Array.isArray(d.children)?d.children.length:0;for(let _=0;_<m;_++)o(d.children[_],g)}const s=fo(e);s.sum(d=>d.value),s.sort((d,g)=>df(d.value,g.value));const a=(d=>(g,m,_,v,y)=>{d(g,m/l,_,v/l,y);for(const C of g.children)C.x0*=l,C.x1*=l})(vf.ratio(1)),u=Bc().tile(a).size([t,n]).paddingInner(i).paddingTop(r).paddingRight(r).paddingBottom(r).paddingLeft(r).round(!0)(s),f=[];return o(u,f),f}function Zh(e,t){const n=bi(" ",t+"px sans-serif"),l=e.labelString,i=t;if(typeof l!="string"||l==="")return;const r=[],o=l.split(" "),s=o.length;for(let m=0;m<s;m++){let _=o[m].split("-"),v=_.length;if(v>1){for(let y=0;y<v-1;y++)r.push(_[y]+"-");r.push(_[v-1])}else r.push(_[0])}const a=r.length;if(a<2)return r;const u=Math.floor(e.height/t+.2),f=r.map(m=>bi(m,t+"px sans-serif")),d=[r[0]],g=[f[0]];for(let m=1;m<a;m++){if(d.length===u){d[d.length-1]+="…";break}g[d.length-1]+f[m]<=e.width-i?(d[d.length-1]=d[d.length-1]+(d[d.length-1].slice(-1)==="-"?"":" ")+r[m],g[d.length-1]=g[d.length-1]+n+f[m]):(d.push(r[m]),g[d.length-1]=f[m])}return d}function Jh(e,t){const n=/^[A-Z]+:0*/;return t==="name"?e.childCount===0?e.name:"":t==="none"?"":t==="toplevelName"?e.depth===1?e.name:"":t==="leadingName"?e.childCount===0&e.isLeading===!0?e.name:"":t==="leadingNameAndId"?e.childCount===0?e.isLeading===!0?e.name:e.id.replace(n,""):"":e.childCount===0?e.id.replace(n,""):""}function Qh(e,t,n){if(!Array.isArray(e))return;const l="#BBBBBB",i=e.map(a=>a.group||0),r=i.reduce((a,u)=>Math.max(a,u),0),o=rd(i,r+1),s=e.length;for(let a=0;a<s;a++)e[a].tooltip=e[a].name+`
ngenes: `+e[a].ngenes+" signif: "+e[a].ngenes_signif+`
adj. p-value: `+Wi(e[a].pvalue_adjust),e[a].color=o[a]||l,e[a].width=e[a].x1-e[a].x0,e[a].height=e[a].y1-e[a].y0,e[a].centerX=(e[a].x1-e[a].x0)/2,e[a].centerY=(e[a].y1-e[a].y0)/2,e[a].labels=void 0,e[a].labelString=Jh(e[a],t),e[a].labelString!==""&&(e[a].labelSplit=Zh(e[a],n),e[a].labelSplit!==void 0&&(e[a].labels=e[a].labelSplit.map((u,f)=>({label:u,x:e[a].centerX,y:$h(e[a].labelSplit.length,f,e[a].height,e[a].centerY,n)}))));return e}function $h(e,t,n,l,i){const r=(e-1)/-2;return e>1&&e*i>n?i/2+i*t:l+(r+t)*i}function tu(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function nu(e,t,n){const l=e.slice();return l[15]=t[n],l[17]=n,l}function lu(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function iu(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function xh(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),ue(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:at,d(l){l&&p(t)}}}function e1(e){let t,n,l,i,r,o,s=me(e[5]),a=[];for(let _=0;_<s.length;_+=1)a[_]=ru(iu(e,s,_));let u=e[3]!==void 0&&ou(e),f=me(e[5]),d=[];for(let _=0;_<f.length;_+=1)d[_]=uu(lu(e,f,_));let g=me(e[5]),m=[];for(let _=0;_<g.length;_+=1)m[_]=cu(tu(e,g,_));return{c(){t=b("div"),n=qe("svg"),l=qe("defs");for(let _=0;_<a.length;_+=1)a[_].c();u&&u.c(),i=qe("g");for(let _=0;_<d.length;_+=1)d[_].c();r=qe("g");for(let _=0;_<m.length;_+=1)m[_].c();this.h()},l(_){t=w(_,"DIV",{id:!0});var v=S(t);n=Ue(v,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var y=S(n);l=Ue(y,"defs",{});var C=S(l);for(let D=0;D<a.length;D+=1)a[D].l(C);C.forEach(p),u&&u.l(y),i=Ue(y,"g",{});var E=S(i);for(let D=0;D<d.length;D+=1)d[D].l(E);E.forEach(p),r=Ue(y,"g",{});var P=S(r);for(let D=0;D<m.length;D+=1)m[D].l(P);P.forEach(p),y.forEach(p),v.forEach(p),this.h()},h(){h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",e[0]),h(n,"height",e[1]),h(n,"viewBox",o="0 0 "+e[0]+" "+e[1]),h(t,"id","mytreemap")},m(_,v){A(_,t,v),c(t,n),c(n,l);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(l,null);u&&u.m(n,null),c(n,i);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(i,null);c(n,r);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(r,null)},p(_,v){if(v&32){s=me(_[5]);let y;for(y=0;y<s.length;y+=1){const C=iu(_,s,y);a[y]?a[y].p(C,v):(a[y]=ru(C),a[y].c(),a[y].m(l,null))}for(;y<a.length;y+=1)a[y].d(1);a.length=s.length}if(_[3]!==void 0?u?u.p(_,v):(u=ou(_),u.c(),u.m(n,i)):u&&(u.d(1),u=null),v&40){f=me(_[5]);let y;for(y=0;y<f.length;y+=1){const C=lu(_,f,y);d[y]?d[y].p(C,v):(d[y]=uu(C),d[y].c(),d[y].m(i,null))}for(;y<d.length;y+=1)d[y].d(1);d.length=f.length}if(v&36){g=me(_[5]);let y;for(y=0;y<g.length;y+=1){const C=tu(_,g,y);m[y]?m[y].p(C,v):(m[y]=cu(C),m[y].c(),m[y].m(r,null))}for(;y<m.length;y+=1)m[y].d(1);m.length=g.length}v&1&&h(n,"width",_[0]),v&2&&h(n,"height",_[1]),v&3&&o!==(o="0 0 "+_[0]+" "+_[1])&&h(n,"viewBox",o)},d(_){_&&p(t),st(a,_),u&&u.d(),st(d,_),st(m,_)}}}function ru(e){let t,n,l,i,r,o;return{c(){t=qe("clipPath"),n=qe("rect"),this.h()},l(s){t=Ue(s,"clipPath",{id:!0});var a=S(t);n=Ue(a,"rect",{x:!0,y:!0,width:!0,height:!0}),S(n).forEach(p),a.forEach(p),this.h()},h(){h(n,"x",l=e[12].x0),h(n,"y",i=e[12].y0),h(n,"width",r=e[12].width),h(n,"height",o=e[12].height),h(t,"id","clipid-"+e[14])},m(s,a){A(s,t,a),c(t,n)},p(s,a){a&32&&l!==(l=s[12].x0)&&h(n,"x",l),a&32&&i!==(i=s[12].y0)&&h(n,"y",i),a&32&&r!==(r=s[12].width)&&h(n,"width",r),a&32&&o!==(o=s[12].height)&&h(n,"height",o)},d(s){s&&p(t)}}}function ou(e){let t,n,l,i,r;return{c(){t=qe("rect"),this.h()},l(o){t=Ue(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0});var s=S(t);s.forEach(p),this.h()},h(){h(t,"x",n=e[4]*2),h(t,"y",l=e[4]*2),h(t,"width",i=e[0]-4*e[4]),h(t,"height",r=e[1]-4*e[4]),h(t,"fill",e[3])},m(o,s){A(o,t,s)},p(o,s){s&16&&n!==(n=o[4]*2)&&h(t,"x",n),s&16&&l!==(l=o[4]*2)&&h(t,"y",l),s&17&&i!==(i=o[0]-4*o[4])&&h(t,"width",i),s&18&&r!==(r=o[1]-4*o[4])&&h(t,"height",r),s&8&&h(t,"fill",o[3])},d(o){o&&p(t)}}}function su(e){let t,n,l=e[12].tooltip+"",i,r,o,s,a,u,f=e[3]!==void 0&&au(e);return{c(){f&&f.c(),t=qe("rect"),n=qe("title"),i=W(l),this.h()},l(d){f&&f.l(d),t=Ue(d,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"fill-opacity":!0});var g=S(t);n=Ue(g,"title",{});var m=S(n);i=Y(m,l),m.forEach(p),g.forEach(p),this.h()},h(){h(t,"x",r=e[12].x0),h(t,"y",o=e[12].y0),h(t,"width",s=e[12].width),h(t,"height",a=e[12].height),h(t,"fill",u=e[12].color),h(t,"fill-opacity","0.6")},m(d,g){f&&f.m(d,g),A(d,t,g),c(t,n),c(n,i)},p(d,g){d[3]!==void 0?f?f.p(d,g):(f=au(d),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),g&32&&l!==(l=d[12].tooltip+"")&&De(i,l),g&32&&r!==(r=d[12].x0)&&h(t,"x",r),g&32&&o!==(o=d[12].y0)&&h(t,"y",o),g&32&&s!==(s=d[12].width)&&h(t,"width",s),g&32&&a!==(a=d[12].height)&&h(t,"height",a),g&32&&u!==(u=d[12].color)&&h(t,"fill",u)},d(d){d&&p(t),f&&f.d(d)}}}function au(e){let t,n,l,i,r;return{c(){t=qe("rect"),this.h()},l(o){t=Ue(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0});var s=S(t);s.forEach(p),this.h()},h(){h(t,"x",n=e[12].x0),h(t,"y",l=e[12].y0),h(t,"width",i=e[12].width),h(t,"height",r=e[12].height),h(t,"fill","#ffffff")},m(o,s){A(o,t,s)},p(o,s){s&32&&n!==(n=o[12].x0)&&h(t,"x",n),s&32&&l!==(l=o[12].y0)&&h(t,"y",l),s&32&&i!==(i=o[12].width)&&h(t,"width",i),s&32&&r!==(r=o[12].height)&&h(t,"height",r)},d(o){o&&p(t)}}}function uu(e){let t,n=e[12].childCount===0&&su(e);return{c(){n&&n.c(),t=Oe()},l(l){n&&n.l(l),t=Oe()},m(l,i){n&&n.m(l,i),A(l,t,i)},p(l,i){l[12].childCount===0?n?n.p(l,i):(n=su(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&p(t),n&&n.d(l)}}}function fu(e){let t,n,l,i,r=me(e[12].labels),o=[];for(let s=0;s<r.length;s+=1)o[s]=du(nu(e,r,s));return{c(){t=qe("text");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=Ue(s,"text",{"font-size":!0,"font-family":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,"clip-path":!0});var a=S(t);for(let u=0;u<o.length;u+=1)o[u].l(a);a.forEach(p),this.h()},h(){h(t,"font-size",n=e[2]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"text-anchor","middle"),h(t,"dominant-baseline","middle"),h(t,"x",l=e[12].x0),h(t,"y",i=e[12].y0),h(t,"fill","black"),h(t,"clip-path","url(#clipid-"+e[14]+")")},m(s,a){A(s,t,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null)},p(s,a){if(a&32){r=me(s[12].labels);let u;for(u=0;u<r.length;u+=1){const f=nu(s,r,u);o[u]?o[u].p(f,a):(o[u]=du(f),o[u].c(),o[u].m(t,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}a&4&&n!==(n=s[2]+"px")&&h(t,"font-size",n),a&32&&l!==(l=s[12].x0)&&h(t,"x",l),a&32&&i!==(i=s[12].y0)&&h(t,"y",i)},d(s){s&&p(t),st(o,s)}}}function du(e){let t,n=e[15].label+"",l,i,r;return{c(){t=qe("tspan"),l=W(n),this.h()},l(o){t=Ue(o,"tspan",{x:!0,y:!0});var s=S(t);l=Y(s,n),s.forEach(p),this.h()},h(){h(t,"x",i=e[12].x0+e[15].x),h(t,"y",r=e[12].y0+e[15].y)},m(o,s){A(o,t,s),c(t,l)},p(o,s){s&32&&n!==(n=o[15].label+"")&&De(l,n),s&32&&i!==(i=o[12].x0+o[15].x)&&h(t,"x",i),s&32&&r!==(r=o[12].y0+o[15].y)&&h(t,"y",r)},d(o){o&&p(t)}}}function cu(e){let t=Array.isArray(e[12].labels)&&e[12].labels.length>0,n,l=t&&fu(e);return{c(){l&&l.c(),n=Oe()},l(i){l&&l.l(i),n=Oe()},m(i,r){l&&l.m(i,r),A(i,n,r)},p(i,r){r&32&&(t=Array.isArray(i[12].labels)&&i[12].labels.length>0),t?l?l.p(i,r):(l=fu(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){i&&p(n),l&&l.d(i)}}}function t1(e){let t;function n(r,o){return r[5]!==void 0?e1:xh}let l=n(e),i=l(e);return{c(){i.c(),t=Oe()},l(r){i.l(r),t=Oe()},m(r,o){i.m(r,o),A(r,t,o)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(t.parentNode,t)))},i:at,o:at,d(r){r&&p(t),i.d(r)}}}function n1(e,t,n){let l,i,r,o,{selectedSourceIndex:s=0}=t,{width:a=500}=t,{height:u=500}=t,{ratio:f=3}=t,{textSize:d=14}=t,{labelType:g="name"}=t,{backgroundColor:m="#eaeaea"}=t,{simplifyMethod:_="none"}=t;return e.$$set=v=>{"selectedSourceIndex"in v&&n(6,s=v.selectedSourceIndex),"width"in v&&n(0,a=v.width),"height"in v&&n(1,u=v.height),"ratio"in v&&n(7,f=v.ratio),"textSize"in v&&n(2,d=v.textSize),"labelType"in v&&n(8,g=v.labelType),"backgroundColor"in v&&n(3,m=v.backgroundColor),"simplifyMethod"in v&&n(9,_=v.simplifyMethod)},e.$$.update=()=>{e.$$.dirty&3&&n(4,l=Math.min(a,u)<300?1:Math.min(a,u)<500?2:3),e.$$.dirty&576&&n(11,i=Yh(s,_)),e.$$.dirty&2195&&n(10,r=i?Kh(i,a,u,f,1,l):void 0),e.$$.dirty&1284&&n(5,o=r!==void 0?Qh(r,g,d):void 0)},[a,u,d,m,l,o,s,f,g,_,r,i]}class l1 extends $t{constructor(t){super(),ln(this,t,n1,t1,nn,{selectedSourceIndex:6,width:0,height:1,ratio:7,textSize:2,labelType:8,backgroundColor:3,simplifyMethod:9})}}function gu(e,t,n){const l=e.slice();return l[21]=t[n],l}function hu(e,t,n){const l=e.slice();return l[21]=t[n],l}function i1(e){let t,n=`<div>Use the interactive tool below to create a customized treemap visualization. Each tile is a
				significant gene set from your GOAT results. The tree structure was inferred from the
				parent/child relations that are encoded in the selected gene set database. Only 2
				hierarchical levels/nestings are encoded, with parents encoded by color (change the &quot;label
				style&quot; to &quot;parent name&quot; to view parent names). Hover your mouse cursor over the question
				mark symbols for further details.</div> <div>Hover the tiles to view details for each gene set (full name, number of genes, adjusted
				p-value).</div>`,l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,E,P,D,T,M,U,V,B,z,N,O,j,K,le,Ce,ve,q,pe,se,be,ye,ae,F,fe,x,Ee,we,Xe,Ye="download",Ne,de,dt,ze,Se,vt=`simplify: <i class="helpicon" style="margin-left: 5px; margin-bottom: 4px;" data-tooltip="${bn.TREEMAP_SIMPLIFY}"></i>`,J,he,Q,ge,Te,_e,He,et;function wt(X){e[14](X)}let Ke={min:100,max:1200,step:10,pipstep:50,pips:!0,first:"label",last:"label",rest:"pip"};e[3]!==void 0&&(Ke.values=e[3]),f=new Kt({props:Ke}),ht.push(()=>mt(f,"values",wt));function ot(X){e[15](X)}let ft={min:100,max:1200,step:10,pipstep:50,pips:!0,first:"label",last:"label",rest:"pip"};e[4]!==void 0&&(ft.values=e[4]),C=new Kt({props:ft}),ht.push(()=>mt(C,"values",ot));function Ae(X){e[16](X)}let tt={min:1,max:5,step:1,pipstep:1,pips:!0,first:"label",last:"label",rest:"pip"};e[5]!==void 0&&(tt.values=e[5]),V=new Kt({props:tt}),ht.push(()=>mt(V,"values",Ae));function Re(X){e[17](X)}let it={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[6]!==void 0&&(it.values=e[6]),le=new Kt({props:it}),ht.push(()=>mt(le,"values",Re));let rt=me(Object.keys(e[11])),I=[];for(let X=0;X<rt.length;X+=1)I[X]=pu(hu(e,rt,X));let ee=me(Object.keys(e[12])),Ie=[];for(let X=0;X<ee.length;X+=1)Ie[X]=_u(gu(e,ee,X));return Te=new l1({props:{selectedSourceIndex:e[0],width:e[3][0],height:e[4][0],ratio:e[5][0],textSize:e[6][0],labelType:e[7],simplifyMethod:e[8]}}),{c(){t=b("div"),t.innerHTML=n,l=k(),i=b("div"),r=b("div"),o=b("div"),s=W("Plot width: "),a=W(e[3]),u=k(),Je(f.$$.fragment),g=k(),m=b("div"),_=W("Plot height: "),v=W(e[4]),y=k(),Je(C.$$.fragment),P=k(),D=b("div"),T=W("Tile ratio: "),M=W(e[5]),U=k(),Je(V.$$.fragment),z=k(),N=b("div"),O=W("Geneset name size: "),j=W(e[6]),K=k(),Je(le.$$.fragment),ve=k(),q=b("div"),pe=W("Label style: "),se=b("i"),be=k(),ye=b("br"),ae=k(),F=b("select");for(let X=0;X<I.length;X+=1)I[X].c();fe=k(),x=b("div"),Ee=b("div"),we=b("div"),Xe=b("button"),Xe.textContent=Ye,Ne=k(),de=b("i"),dt=k(),ze=b("div"),Se=b("div"),Se.innerHTML=vt,J=k(),he=b("select");for(let X=0;X<Ie.length;X+=1)Ie[X].c();Q=k(),ge=b("div"),Je(Te.$$.fragment),this.h()},l(X){t=w(X,"DIV",{style:!0,"data-svelte-h":!0}),ue(t)!=="svelte-ivy8cf"&&(t.innerHTML=n),l=R(X),i=w(X,"DIV",{style:!0});var Me=S(i);r=w(Me,"DIV",{style:!0});var ne=S(r);o=w(ne,"DIV",{});var Ve=S(o);s=Y(Ve,"Plot width: "),a=Y(Ve,e[3]),u=R(Ve),xe(f.$$.fragment,Ve),Ve.forEach(p),g=R(ne),m=w(ne,"DIV",{});var Le=S(m);_=Y(Le,"Plot height: "),v=Y(Le,e[4]),y=R(Le),xe(C.$$.fragment,Le),Le.forEach(p),P=R(ne),D=w(ne,"DIV",{});var nt=S(D);T=Y(nt,"Tile ratio: "),M=Y(nt,e[5]),U=R(nt),xe(V.$$.fragment,nt),nt.forEach(p),z=R(ne),N=w(ne,"DIV",{});var L=S(N);O=Y(L,"Geneset name size: "),j=Y(L,e[6]),K=R(L),xe(le.$$.fragment,L),L.forEach(p),ve=R(ne),q=w(ne,"DIV",{style:!0});var Z=S(q);pe=Y(Z,"Label style: "),se=w(Z,"I",{class:!0,style:!0,"data-tooltip":!0}),S(se).forEach(p),be=R(Z),ye=w(Z,"BR",{}),ae=R(Z),F=w(Z,"SELECT",{});var We=S(F);for(let bt=0;bt<I.length;bt+=1)I[bt].l(We);We.forEach(p),Z.forEach(p),ne.forEach(p),fe=R(Me),x=w(Me,"DIV",{style:!0});var Be=S(x);Ee=w(Be,"DIV",{style:!0});var $=S(Ee);we=w($,"DIV",{style:!0});var ke=S(we);Xe=w(ke,"BUTTON",{"data-svelte-h":!0}),ue(Xe)!=="svelte-1f0phuj"&&(Xe.textContent=Ye),Ne=R(ke),de=w(ke,"I",{class:!0,style:!0,"data-tooltip":!0}),S(de).forEach(p),ke.forEach(p),$.forEach(p),dt=R(Be),ze=w(Be,"DIV",{style:!0});var Pe=S(ze);Se=w(Pe,"DIV",{style:!0,"data-svelte-h":!0}),ue(Se)!=="svelte-2fifuj"&&(Se.innerHTML=vt),J=R(Pe),he=w(Pe,"SELECT",{});var ut=S(he);for(let bt=0;bt<Ie.length;bt+=1)Ie[bt].l(ut);ut.forEach(p),Pe.forEach(p),Be.forEach(p),Me.forEach(p),Q=R(X),ge=w(X,"DIV",{});var St=S(ge);xe(Te.$$.fragment,St),St.forEach(p),this.h()},h(){G(t,"margin-bottom","10px"),G(t,"border-bottom","1px solid grey"),G(t,"padding-bottom","20px"),h(se,"class","helpicon"),G(se,"margin-right","2px"),G(se,"float","left"),h(se,"data-tooltip",bn.TREEMAP_LABELS),e[7]===void 0&&Jn(()=>e[18].call(F)),G(q,"display","inline-block"),G(r,"display","flex"),G(r,"justify-content","space-between"),h(de,"class","helpicon"),G(de,"margin-left","5px"),h(de,"data-tooltip",bn.DOWNLOAD),G(we,"display","flex"),G(Ee,"align-self","flex-end"),G(Se,"display","flex"),G(Se,"align-items","center"),e[8]===void 0&&Jn(()=>e[20].call(he)),G(ze,"margin-left","80px"),G(x,"display","flex"),G(x,"justify-content","start"),G(i,"margin-bottom","50px"),G(i,"border-bottom","1px solid grey"),G(i,"padding-bottom","20px")},m(X,Me){A(X,t,Me),A(X,l,Me),A(X,i,Me),c(i,r),c(r,o),c(o,s),c(o,a),c(o,u),Qe(f,o,null),c(r,g),c(r,m),c(m,_),c(m,v),c(m,y),Qe(C,m,null),c(r,P),c(r,D),c(D,T),c(D,M),c(D,U),Qe(V,D,null),c(r,z),c(r,N),c(N,O),c(N,j),c(N,K),Qe(le,N,null),c(r,ve),c(r,q),c(q,pe),c(q,se),c(q,be),c(q,ye),c(q,ae),c(q,F);for(let ne=0;ne<I.length;ne+=1)I[ne]&&I[ne].m(F,null);an(F,e[7],!0),c(i,fe),c(i,x),c(x,Ee),c(Ee,we),c(we,Xe),c(we,Ne),c(we,de),c(x,dt),c(x,ze),c(ze,Se),c(ze,J),c(ze,he);for(let ne=0;ne<Ie.length;ne+=1)Ie[ne]&&Ie[ne].m(he,null);an(he,e[8],!0),A(X,Q,Me),A(X,ge,Me),Qe(Te,ge,null),_e=!0,He||(et=[ie(F,"change",e[18]),ie(Xe,"click",e[19]),ie(he,"change",e[20])],He=!0)},p(X,Me){(!_e||Me&8)&&De(a,X[3]);const ne={};!d&&Me&8&&(d=!0,ne.values=X[3],_t(()=>d=!1)),f.$set(ne),(!_e||Me&16)&&De(v,X[4]);const Ve={};!E&&Me&16&&(E=!0,Ve.values=X[4],_t(()=>E=!1)),C.$set(Ve),(!_e||Me&32)&&De(M,X[5]);const Le={};!B&&Me&32&&(B=!0,Le.values=X[5],_t(()=>B=!1)),V.$set(Le),(!_e||Me&64)&&De(j,X[6]);const nt={};if(!Ce&&Me&64&&(Ce=!0,nt.values=X[6],_t(()=>Ce=!1)),le.$set(nt),Me&2048){rt=me(Object.keys(X[11]));let Z;for(Z=0;Z<rt.length;Z+=1){const We=hu(X,rt,Z);I[Z]?I[Z].p(We,Me):(I[Z]=pu(We),I[Z].c(),I[Z].m(F,null))}for(;Z<I.length;Z+=1)I[Z].d(1);I.length=rt.length}if(Me&2176&&an(F,X[7]),Me&4096){ee=me(Object.keys(X[12]));let Z;for(Z=0;Z<ee.length;Z+=1){const We=gu(X,ee,Z);Ie[Z]?Ie[Z].p(We,Me):(Ie[Z]=_u(We),Ie[Z].c(),Ie[Z].m(he,null))}for(;Z<Ie.length;Z+=1)Ie[Z].d(1);Ie.length=ee.length}Me&4352&&an(he,X[8]);const L={};Me&1&&(L.selectedSourceIndex=X[0]),Me&8&&(L.width=X[3][0]),Me&16&&(L.height=X[4][0]),Me&32&&(L.ratio=X[5][0]),Me&64&&(L.textSize=X[6][0]),Me&128&&(L.labelType=X[7]),Me&256&&(L.simplifyMethod=X[8]),Te.$set(L)},i(X){_e||(oe(f.$$.fragment,X),oe(C.$$.fragment,X),oe(V.$$.fragment,X),oe(le.$$.fragment,X),oe(Te.$$.fragment,X),_e=!0)},o(X){ce(f.$$.fragment,X),ce(C.$$.fragment,X),ce(V.$$.fragment,X),ce(le.$$.fragment,X),ce(Te.$$.fragment,X),_e=!1},d(X){X&&(p(t),p(l),p(i),p(Q),p(ge)),$e(f),$e(C),$e(V),$e(le),st(I,X),st(Ie,X),$e(Te),He=!1,Qt(et)}}}function r1(e){let t,n,l,i,r;function o(a){e[13](a)}let s={colour:"black",size:"1.5em"};return e[9]!==void 0&&(s.show=e[9]),n=new Zn({props:s}),ht.push(()=>mt(n,"show",o)),{c(){t=b("div"),Je(n.$$.fragment),i=W(`\r
			computing...`)},l(a){t=w(a,"DIV",{});var u=S(t);xe(n.$$.fragment,u),i=Y(u,`\r
			computing...`),u.forEach(p)},m(a,u){A(a,t,u),Qe(n,t,null),c(t,i),r=!0},p(a,u){const f={};!l&&u&512&&(l=!0,f.show=a[9],_t(()=>l=!1)),n.$set(f)},i(a){r||(oe(n.$$.fragment,a),r=!0)},o(a){ce(n.$$.fragment,a),r=!1},d(a){a&&p(t),$e(n)}}}function o1(e){let t,n=`The gene set database does not incorporate parent-child relations; visualization of\r
			tree-structure is not available.`;return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),ue(t)!=="svelte-bsqo89"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:at,i:at,o:at,d(l){l&&p(t)}}}function pu(e){let t,n=e[11][e[21]]+"",l,i;return{c(){t=b("option"),l=W(n),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=Y(o,n),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[21],Yt(t,t.__value)},m(r,o){A(r,t,o),c(t,l),c(t,i)},p:at,d(r){r&&p(t)}}}function _u(e){let t,n=e[12][e[21]]+"",l,i;return{c(){t=b("option"),l=W(n),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=Y(o,n),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[21],Yt(t,t.__value)},m(r,o){A(r,t,o),c(t,l),c(t,i)},p:at,d(r){r&&p(t)}}}function s1(e){let t,n,l,i;const r=[o1,r1,i1],o=[];function s(a,u){return a[1]!==!0?0:a[9]===!0?1:2}return n=s(e),l=o[n]=r[n](e),{c(){t=b("div"),l.c(),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);l.l(u),u.forEach(p),this.h()},h(){G(t,"min-height","900px")},m(a,u){A(a,t,u),o[n].m(t,null),i=!0},p(a,[u]){let f=n;n=s(a),n===f?o[n].p(a,u):(qt(),ce(o[f],1,1,()=>{o[f]=null}),Ut(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),oe(l,1),l.m(t,null))},i(a){i||(oe(l),i=!0)},o(a){ce(l),i=!1},d(a){a&&p(t),o[n].d()}}}function a1(e,t,n){let l,i,r;Pt(e,un,V=>n(2,i=V));const o=hn(!1);Pt(e,o,V=>n(9,r=V));let{selectedSourceIndex:s=0}=t,a=[800],u=[400],f=[3],d=[14],g="name",m="none";const _={name:"name",id:"ID",leadingName:"1 name per branch",leadingNameAndId:"1 name per branch + IDs",toplevelName:"parent name",none:"no labels"},v={none:"disable",prune_singletons:"prune singletons",leaf_only:"only leaf nodes"};function y(V){r=V,o.set(r)}function C(V){a=V,n(3,a)}function E(V){u=V,n(4,u)}function P(V){f=V,n(5,f)}function D(V){d=V,n(6,d)}function T(){g=$l(this),n(7,g),n(11,_)}const M=()=>er("mytreemap","GOAT-online__treemap_"+i.genesets[s].source);function U(){m=$l(this),n(8,m),n(12,v)}return e.$$set=V=>{"selectedSourceIndex"in V&&n(0,s=V.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty&4&&n(1,l=typeof i=="object"&&i.hasDag===!0),e.$$.dirty&3&&l&&Tf(s,o)},[s,l,i,a,u,f,d,g,m,r,o,_,v,y,C,E,P,D,T,M,U]}class u1 extends $t{constructor(t){super(),ln(this,t,a1,s1,nn,{selectedSourceIndex:0})}}function mu(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function vu(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function bu(e,t,n){const l=e.slice();return l[23]=t[n],l[21]=n,l}function wu(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function yu(e,t,n){const l=e.slice();return l[26]=t[n],l[28]=n,l}function Su(e,t,n){const l=e.slice();return l[23]=t[n],l[21]=n,l}function Cu(e,t,n){const l=e.slice();return l[23]=t[n],l[21]=n,l}function f1(e){let t,n,l,i;return{c(){t=b("div"),n=W("This analysis requires at least 3 and at most "),l=W(e[6]),i=W(` (significant) genesets. If you identified\r
		a huge number of genesets for the currently selected GO domain, consider a more stringent setting\r
		for the adjusted p-value threshold (i.e. reduce the number of significant genesets which concentrates\r
		downstream interpretation on top results).`)},l(r){t=w(r,"DIV",{});var o=S(t);n=Y(o,"This analysis requires at least 3 and at most "),l=Y(o,e[6]),i=Y(o,` (significant) genesets. If you identified\r
		a huge number of genesets for the currently selected GO domain, consider a more stringent setting\r
		for the adjusted p-value threshold (i.e. reduce the number of significant genesets which concentrates\r
		downstream interpretation on top results).`),o.forEach(p)},m(r,o){A(r,t,o),c(t,n),c(t,l),c(t,i)},p(r,o){o&64&&De(l,r[6])},d(r){r&&p(t)}}}function d1(e){let t,n,l,i,r,o,s,a,u,f=me(e[8].sortedIndices),d=[];for(let y=0;y<f.length;y+=1)d[y]=ku(Cu(e,f,y));let g=e[2]!==""&&Ru(e),m=me(e[8].sortedIndices),_=[];for(let y=0;y<m.length;y+=1)_[y]=Iu(wu(e,m,y));let v=e[10]!==0&&Mu(e);return{c(){t=b("div"),n=qe("svg"),l=qe("g");for(let y=0;y<d.length;y+=1)d[y].c();i=Oe(),g&&g.c(),r=qe("g");for(let y=0;y<_.length;y+=1)_[y].c();o=Oe(),v&&v.c(),this.h()},l(y){t=w(y,"DIV",{id:!0});var C=S(t);n=Ue(C,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var E=S(n);l=Ue(E,"g",{});var P=S(l);for(let T=0;T<d.length;T+=1)d[T].l(P);i=Oe(),g&&g.l(P),P.forEach(p),r=Ue(E,"g",{});var D=S(r);for(let T=0;T<_.length;T+=1)_[T].l(D);o=Oe(),v&&v.l(D),D.forEach(p),E.forEach(p),C.forEach(p),this.h()},h(){h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",s=e[14]+2*Fe),h(n,"height",a=e[13]+2*Fe),h(n,"viewBox",u="0 0 "+(e[14]+2*Fe)+" "+(e[13]+2*Fe)),h(t,"id","myheatmap")},m(y,C){A(y,t,C),c(t,n),c(n,l);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(l,null);c(l,i),g&&g.m(l,null),c(n,r);for(let E=0;E<_.length;E+=1)_[E]&&_[E].m(r,null);c(r,o),v&&v.m(r,null)},p(y,C){if(C&771){f=me(y[8].sortedIndices);let E;for(E=0;E<f.length;E+=1){const P=Cu(y,f,E);d[E]?d[E].p(P,C):(d[E]=ku(P),d[E].c(),d[E].m(l,i))}for(;E<d.length;E+=1)d[E].d(1);d.length=f.length}if(y[2]!==""?g?g.p(y,C):(g=Ru(y),g.c(),g.m(l,null)):g&&(g.d(1),g=null),C&1930){m=me(y[8].sortedIndices);let E;for(E=0;E<m.length;E+=1){const P=wu(y,m,E);_[E]?_[E].p(P,C):(_[E]=Iu(P),_[E].c(),_[E].m(r,o))}for(;E<_.length;E+=1)_[E].d(1);_.length=m.length}y[10]!==0?v?v.p(y,C):(v=Mu(y),v.c(),v.m(r,null)):v&&(v.d(1),v=null),C&16384&&s!==(s=y[14]+2*Fe)&&h(n,"width",s),C&8192&&a!==(a=y[13]+2*Fe)&&h(n,"height",a),C&24576&&u!==(u="0 0 "+(y[14]+2*Fe)+" "+(y[13]+2*Fe))&&h(n,"viewBox",u)},d(y){y&&p(t),st(d,y),g&&g.d(),st(_,y),v&&v.d()}}}function ku(e){let t,n=e[8].genesets[e[23]].nameTruncated+"",l,i,r,o;return{c(){t=qe("text"),l=W(n),this.h()},l(s){t=Ue(s,"text",{"font-size":!0,"font-family":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0});var a=S(t);l=Y(a,n),a.forEach(p),this.h()},h(){h(t,"font-size",i=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",r=e[9]-Math.ceil(e[1]/2)+Fe),h(t,"y",o=Math.ceil(e[1]/2)+e[21]*e[1]+Fe),h(t,"fill","black")},m(s,a){A(s,t,a),c(t,l)},p(s,a){a&256&&n!==(n=s[8].genesets[s[23]].nameTruncated+"")&&De(l,n),a&1&&i!==(i=s[0]+"px")&&h(t,"font-size",i),a&514&&r!==(r=s[9]-Math.ceil(s[1]/2)+Fe)&&h(t,"x",r),a&2&&o!==(o=Math.ceil(s[1]/2)+s[21]*s[1]+Fe)&&h(t,"y",o)},d(s){s&&p(t)}}}function Ru(e){let t,n=me(e[7]?e[8].sortedIndices:e[8].sortedIndicesColumns),l=[];for(let i=0;i<n.length;i+=1)l[i]=Eu(Su(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=Oe()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=Oe()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r&1927){n=me(i[7]?i[8].sortedIndices:i[8].sortedIndicesColumns);let o;for(o=0;o<n.length;o+=1){const s=Su(i,n,o);l[o]?l[o].p(s,r):(l[o]=Eu(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function Eu(e){let t,n=e[8].genesets[e[23]].nameTruncated+"",l,i,r,o,s;return{c(){t=qe("text"),l=W(n),this.h()},l(a){t=Ue(a,"text",{"font-size":!0,"font-family":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,transform:!0});var u=S(t);l=Y(u,n),u.forEach(p),this.h()},h(){h(t,"font-size",i=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",r=e[9]+e[21]*e[1]+Math.ceil(e[1]/2)+e[10]+Fe),h(t,"y",o=e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Fe),h(t,"fill","black"),h(t,"transform",s="rotate("+e[2]+","+(e[9]+e[21]*e[1]+Math.ceil(e[1]/2)+e[10]+Fe)+","+(e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Fe)+")")},m(a,u){A(a,t,u),c(t,l)},p(a,u){u&384&&n!==(n=a[8].genesets[a[23]].nameTruncated+"")&&De(l,n),u&1&&i!==(i=a[0]+"px")&&h(t,"font-size",i),u&1538&&r!==(r=a[9]+a[21]*a[1]+Math.ceil(a[1]/2)+a[10]+Fe)&&h(t,"x",r),u&258&&o!==(o=a[8].genesets.length*a[1]+Math.ceil(a[1]/2)+Fe)&&h(t,"y",o),u&1798&&s!==(s="rotate("+a[2]+","+(a[9]+a[21]*a[1]+Math.ceil(a[1]/2)+a[10]+Fe)+","+(a[8].genesets.length*a[1]+Math.ceil(a[1]/2)+Fe)+")")&&h(t,"transform",s)},d(a){a&&p(t)}}}function c1(e){let t="row: "+e[8].genesets[e[19]].name+`
column: `+e[8].genesets[e[26]].name+`
similarity score (column is superset of row): `+e[8].dist[e[19]][e[26]].toPrecision(2)+`
gene count for row: `+e[8].genesets[e[19]].ngenes+"  column: "+ +e[8].genesets[e[26]].ngenes,n;return{c(){n=W(t)},l(l){n=Y(l,t)},m(l,i){A(l,n,i)},p(l,i){i&384&&t!==(t="row: "+l[8].genesets[l[19]].name+`
column: `+l[8].genesets[l[26]].name+`
similarity score (column is superset of row): `+l[8].dist[l[19]][l[26]].toPrecision(2)+`
gene count for row: `+l[8].genesets[l[19]].ngenes+"  column: "+ +l[8].genesets[l[26]].ngenes)&&De(n,t)},d(l){l&&p(n)}}}function g1(e){let t="diagonal: "+e[8].genesets[e[19]].name+`
gene count: `+e[8].genesets[e[19]].ngenes,n;return{c(){n=W(t)},l(l){n=Y(l,t)},m(l,i){A(l,n,i)},p(l,i){i&256&&t!==(t="diagonal: "+l[8].genesets[l[19]].name+`
gene count: `+l[8].genesets[l[19]].ngenes)&&De(n,t)},d(l){l&&p(n)}}}function Au(e){let t,n,l,i,r,o;function s(f,d){return f[7]&&f[19]===f[26]?g1:c1}let a=s(e),u=a(e);return{c(){t=qe("rect"),n=qe("title"),u.c(),this.h()},l(f){t=Ue(f,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0});var d=S(t);n=Ue(d,"title",{});var g=S(n);u.l(g),g.forEach(p),d.forEach(p),this.h()},h(){h(t,"x",l=e[9]+e[28]*e[1]+e[10]+Fe),h(t,"y",i=e[21]*e[1]+1+Fe),h(t,"width",e[1]),h(t,"height",e[1]),h(t,"fill",r=ms(e[8].dist[e[19]][e[26]],e[3])),h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width",o=e[1]>=8?1:.5),h(t,"stroke-miterlimit","10")},m(f,d){A(f,t,d),c(t,n),u.m(n,null)},p(f,d){a===(a=s(f))&&u?u.p(f,d):(u.d(1),u=a(f),u&&(u.c(),u.m(n,null))),d&1538&&l!==(l=f[9]+f[28]*f[1]+f[10]+Fe)&&h(t,"x",l),d&2&&i!==(i=f[21]*f[1]+1+Fe)&&h(t,"y",i),d&2&&h(t,"width",f[1]),d&2&&h(t,"height",f[1]),d&392&&r!==(r=ms(f[8].dist[f[19]][f[26]],f[3]))&&h(t,"fill",r),d&2&&o!==(o=f[1]>=8?1:.5)&&h(t,"stroke-width",o)},d(f){f&&p(t),u.d()}}}function Iu(e){let t,n=me(e[7]?e[8].sortedIndices:e[8].sortedIndicesColumns),l=[];for(let i=0;i<n.length;i+=1)l[i]=Au(yu(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=Oe()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=Oe()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r&1930){n=me(i[7]?i[8].sortedIndices:i[8].sortedIndicesColumns);let o;for(o=0;o<n.length;o+=1){const s=yu(i,n,o);l[o]?l[o].p(s,r):(l[o]=Au(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function Mu(e){let t,n,l,i,r=e[5]===!0&&Du(e),o=me(e[8].sortedIndices),s=[];for(let f=0;f<o.length;f+=1)s[f]=Pu(vu(e,o,f));let a=e[2]!==""&&zu(e),u=e[4]===!0&&Fu(e);return{c(){r&&r.c(),t=Oe();for(let f=0;f<s.length;f+=1)s[f].c();n=Oe(),a&&a.c(),l=Oe(),u&&u.c(),i=Oe()},l(f){r&&r.l(f),t=Oe();for(let d=0;d<s.length;d+=1)s[d].l(f);n=Oe(),a&&a.l(f),l=Oe(),u&&u.l(f),i=Oe()},m(f,d){r&&r.m(f,d),A(f,t,d);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(f,d);A(f,n,d),a&&a.m(f,d),A(f,l,d),u&&u.m(f,d),A(f,i,d)},p(f,d){if(f[5]===!0?r?r.p(f,d):(r=Du(f),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),d&35618){o=me(f[8].sortedIndices);let g;for(g=0;g<o.length;g+=1){const m=vu(f,o,g);s[g]?s[g].p(m,d):(s[g]=Pu(m),s[g].c(),s[g].m(n.parentNode,n))}for(;g<s.length;g+=1)s[g].d(1);s.length=o.length}f[2]!==""?a?a.p(f,d):(a=zu(f),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),f[4]===!0?u?u.p(f,d):(u=Fu(f),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},d(f){f&&(p(t),p(n),p(l),p(i)),r&&r.d(f),st(s,f),a&&a.d(f),u&&u.d(f)}}}function Du(e){let t,n,l=me(e[8].sortedIndices),i=[];for(let o=0;o<l.length;o+=1)i[o]=Tu(bu(e,l,o));let r=e[2]!==""&&Vu(e);return{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=Oe(),r&&r.c(),n=Oe()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);t=Oe(),r&&r.l(o),n=Oe()},m(o,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,s);A(o,t,s),r&&r.m(o,s),A(o,n,s)},p(o,s){if(s&2818){l=me(o[8].sortedIndices);let a;for(a=0;a<l.length;a+=1){const u=bu(o,l,a);i[a]?i[a].p(u,s):(i[a]=Tu(u),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=l.length}o[2]!==""?r?r.p(o,s):(r=Vu(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){o&&(p(t),p(n)),st(i,o),r&&r.d(o)}}}function Tu(e){let t,n,l,i,r;return{c(){t=qe("rect"),this.h()},l(o){t=Ue(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),S(t).forEach(p),this.h()},h(){h(t,"x",n=e[9]+Fe),h(t,"y",l=e[21]*e[1]+1+Fe),h(t,"width",e[11]),h(t,"height",e[1]),h(t,"fill",i=Hu(e[8].genesets[e[23]].score_type)),h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width",r=e[1]>=8?1:.5),h(t,"stroke-miterlimit","10")},m(o,s){A(o,t,s)},p(o,s){s&512&&n!==(n=o[9]+Fe)&&h(t,"x",n),s&2&&l!==(l=o[21]*o[1]+1+Fe)&&h(t,"y",l),s&2048&&h(t,"width",o[11]),s&2&&h(t,"height",o[1]),s&256&&i!==(i=Hu(o[8].genesets[o[23]].score_type))&&h(t,"fill",i),s&2&&r!==(r=o[1]>=8?1:.5)&&h(t,"stroke-width",r)},d(o){o&&p(t)}}}function Vu(e){let t,n,l,i,r,o;return{c(){t=qe("text"),n=W(`score type\r
							`),this.h()},l(s){t=Ue(s,"text",{"font-size":!0,"font-family":!0,"font-weight":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,transform:!0});var a=S(t);n=Y(a,`score type\r
							`),a.forEach(p),this.h()},h(){h(t,"font-size",l=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"font-weight","bold"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",i=e[9]+Fe+Math.round(e[11]/4)),h(t,"y",r=e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Fe),h(t,"fill","black"),h(t,"transform",o="rotate("+e[2]+","+(e[9]+Fe+Math.round(e[11]/4))+","+(e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Fe)+")")},m(s,a){A(s,t,a),c(t,n)},p(s,a){a&1&&l!==(l=s[0]+"px")&&h(t,"font-size",l),a&2560&&i!==(i=s[9]+Fe+Math.round(s[11]/4))&&h(t,"x",i),a&258&&r!==(r=s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Fe)&&h(t,"y",r),a&2822&&o!==(o="rotate("+s[2]+","+(s[9]+Fe+Math.round(s[11]/4))+","+(s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Fe)+")")&&h(t,"transform",o)},d(s){s&&p(t)}}}function Pu(e){let t,n,l,i,r;return{c(){t=qe("rect"),this.h()},l(o){t=Ue(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),S(t).forEach(p),this.h()},h(){h(t,"x",n=e[9]+Fe+(e[5]?e[11]:0)),h(t,"y",l=e[21]*e[1]+1+Fe),h(t,"width",e[11]),h(t,"height",e[1]),h(t,"fill",i=e[8].clusters[e[15]-2].index2clusterColor[e[19]]),h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width",r=e[1]>=8?1:.5),h(t,"stroke-miterlimit","10")},m(o,s){A(o,t,s)},p(o,s){s&2592&&n!==(n=o[9]+Fe+(o[5]?o[11]:0))&&h(t,"x",n),s&2&&l!==(l=o[21]*o[1]+1+Fe)&&h(t,"y",l),s&2048&&h(t,"width",o[11]),s&2&&h(t,"height",o[1]),s&33024&&i!==(i=o[8].clusters[o[15]-2].index2clusterColor[o[19]])&&h(t,"fill",i),s&2&&r!==(r=o[1]>=8?1:.5)&&h(t,"stroke-width",r)},d(o){o&&p(t)}}}function zu(e){let t,n,l,i,r,o;return{c(){t=qe("text"),n=W(`cluster\r
						`),this.h()},l(s){t=Ue(s,"text",{"font-size":!0,"font-family":!0,"font-weight":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,transform:!0});var a=S(t);n=Y(a,`cluster\r
						`),a.forEach(p),this.h()},h(){h(t,"font-size",l=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"font-weight","bold"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",i=e[9]+Fe+Math.round(e[11]/2)+(e[5]?e[11]:0)),h(t,"y",r=e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Fe),h(t,"fill","black"),h(t,"transform",o="rotate("+e[2]+","+(e[9]+Fe+Math.round(e[11]/2)+(e[5]?e[11]:0))+","+(e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Fe)+")")},m(s,a){A(s,t,a),c(t,n)},p(s,a){a&1&&l!==(l=s[0]+"px")&&h(t,"font-size",l),a&2592&&i!==(i=s[9]+Fe+Math.round(s[11]/2)+(s[5]?s[11]:0))&&h(t,"x",i),a&258&&r!==(r=s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Fe)&&h(t,"y",r),a&2854&&o!==(o="rotate("+s[2]+","+(s[9]+Fe+Math.round(s[11]/2)+(s[5]?s[11]:0))+","+(s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Fe)+")")&&h(t,"transform",o)},d(s){s&&p(t)}}}function Fu(e){let t,n=me(e[8].sortedIndices),l=[];for(let i=0;i<n.length;i+=1)l[i]=Ou(mu(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=Oe()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=Oe()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r&33538){n=me(i[8].sortedIndices);let o;for(o=0;o<n.length;o+=1){const s=mu(i,n,o);l[o]?l[o].p(s,r):(l[o]=Ou(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function Gu(e){let t,n,l,i,r;return{c(){t=qe("line"),this.h()},l(o){t=Ue(o,"line",{"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),this.h()},h(){h(t,"shape-rendering","crispEdges"),h(t,"stroke","green"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"x1",n=e[1]+Fe),h(t,"y1",l=e[21]*e[1]+Fe-1),h(t,"x2",i=e[9]+Fe),h(t,"y2",r=e[21]*e[1]+Fe-1)},m(o,s){A(o,t,s)},p(o,s){s&2&&n!==(n=o[1]+Fe)&&h(t,"x1",n),s&2&&l!==(l=o[21]*o[1]+Fe-1)&&h(t,"y1",l),s&512&&i!==(i=o[9]+Fe)&&h(t,"x2",i),s&2&&r!==(r=o[21]*o[1]+Fe-1)&&h(t,"y2",r)},d(o){o&&p(t)}}}function Ou(e){let t,n=e[21]!==0&&e[8].clusters[e[15]-2].index2cluster[e[19]]!==e[8].clusters[e[15]-2].index2cluster[e[8].sortedIndices[e[21]-1]]&&Gu(e);return{c(){n&&n.c(),t=Oe()},l(l){n&&n.l(l),t=Oe()},m(l,i){n&&n.m(l,i),A(l,t,i)},p(l,i){l[21]!==0&&l[8].clusters[l[15]-2].index2cluster[l[19]]!==l[8].clusters[l[15]-2].index2cluster[l[8].sortedIndices[l[21]-1]]?n?n.p(l,i):(n=Gu(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&p(t),n&&n.d(l)}}}function h1(e){let t;function n(r,o){if(r[8]!==void 0)return d1;if(r[12]===!1)return f1}let l=n(e),i=l&&l(e);return{c(){i&&i.c(),t=Oe()},l(r){i&&i.l(r),t=Oe()},m(r,o){i&&i.m(r,o),A(r,t,o)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i&&i.d(1),i=l&&l(r),i&&(i.c(),i.m(t.parentNode,t)))},i:at,o:at,d(r){r&&p(t),i&&i.d(r)}}}const Fe=10;function Hu(e){return e==="effectsize_down"?"#5E7ABC":e==="effectsize_up"?"#E57373":"#78909C"}function p1(e,t,n){let l,i,r,o,s,a,u,f,d;Pt(e,un,M=>n(18,d=M));let{selectedSourceIndex:g=0}=t,{textSize:m=8}=t,{rowHeight:_=8}=t,{labelRotate:v="-45"}=t,{clusterCount:y=8}=t,{colors:C=void 0}=t,{showClusterMarker:E=!0}=t,{showAnnotationScoretype:P=!0}=t,{maxGenesetCount:D=400}=t,{showSymmetricHeatmap:T=!1}=t;return e.$$set=M=>{"selectedSourceIndex"in M&&n(16,g=M.selectedSourceIndex),"textSize"in M&&n(0,m=M.textSize),"rowHeight"in M&&n(1,_=M.rowHeight),"labelRotate"in M&&n(2,v=M.labelRotate),"clusterCount"in M&&n(17,y=M.clusterCount),"colors"in M&&n(3,C=M.colors),"showClusterMarker"in M&&n(4,E=M.showClusterMarker),"showAnnotationScoretype"in M&&n(5,P=M.showAnnotationScoretype),"maxGenesetCount"in M&&n(6,D=M.maxGenesetCount),"showSymmetricHeatmap"in M&&n(7,T=M.showSymmetricHeatmap)},e.$$.update=()=>{e.$$.dirty&327680&&n(12,l=typeof d=="object"&&Array.isArray(d.genesetDistances)&&d.genesetDistances.length>g&&!!d.genesetDistances[g]&&d.genesets[g].stats.signif_count>2&&Array.isArray(d.genesetDistances[g].clusters)),e.$$.dirty&331776&&n(8,i=l&&d.genesetDistances[g]?d.genesetDistances[g]:void 0),e.$$.dirty&258&&n(9,r=i!==void 0?i.maxLabelWidth+_:0),e.$$.dirty&131328&&n(15,o=y<2||i===void 0?2:Math.max(0,Math.min(y,i.clusters[i.clusters.length-1].size))),e.$$.dirty&2&&n(11,s=Math.max(4,Math.ceil(_*.75))),e.$$.dirty&133152&&n(10,a=(y!==0?s:0)+(P?s:0)+(y!==0||P?Math.ceil(s/2):0)),e.$$.dirty&1794&&n(14,u=i!==void 0?r+a+_*i.genesets.length+1:200),e.$$.dirty&774&&n(13,f=i!==void 0?(v===""?1:r*(v==="-45"?.75:1))+_*i.genesets.length:200)},[m,_,v,C,E,P,D,T,i,r,a,s,l,f,u,o,g,y,d]}class _1 extends $t{constructor(t){super(),ln(this,t,p1,h1,nn,{selectedSourceIndex:16,textSize:0,rowHeight:1,labelRotate:2,clusterCount:17,colors:3,showClusterMarker:4,showAnnotationScoretype:5,maxGenesetCount:6,showSymmetricHeatmap:7})}}function m1(){return new Worker(""+new URL("../workers/WorkerGenesetDistances-5597ad90.js",import.meta.url).href)}function Lu(e,t,n){const l=e.slice();return l[31]=t[n],l}function Nu(e,t,n){const l=e.slice();return l[31]=t[n],l}function v1(e){let t,n=`<div>Use the interactive tool below to create a customized heatmap visualization of significant
				gene sets. A gene set similarity matrix is computed from the (gene score weighted)
				proportion of overlap between each pair of gene sets. After hierarchical clustering it is
				visualized below. Hover your mouse cursor over the question mark symbols for further
				details. Hover your mouse cursor over the question mark symbols for further details.</div> <div>Hover any gene set in the heatmap to view details (full name of respective gene sets in row and column,
				gene set sizes / gene constituent count, similarity score; 1 is perfect overlap and 0 is no overlap).</div>`,l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,E,P,D,T,M,U,V,B,z,N,O,j,K,le,Ce,ve,q,pe,se,be,ye,ae,F,fe,x,Ee,we,Xe,Ye,Ne,de,dt,ze,Se,vt,J,he,Q,ge,Te,_e,He,et,wt="download",Ke,ot,ft,Ae,tt,Re,it,rt;function I($){e[18]($)}let ee={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[5]!==void 0&&(ee.values=e[5]),f=new Kt({props:ee}),ht.push(()=>mt(f,"values",I));function Ie($){e[19]($)}let X={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[2]!==void 0&&(X.values=e[2]),C=new Kt({props:X}),ht.push(()=>mt(C,"values",Ie));function Me($){e[20]($)}let ne={min:20,max:100,step:1,pipstep:10,pips:!0,first:"label",last:"label",rest:"pip"};e[3]!==void 0&&(ne.values=e[3]),V=new Kt({props:ne}),ht.push(()=>mt(V,"values",Me));let Ve=me(Object.keys(e[15])),Le=[];for(let $=0;$<Ve.length;$+=1)Le[$]=Bu(Nu(e,Ve,$));let nt=me(Object.keys(Oi)),L=[];for(let $=0;$<nt.length;$+=1)L[$]=ju(Lu(e,nt,$));function Z($){e[24]($)}let We={min:2,max:e[12],step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[7]!==void 0&&(We.values=e[7]),ze=new Kt({props:We}),ht.push(()=>mt(ze,"values",Z));let Be=e[1]==="effectsize"&&qu(e);return tt=new _1({props:{selectedSourceIndex:e[0],textSize:e[2][0],rowHeight:e[5][0],labelRotate:e[6],clusterCount:e[7][0],colors:Oi[e[8]],showClusterMarker:e[9],showAnnotationScoretype:e[11]&&e[1]==="effectsize",maxGenesetCount:Hf,showSymmetricHeatmap:e[10]}}),{c(){t=b("div"),t.innerHTML=n,l=k(),i=b("div"),r=b("div"),o=b("div"),s=W("Cell size: "),a=W(e[5]),u=k(),Je(f.$$.fragment),g=k(),m=b("div"),_=W("Geneset name size: "),v=W(e[2]),y=k(),Je(C.$$.fragment),P=k(),D=b("div"),T=W("Max. text length: "),M=W(e[3]),U=k(),Je(V.$$.fragment),z=k(),N=b("div"),O=W(`x-axis labels:\r
					`),j=b("br"),K=k(),le=b("select");for(let $=0;$<Le.length;$+=1)Le[$].c();Ce=k(),ve=b("div"),q=W(`Color palette:\r
					`),pe=b("br"),se=k(),be=b("select");for(let $=0;$<L.length;$+=1)L[$].c();ye=k(),ae=b("div"),F=b("input"),fe=W(" Cluster"),x=b("br"),Ee=W("delimiter line"),we=k(),Xe=b("div"),Ye=b("div"),Ne=W("Cluster count: "),de=W(e[7]),dt=k(),Je(ze.$$.fragment),vt=k(),J=b("div"),he=b("input"),Q=W(" Symmetric matrix"),ge=k(),Be&&Be.c(),Te=k(),_e=b("div"),He=b("div"),et=b("button"),et.textContent=wt,Ke=k(),ot=b("i"),ft=k(),Ae=b("div"),Je(tt.$$.fragment),this.h()},l($){t=w($,"DIV",{style:!0,"data-svelte-h":!0}),ue(t)!=="svelte-5cmtrb"&&(t.innerHTML=n),l=R($),i=w($,"DIV",{style:!0});var ke=S(i);r=w(ke,"DIV",{style:!0});var Pe=S(r);o=w(Pe,"DIV",{style:!0});var ut=S(o);s=Y(ut,"Cell size: "),a=Y(ut,e[5]),u=R(ut),xe(f.$$.fragment,ut),ut.forEach(p),g=R(Pe),m=w(Pe,"DIV",{});var St=S(m);_=Y(St,"Geneset name size: "),v=Y(St,e[2]),y=R(St),xe(C.$$.fragment,St),St.forEach(p),P=R(Pe),D=w(Pe,"DIV",{});var bt=S(D);T=Y(bt,"Max. text length: "),M=Y(bt,e[3]),U=R(bt),xe(V.$$.fragment,bt),bt.forEach(p),z=R(Pe),N=w(Pe,"DIV",{});var ct=S(N);O=Y(ct,`x-axis labels:\r
					`),j=w(ct,"BR",{}),K=R(ct),le=w(ct,"SELECT",{});var lt=S(le);for(let Ft=0;Ft<Le.length;Ft+=1)Le[Ft].l(lt);lt.forEach(p),ct.forEach(p),Ce=R(Pe),ve=w(Pe,"DIV",{});var Rt=S(ve);q=Y(Rt,`Color palette:\r
					`),pe=w(Rt,"BR",{}),se=R(Rt),be=w(Rt,"SELECT",{});var Nt=S(be);for(let Ft=0;Ft<L.length;Ft+=1)L[Ft].l(Nt);Nt.forEach(p),Rt.forEach(p),ye=R(Pe),ae=w(Pe,"DIV",{});var Zt=S(ae);F=w(Zt,"INPUT",{type:!0}),fe=Y(Zt," Cluster"),x=w(Zt,"BR",{}),Ee=Y(Zt,"delimiter line"),Zt.forEach(p),Pe.forEach(p),we=R(ke),Xe=w(ke,"DIV",{style:!0});var zt=S(Xe);Ye=w(zt,"DIV",{style:!0});var fn=S(Ye);Ne=Y(fn,"Cluster count: "),de=Y(fn,e[7]),dt=R(fn),xe(ze.$$.fragment,fn),fn.forEach(p),vt=R(zt),J=w(zt,"DIV",{style:!0});var Mt=S(J);he=w(Mt,"INPUT",{type:!0}),Q=Y(Mt," Symmetric matrix"),Mt.forEach(p),ge=R(zt),Be&&Be.l(zt),zt.forEach(p),Te=R(ke),_e=w(ke,"DIV",{style:!0});var xt=S(_e);He=w(xt,"DIV",{style:!0});var Dt=S(He);et=w(Dt,"BUTTON",{"data-svelte-h":!0}),ue(et)!=="svelte-c2a3ob"&&(et.textContent=wt),Ke=R(Dt),ot=w(Dt,"I",{class:!0,style:!0,"data-tooltip":!0}),S(ot).forEach(p),Dt.forEach(p),xt.forEach(p),ke.forEach(p),ft=R($),Ae=w($,"DIV",{});var Tn=S(Ae);xe(tt.$$.fragment,Tn),Tn.forEach(p),this.h()},h(){G(t,"margin-bottom","10px"),G(t,"border-bottom","1px solid grey"),G(t,"padding-bottom","20px"),G(o,"min-width","120px"),e[6]===void 0&&Jn(()=>e[21].call(le)),e[8]===void 0&&Jn(()=>e[22].call(be)),h(F,"type","checkbox"),G(r,"display","flex"),G(r,"justify-content","space-between"),G(Ye,"min-width","120px"),h(he,"type","checkbox"),G(J,"margin-left","40px"),G(J,"align-self","center"),G(Xe,"display","flex"),G(Xe,"justify-content","start"),h(ot,"class","helpicon"),G(ot,"margin-left","5px"),h(ot,"data-tooltip",bn.DOWNLOAD),G(He,"display","flex"),G(_e,"align-self","flex-end"),G(i,"margin-bottom","50px"),G(i,"border-bottom","1px solid grey"),G(i,"padding-bottom","20px")},m($,ke){A($,t,ke),A($,l,ke),A($,i,ke),c(i,r),c(r,o),c(o,s),c(o,a),c(o,u),Qe(f,o,null),c(r,g),c(r,m),c(m,_),c(m,v),c(m,y),Qe(C,m,null),c(r,P),c(r,D),c(D,T),c(D,M),c(D,U),Qe(V,D,null),c(r,z),c(r,N),c(N,O),c(N,j),c(N,K),c(N,le);for(let Pe=0;Pe<Le.length;Pe+=1)Le[Pe]&&Le[Pe].m(le,null);an(le,e[6],!0),c(r,Ce),c(r,ve),c(ve,q),c(ve,pe),c(ve,se),c(ve,be);for(let Pe=0;Pe<L.length;Pe+=1)L[Pe]&&L[Pe].m(be,null);an(be,e[8],!0),c(r,ye),c(r,ae),c(ae,F),F.checked=e[9],c(ae,fe),c(ae,x),c(ae,Ee),c(i,we),c(i,Xe),c(Xe,Ye),c(Ye,Ne),c(Ye,de),c(Ye,dt),Qe(ze,Ye,null),c(Xe,vt),c(Xe,J),c(J,he),he.checked=e[10],c(J,Q),c(Xe,ge),Be&&Be.m(Xe,null),c(i,Te),c(i,_e),c(_e,He),c(He,et),c(He,Ke),c(He,ot),A($,ft,ke),A($,Ae,ke),Qe(tt,Ae,null),Re=!0,it||(rt=[ie(le,"change",e[21]),ie(be,"change",e[22]),ie(F,"change",e[23]),ie(he,"change",e[25]),ie(et,"click",e[27])],it=!0)},p($,ke){(!Re||ke[0]&32)&&De(a,$[5]);const Pe={};!d&&ke[0]&32&&(d=!0,Pe.values=$[5],_t(()=>d=!1)),f.$set(Pe),(!Re||ke[0]&4)&&De(v,$[2]);const ut={};!E&&ke[0]&4&&(E=!0,ut.values=$[2],_t(()=>E=!1)),C.$set(ut),(!Re||ke[0]&8)&&De(M,$[3]);const St={};if(!B&&ke[0]&8&&(B=!0,St.values=$[3],_t(()=>B=!1)),V.$set(St),ke[0]&32768){Ve=me(Object.keys($[15]));let lt;for(lt=0;lt<Ve.length;lt+=1){const Rt=Nu($,Ve,lt);Le[lt]?Le[lt].p(Rt,ke):(Le[lt]=Bu(Rt),Le[lt].c(),Le[lt].m(le,null))}for(;lt<Le.length;lt+=1)Le[lt].d(1);Le.length=Ve.length}if(ke[0]&32832&&an(le,$[6]),ke&0){nt=me(Object.keys(Oi));let lt;for(lt=0;lt<nt.length;lt+=1){const Rt=Lu($,nt,lt);L[lt]?L[lt].p(Rt,ke):(L[lt]=ju(Rt),L[lt].c(),L[lt].m(be,null))}for(;lt<L.length;lt+=1)L[lt].d(1);L.length=nt.length}ke[0]&256&&an(be,$[8]),ke[0]&512&&(F.checked=$[9]),(!Re||ke[0]&128)&&De(de,$[7]);const bt={};ke[0]&4096&&(bt.max=$[12]),!Se&&ke[0]&128&&(Se=!0,bt.values=$[7],_t(()=>Se=!1)),ze.$set(bt),ke[0]&1024&&(he.checked=$[10]),$[1]==="effectsize"?Be?Be.p($,ke):(Be=qu($),Be.c(),Be.m(Xe,null)):Be&&(Be.d(1),Be=null);const ct={};ke[0]&1&&(ct.selectedSourceIndex=$[0]),ke[0]&4&&(ct.textSize=$[2][0]),ke[0]&32&&(ct.rowHeight=$[5][0]),ke[0]&64&&(ct.labelRotate=$[6]),ke[0]&128&&(ct.clusterCount=$[7][0]),ke[0]&256&&(ct.colors=Oi[$[8]]),ke[0]&512&&(ct.showClusterMarker=$[9]),ke[0]&2050&&(ct.showAnnotationScoretype=$[11]&&$[1]==="effectsize"),ke[0]&1024&&(ct.showSymmetricHeatmap=$[10]),tt.$set(ct)},i($){Re||(oe(f.$$.fragment,$),oe(C.$$.fragment,$),oe(V.$$.fragment,$),oe(ze.$$.fragment,$),oe(tt.$$.fragment,$),Re=!0)},o($){ce(f.$$.fragment,$),ce(C.$$.fragment,$),ce(V.$$.fragment,$),ce(ze.$$.fragment,$),ce(tt.$$.fragment,$),Re=!1},d($){$&&(p(t),p(l),p(i),p(ft),p(Ae)),$e(f),$e(C),$e(V),st(Le,$),st(L,$),$e(ze),Be&&Be.d(),$e(tt),it=!1,Qt(rt)}}}function b1(e){let t,n,l,i,r;function o(a){e[17](a)}let s={colour:"black",size:"1.5em"};return e[13]!==void 0&&(s.show=e[13]),n=new Zn({props:s}),ht.push(()=>mt(n,"show",o)),{c(){t=b("div"),Je(n.$$.fragment),i=W(`\r
			computing...`)},l(a){t=w(a,"DIV",{});var u=S(t);xe(n.$$.fragment,u),i=Y(u,`\r
			computing...`),u.forEach(p)},m(a,u){A(a,t,u),Qe(n,t,null),c(t,i),r=!0},p(a,u){const f={};!l&&u[0]&8192&&(l=!0,f.show=a[13],_t(()=>l=!1)),n.$set(f)},i(a){r||(oe(n.$$.fragment,a),r=!0)},o(a){ce(n.$$.fragment,a),r=!1},d(a){a&&p(t),$e(n)}}}function Bu(e){let t,n=e[15][e[31]]+"",l,i;return{c(){t=b("option"),l=W(n),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=Y(o,n),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[31],Yt(t,t.__value)},m(r,o){A(r,t,o),c(t,l),c(t,i)},p:at,d(r){r&&p(t)}}}function ju(e){let t,n=e[31]+"",l,i;return{c(){t=b("option"),l=W(n),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=Y(o,n),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[31],Yt(t,t.__value)},m(r,o){A(r,t,o),c(t,l),c(t,i)},p:at,d(r){r&&p(t)}}}function qu(e){let t,n,l,i,r,o,s,a,u="annotation sidebar",f,d;return{c(){t=b("div"),n=b("div"),l=b("div"),i=b("input"),r=W(` score type\r
								`),o=b("i"),s=k(),a=b("div"),a.textContent=u,this.h()},l(g){t=w(g,"DIV",{style:!0});var m=S(t);n=w(m,"DIV",{});var _=S(n);l=w(_,"DIV",{style:!0});var v=S(l);i=w(v,"INPUT",{type:!0}),r=Y(v,` score type\r
								`),o=w(v,"I",{class:!0,style:!0,"data-tooltip":!0}),S(o).forEach(p),v.forEach(p),s=R(_),a=w(_,"DIV",{"data-svelte-h":!0}),ue(a)!=="svelte-qorfh7"&&(a.textContent=u),_.forEach(p),m.forEach(p),this.h()},h(){h(i,"type","checkbox"),h(o,"class","helpicon"),G(o,"margin-left","5px"),h(o,"data-tooltip",bn.HEATMAP_SCORETYPE),G(l,"display","flex"),G(t,"margin-left","40px"),G(t,"align-self","center")},m(g,m){A(g,t,m),c(t,n),c(n,l),c(l,i),i.checked=e[11],c(l,r),c(l,o),c(n,s),c(n,a),f||(d=ie(i,"change",e[26]),f=!0)},p(g,m){m[0]&2048&&(i.checked=g[11])},d(g){g&&p(t),f=!1,d()}}}function w1(e){let t,n,l,i;const r=[b1,v1],o=[];function s(a,u){return a[13]===!0?0:1}return n=s(e),l=o[n]=r[n](e),{c(){t=b("div"),l.c(),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);l.l(u),u.forEach(p),this.h()},h(){G(t,"min-height","900px")},m(a,u){A(a,t,u),o[n].m(t,null),i=!0},p(a,u){let f=n;n=s(a),n===f?o[n].p(a,u):(qt(),ce(o[f],1,1,()=>{o[f]=null}),Ut(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),oe(l,1),l.m(t,null))},i(a){i||(oe(l),i=!0)},o(a){ce(l),i=!1},d(a){a&&p(t),o[n].d()}}}const Hf=400;function y1(e,t,n){let l,i,r,o;Pt(e,un,q=>n(4,r=q));const s=new m1;s.onmessage=function(q){if(f.update(pe=>!1),q&&typeof q=="object"&&typeof q.data=="object"){const pe=q.data;un.set(a(pe,d,_,m))}else console.error("heatmap worker error;"),console.error(q)};function a(q,pe,se,be){const ye=q&&Array.isArray(q.genesetDistances)&&q.genesetDistances[pe]||void 0;if(ye===void 0)return q;const ae=be+"px sans-serif";let F=0;const fe=ye.genesets.length;for(let x=0;x<fe;x++)ye.genesets[x].nameTruncated=oo(ye.genesets[x].name,se),F=Math.max(F,bi(ye.genesets[x].nameTruncated,ae));return ye.maxLabelWidth=Math.ceil(F)||400,q.genesetDistances[pe]=ye,q}function u(){typeof r=="object"&&Array.isArray(r.genesets)&&r.genesets[d].stats.signif_count<=Hf&&Array.isArray(r.genesetDistances)&&!r.genesetDistances[d]&&(f.update(q=>!0),s.postMessage(JSON.stringify({selectedSourceIndex:d,data:r})))}const f=hn(!1);Pt(e,f,q=>n(13,o=q));let{selectedSourceIndex:d=0}=t,{scoreType:g="pvalue"}=t,m=[12],_=[40],v=[12],y="-45",C=[6],E="Viridis",P=!0,D=!1,T=!0;const M={"-45":"Diagonal","-90":"Vertical","":"hide"};function U(q){o=q,f.set(o)}function V(q){v=q,n(5,v)}function B(q){m=q,n(2,m)}function z(q){_=q,n(3,_)}function N(){y=$l(this),n(6,y),n(15,M)}function O(){E=$l(this),n(8,E)}function j(){P=this.checked,n(9,P)}function K(q){C=q,n(7,C)}function le(){D=this.checked,n(10,D)}function Ce(){T=this.checked,n(11,T)}const ve=()=>er("myheatmap","GOAT-online__heatmap_"+r.genesets[d].source);return e.$$set=q=>{"selectedSourceIndex"in q&&n(0,d=q.selectedSourceIndex),"scoreType"in q&&n(1,g=q.scoreType)},e.$$.update=()=>{e.$$.dirty[0]&1&&u(),e.$$.dirty[0]&29&&un.set(a(r,d,_,m)),e.$$.dirty[0]&17&&n(16,l=typeof r=="object"&&Array.isArray(r.genesetDistances)&&r.genesetDistances.length>d&&!!r.genesetDistances[d]&&r.genesets[d].stats.signif_count>2),e.$$.dirty[0]&65553&&n(12,i=l&&Math.min(Math.ceil(r.genesets[d].stats.signif_count/2),50)||0)},[d,g,m,_,r,v,y,C,E,P,D,T,i,o,f,M,l,U,V,B,z,N,O,j,K,le,Ce,ve]}class S1 extends $t{constructor(t){super(),ln(this,t,y1,w1,nn,{selectedSourceIndex:0,scoreType:1},null,[-1,-1])}}const{document:Zr}=fd;function Uu(e,t,n){const l=e.slice();return l[77]=t[n],l[79]=n,l}function Xu(e,t,n){const l=e.slice();return l[77]=t[n],l}function Wu(e,t,n){const l=e.slice();return l[77]=t[n],l[79]=n,l}function C1(e){let t,n="status:",l,i,r,o,s="no gene list loaded yet";return{c(){t=b("b"),t.textContent=n,l=k(),i=b("br"),r=k(),o=b("div"),o.textContent=s,this.h()},l(a){t=w(a,"B",{"data-svelte-h":!0}),ue(t)!=="svelte-jrlymk"&&(t.textContent=n),l=R(a),i=w(a,"BR",{}),r=R(a),o=w(a,"DIV",{class:!0,"data-svelte-h":!0}),ue(o)!=="svelte-10sgbjm"&&(o.textContent=s),this.h()},h(){h(o,"class","alert")},m(a,u){A(a,t,u),A(a,l,u),A(a,i,u),A(a,r,u),A(a,o,u)},p:at,d(a){a&&(p(t),p(l),p(i),p(r),p(o))}}}function k1(e){let t,n="file:",l,i=e[5].filename+"",r,o,s,a,u="number of genes:",f,d=e[5].genelist.length+"",g,m,_,v,y="available score types:",C,E=e[5].scoretype_options.join(", ")+"",P,D,T,M=e[5].scoretype_options.indexOf("effectsize")===-1,U,V=M&&Yu();return{c(){t=b("b"),t.textContent=n,l=k(),r=W(i),o=b("br"),s=k(),a=b("b"),a.textContent=u,f=k(),g=W(d),m=b("br"),_=k(),v=b("b"),v.textContent=y,C=k(),P=W(E),D=b("br"),T=k(),V&&V.c(),U=Oe()},l(B){t=w(B,"B",{"data-svelte-h":!0}),ue(t)!=="svelte-12axs8s"&&(t.textContent=n),l=R(B),r=Y(B,i),o=w(B,"BR",{}),s=R(B),a=w(B,"B",{"data-svelte-h":!0}),ue(a)!=="svelte-wpkigu"&&(a.textContent=u),f=R(B),g=Y(B,d),m=w(B,"BR",{}),_=R(B),v=w(B,"B",{"data-svelte-h":!0}),ue(v)!=="svelte-zasc7m"&&(v.textContent=y),C=R(B),P=Y(B,E),D=w(B,"BR",{}),T=R(B),V&&V.l(B),U=Oe()},m(B,z){A(B,t,z),A(B,l,z),A(B,r,z),A(B,o,z),A(B,s,z),A(B,a,z),A(B,f,z),A(B,g,z),A(B,m,z),A(B,_,z),A(B,v,z),A(B,C,z),A(B,P,z),A(B,D,z),A(B,T,z),V&&V.m(B,z),A(B,U,z)},p(B,z){z[0]&32&&i!==(i=B[5].filename+"")&&De(r,i),z[0]&32&&d!==(d=B[5].genelist.length+"")&&De(g,d),z[0]&32&&E!==(E=B[5].scoretype_options.join(", ")+"")&&De(P,E),z[0]&32&&(M=B[5].scoretype_options.indexOf("effectsize")===-1),M?V||(V=Yu(),V.c(),V.m(U.parentNode,U)):V&&(V.d(1),V=null)},d(B){B&&(p(t),p(l),p(r),p(o),p(s),p(a),p(f),p(g),p(m),p(_),p(v),p(C),p(P),p(D),p(T),p(U)),V&&V.d(B)}}}function R1(e){let t,n="error while loading your gene list:",l,i,r;return{c(){t=b("b"),t.textContent=n,l=k(),i=b("div"),r=W(e[13]),this.h()},l(o){t=w(o,"B",{"data-svelte-h":!0}),ue(t)!=="svelte-1au53s9"&&(t.textContent=n),l=R(o),i=w(o,"DIV",{class:!0});var s=S(i);r=Y(s,e[13]),s.forEach(p),this.h()},h(){h(i,"class","alert")},m(o,s){A(o,t,s),A(o,l,s),A(o,i,s),c(i,r)},p(o,s){s[0]&8192&&De(r,o[13])},d(o){o&&(p(t),p(l),p(i))}}}function Yu(e){let t,n="no effectsize column found in your genelist.";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1kp58o5"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function E1(e){let t,n="status:",l,i,r,o,s="no gene sets loaded yet";return{c(){t=b("b"),t.textContent=n,l=k(),i=b("br"),r=k(),o=b("div"),o.textContent=s,this.h()},l(a){t=w(a,"B",{"data-svelte-h":!0}),ue(t)!=="svelte-jrlymk"&&(t.textContent=n),l=R(a),i=w(a,"BR",{}),r=R(a),o=w(a,"DIV",{class:!0,"data-svelte-h":!0}),ue(o)!=="svelte-10qe6gp"&&(o.textContent=s),this.h()},h(){h(o,"class","alert")},m(a,u){A(a,t,u),A(a,l,u),A(a,i,u),A(a,r,u),A(a,o,u)},p:at,d(a){a&&(p(t),p(l),p(i),p(r),p(o))}}}function A1(e){let t,n="version:",l,i=e[19].source_version+"",r,o,s,a,u="gene set count:",f,d=e[19].length+"",g,m,_,v,y="gene set sources:",C,E=e[19].sources.join(", ")+"",P,D;return{c(){t=b("b"),t.textContent=n,l=k(),r=W(i),o=b("br"),s=k(),a=b("b"),a.textContent=u,f=k(),g=W(d),m=b("br"),_=k(),v=b("b"),v.textContent=y,C=k(),P=W(E),D=b("br")},l(T){t=w(T,"B",{"data-svelte-h":!0}),ue(t)!=="svelte-9p3di"&&(t.textContent=n),l=R(T),r=Y(T,i),o=w(T,"BR",{}),s=R(T),a=w(T,"B",{"data-svelte-h":!0}),ue(a)!=="svelte-12y9d9s"&&(a.textContent=u),f=R(T),g=Y(T,d),m=w(T,"BR",{}),_=R(T),v=w(T,"B",{"data-svelte-h":!0}),ue(v)!=="svelte-1iuw5f"&&(v.textContent=y),C=R(T),P=Y(T,E),D=w(T,"BR",{})},m(T,M){A(T,t,M),A(T,l,M),A(T,r,M),A(T,o,M),A(T,s,M),A(T,a,M),A(T,f,M),A(T,g,M),A(T,m,M),A(T,_,M),A(T,v,M),A(T,C,M),A(T,P,M),A(T,D,M)},p(T,M){M[0]&524288&&i!==(i=T[19].source_version+"")&&De(r,i),M[0]&524288&&d!==(d=T[19].length+"")&&De(g,d),M[0]&524288&&E!==(E=T[19].sources.join(", ")+"")&&De(P,E)},d(T){T&&(p(t),p(l),p(r),p(o),p(s),p(a),p(f),p(g),p(m),p(_),p(v),p(C),p(P),p(D))}}}function I1(e){let t,n="error while loading genesets:",l,i,r;return{c(){t=b("b"),t.textContent=n,l=k(),i=b("div"),r=W(e[14]),this.h()},l(o){t=w(o,"B",{"data-svelte-h":!0}),ue(t)!=="svelte-1w6f4n1"&&(t.textContent=n),l=R(o),i=w(o,"DIV",{class:!0});var s=S(i);r=Y(s,e[14]),s.forEach(p),this.h()},h(){h(i,"class","alert")},m(o,s){A(o,t,s),A(o,l,s),A(o,i,s),c(i,r)},p(o,s){s[0]&16384&&De(r,o[14])},d(o){o&&(p(t),p(l),p(i))}}}function Ku(e){let t,n=e[77]+"",l,i;return{c(){t=b("option"),l=W(n),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=Y(o,n),o.forEach(p),this.h()},h(){t.__value=i=e[77],Yt(t,t.__value)},m(r,o){A(r,t,o),c(t,l)},p(r,o){o[0]&131072&&n!==(n=r[77]+"")&&De(l,n),o[0]&131072&&i!==(i=r[77])&&(t.__value=i,Yt(t,t.__value))},d(r){r&&p(t)}}}function M1(e){let t,n="cannot start until invalid settings have been updated";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-1z0i07v"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function D1(e){let t,n="cannot start until the gene list and gene sets are loaded";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-je3mti"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function Zu(e){let t,n,l="error:",i,r,o;return{c(){t=b("div"),n=b("b"),n.textContent=l,i=k(),r=b("div"),o=W(e[15]),this.h()},l(s){t=w(s,"DIV",{});var a=S(t);n=w(a,"B",{"data-svelte-h":!0}),ue(n)!=="svelte-c5n4b4"&&(n.textContent=l),i=R(a),r=w(a,"DIV",{class:!0});var u=S(r);o=Y(u,e[15]),u.forEach(p),a.forEach(p),this.h()},h(){h(r,"class","alert")},m(s,a){A(s,t,a),c(t,n),c(t,i),c(t,r),c(r,o)},p(s,a){a[0]&32768&&De(o,s[15])},d(s){s&&p(t)}}}function Ju(e){let t,n,l="<h2>Result summary</h2>",i,r,o=`<h3>Overview of gene sets that meet your filtering criteria (min/max overlap with your gene
					list).</h3>`,s,a,u,f,d,g,m="<tr><th>source</th> <th>tested genesets</th> <th>significant</th></tr>",_,v,y,C,E,P,D,T="download all results as a table",M,U,V,B,z,N=`Click the above button to download, in ZIP format;
						<ol><li>an Excel table with all tested gene sets and their GOAT-estimated p-values (<a href="docs#GOATresults" target="_blank">documentation</a>)</li> <li>Methods text that details your analysis, tailored to the settings and gene set
								database used here</li></ol>`,O,j,K,le,Ce="<h2>Data analysis</h2>",ve,q,pe="<h3>Interactive visualizations of your GOAT results.</h3>",se,be,ye,ae,F,fe,x="TABLE",Ee,we,Xe="BARPLOT",Ye,Ne,de="TREE",dt,ze,Se="TREEMAP",vt,J,he="HEATMAP",Q,ge,Te,_e,He,et,wt,Ke,ot,ft,Ae=e[18]===!0&&Qu(),tt=me(e[6].genesets),Re=[];for(let ne=0;ne<tt.length;ne+=1)Re[ne]=$u(Xu(e,tt,ne));let it=e[6].genelist.length>4e3&&xu(),rt=!!e[16]&&ef(e),I=e[18]===!0&&tf(),ee=e[6].genesets.length>1&&nf(e);const Ie=[F1,z1,P1,V1,T1],X=[];function Me(ne,Ve){return ne[8]==="table"?0:ne[8]==="barplot"?1:ne[8]==="tree"?2:ne[8]==="heatmap"?3:ne[8]==="treemap"?4:-1}return~(_e=Me(e))&&(He=X[_e]=Ie[_e](e)),{c(){t=b("div"),n=b("div"),n.innerHTML=l,i=k(),r=b("div"),r.innerHTML=o,s=k(),Ae&&Ae.c(),a=k(),u=b("div"),f=b("div"),d=b("table"),g=b("thead"),g.innerHTML=m,_=k(),v=b("tbody");for(let ne=0;ne<Re.length;ne+=1)Re[ne].c();y=k(),C=b("div"),E=b("br"),P=k(),D=b("button"),D.textContent=T,M=k(),it&&it.c(),U=k(),V=b("br"),B=k(),z=b("div"),z.innerHTML=N,O=k(),rt&&rt.c(),j=k(),K=b("div"),le=b("div"),le.innerHTML=Ce,ve=k(),q=b("div"),q.innerHTML=pe,se=k(),I&&I.c(),be=k(),ye=b("div"),ae=b("div"),F=b("div"),fe=b("button"),fe.textContent=x,Ee=k(),we=b("button"),we.textContent=Xe,Ye=k(),Ne=b("button"),Ne.textContent=de,dt=k(),ze=b("button"),ze.textContent=Se,vt=k(),J=b("button"),J.textContent=he,Q=k(),ee&&ee.c(),ge=k(),Te=b("div"),He&&He.c(),et=k(),wt=b("br"),this.h()},l(ne){t=w(ne,"DIV",{id:!0,class:!0});var Ve=S(t);n=w(Ve,"DIV",{class:!0,"data-svelte-h":!0}),ue(n)!=="svelte-1jt2cwt"&&(n.innerHTML=l),i=R(Ve),r=w(Ve,"DIV",{class:!0,"data-svelte-h":!0}),ue(r)!=="svelte-1ih3b40"&&(r.innerHTML=o),s=R(Ve),Ae&&Ae.l(Ve),a=R(Ve),u=w(Ve,"DIV",{class:!0});var Le=S(u);f=w(Le,"DIV",{});var nt=S(f);d=w(nt,"TABLE",{class:!0});var L=S(d);g=w(L,"THEAD",{"data-svelte-h":!0}),ue(g)!=="svelte-wua3i5"&&(g.innerHTML=m),_=R(L),v=w(L,"TBODY",{});var Z=S(v);for(let St=0;St<Re.length;St+=1)Re[St].l(Z);Z.forEach(p),L.forEach(p),nt.forEach(p),y=R(Le),C=w(Le,"DIV",{});var We=S(C);E=w(We,"BR",{}),P=R(We),D=w(We,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(D)!=="svelte-1e0e5zh"&&(D.textContent=T),M=R(We),it&&it.l(We),U=R(We),V=w(We,"BR",{}),B=R(We),z=w(We,"DIV",{"data-svelte-h":!0}),ue(z)!=="svelte-1el46an"&&(z.innerHTML=N),We.forEach(p),O=R(Le),rt&&rt.l(Le),Le.forEach(p),Ve.forEach(p),j=R(ne),K=w(ne,"DIV",{class:!0,style:!0});var Be=S(K);le=w(Be,"DIV",{class:!0,"data-svelte-h":!0}),ue(le)!=="svelte-k86l10"&&(le.innerHTML=Ce),ve=R(Be),q=w(Be,"DIV",{class:!0,"data-svelte-h":!0}),ue(q)!=="svelte-plebw3"&&(q.innerHTML=pe),se=R(Be),I&&I.l(Be),be=R(Be),ye=w(Be,"DIV",{class:!0,style:!0});var $=S(ye);ae=w($,"DIV",{style:!0});var ke=S(ae);F=w(ke,"DIV",{style:!0});var Pe=S(F);fe=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),ue(fe)!=="svelte-jqhuth"&&(fe.textContent=x),Ee=R(Pe),we=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),ue(we)!=="svelte-4t1ddz"&&(we.textContent=Xe),Ye=R(Pe),Ne=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),ue(Ne)!=="svelte-sp826l"&&(Ne.textContent=de),dt=R(Pe),ze=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),ue(ze)!=="svelte-1kz16gz"&&(ze.textContent=Se),vt=R(Pe),J=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),ue(J)!=="svelte-itqn71"&&(J.textContent=he),Pe.forEach(p),Q=R(ke),ee&&ee.l(ke),ke.forEach(p),ge=R($),Te=w($,"DIV",{style:!0});var ut=S(Te);He&&He.l(ut),ut.forEach(p),$.forEach(p),et=R(Be),wt=w(Be,"BR",{}),Be.forEach(p),this.h()},h(){h(n,"class","divH2"),h(r,"class","divH3"),h(d,"class","tbl-bordered"),h(D,"class","btn btn-action"),h(u,"class","pnlResults"),h(t,"id","resultsummary"),h(t,"class","containerSettings"),h(le,"class","divH2"),h(q,"class","divH3"),h(fe,"class","btn btn-outline-black"),G(fe,"margin-left","20px"),te(fe,"btn-active",e[8]=="table"),h(we,"class","btn btn-outline-black"),G(we,"margin-left","20px"),te(we,"btn-active",e[8]=="barplot"),h(Ne,"class","btn btn-outline-black"),G(Ne,"margin-left","20px"),te(Ne,"btn-active",e[8]=="tree"),h(ze,"class","btn btn-outline-black"),G(ze,"margin-left","20px"),te(ze,"btn-active",e[8]=="treemap"),h(J,"class","btn btn-outline-black"),G(J,"margin-left","20px"),te(J,"btn-active",e[8]=="heatmap"),G(F,"padding","6px"),G(F,"background-color","#2196f3"),G(ae,"border-bottom","1px solid lightgrey"),G(Te,"margin","50px 20px 20px 20px"),h(ye,"class","pnlResults"),G(ye,"padding","0px"),h(K,"class","containerSettings"),G(K,"margin-bottom","100px")},m(ne,Ve){A(ne,t,Ve),c(t,n),c(t,i),c(t,r),c(t,s),Ae&&Ae.m(t,null),c(t,a),c(t,u),c(u,f),c(f,d),c(d,g),c(d,_),c(d,v);for(let Le=0;Le<Re.length;Le+=1)Re[Le]&&Re[Le].m(v,null);c(u,y),c(u,C),c(C,E),c(C,P),c(C,D),c(C,M),it&&it.m(C,null),c(C,U),c(C,V),c(C,B),c(C,z),c(u,O),rt&&rt.m(u,null),A(ne,j,Ve),A(ne,K,Ve),c(K,le),c(K,ve),c(K,q),c(K,se),I&&I.m(K,null),c(K,be),c(K,ye),c(ye,ae),c(ae,F),c(F,fe),c(F,Ee),c(F,we),c(F,Ye),c(F,Ne),c(F,dt),c(F,ze),c(F,vt),c(F,J),c(ae,Q),ee&&ee.m(ae,null),c(ye,ge),c(ye,Te),~_e&&X[_e].m(Te,null),c(K,et),c(K,wt),Ke=!0,ot||(ft=[ie(D,"click",e[40]),ie(fe,"click",e[66]),ie(we,"click",e[67]),ie(Ne,"click",e[68]),ie(ze,"click",e[69]),ie(J,"click",e[70])],ot=!0)},p(ne,Ve){if(ne[18]===!0?Ae||(Ae=Qu(),Ae.c(),Ae.m(t,a)):Ae&&(Ae.d(1),Ae=null),Ve[0]&64){tt=me(ne[6].genesets);let nt;for(nt=0;nt<tt.length;nt+=1){const L=Xu(ne,tt,nt);Re[nt]?Re[nt].p(L,Ve):(Re[nt]=$u(L),Re[nt].c(),Re[nt].m(v,null))}for(;nt<Re.length;nt+=1)Re[nt].d(1);Re.length=tt.length}ne[6].genelist.length>4e3?it||(it=xu(),it.c(),it.m(C,U)):it&&(it.d(1),it=null),ne[16]?rt?rt.p(ne,Ve):(rt=ef(ne),rt.c(),rt.m(u,null)):rt&&(rt.d(1),rt=null),ne[18]===!0?I||(I=tf(),I.c(),I.m(K,be)):I&&(I.d(1),I=null),(!Ke||Ve[0]&256)&&te(fe,"btn-active",ne[8]=="table"),(!Ke||Ve[0]&256)&&te(we,"btn-active",ne[8]=="barplot"),(!Ke||Ve[0]&256)&&te(Ne,"btn-active",ne[8]=="tree"),(!Ke||Ve[0]&256)&&te(ze,"btn-active",ne[8]=="treemap"),(!Ke||Ve[0]&256)&&te(J,"btn-active",ne[8]=="heatmap"),ne[6].genesets.length>1?ee?ee.p(ne,Ve):(ee=nf(ne),ee.c(),ee.m(ae,null)):ee&&(ee.d(1),ee=null);let Le=_e;_e=Me(ne),_e===Le?~_e&&X[_e].p(ne,Ve):(He&&(qt(),ce(X[Le],1,1,()=>{X[Le]=null}),Ut()),~_e?(He=X[_e],He?He.p(ne,Ve):(He=X[_e]=Ie[_e](ne),He.c()),oe(He,1),He.m(Te,null)):He=null)},i(ne){Ke||(oe(He),Ke=!0)},o(ne){ce(He),Ke=!1},d(ne){ne&&(p(t),p(j),p(K)),Ae&&Ae.d(),st(Re,ne),it&&it.d(),rt&&rt.d(),I&&I.d(),ee&&ee.d(),~_e&&X[_e].d(),ot=!1,Qt(ft)}}}function Qu(e){let t,n='Settings were updated; click "START" to re-run GOAT and update below results';return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-18fiddo"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function $u(e){let t,n,l=e[77].source+"",i,r,o,s=e[77].genesets.length+"",a,u,f,d=e[77].stats.signif_count+"",g,m;return{c(){t=b("tr"),n=b("td"),i=W(l),r=k(),o=b("td"),a=W(s),u=k(),f=b("td"),g=W(d),m=k()},l(_){t=w(_,"TR",{});var v=S(t);n=w(v,"TD",{});var y=S(n);i=Y(y,l),y.forEach(p),r=R(v),o=w(v,"TD",{});var C=S(o);a=Y(C,s),C.forEach(p),u=R(v),f=w(v,"TD",{});var E=S(f);g=Y(E,d),E.forEach(p),m=R(v),v.forEach(p)},m(_,v){A(_,t,v),c(t,n),c(n,i),c(t,r),c(t,o),c(o,a),c(t,u),c(t,f),c(f,g),c(t,m)},p(_,v){v[0]&64&&l!==(l=_[77].source+"")&&De(i,l),v[0]&64&&s!==(s=_[77].genesets.length+"")&&De(a,s),v[0]&64&&d!==(d=_[77].stats.signif_count+"")&&De(g,d)},d(_){_&&p(t)}}}function xu(e){let t,n="this might take a few seconds for large gene lists";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-10tb5i9"&&(t.textContent=n),this.h()},h(){h(t,"class","helpText")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function ef(e){let t,n="error on download:",l,i,r;return{c(){t=b("b"),t.textContent=n,l=k(),i=b("div"),r=W(e[16]),this.h()},l(o){t=w(o,"B",{"data-svelte-h":!0}),ue(t)!=="svelte-yesmo3"&&(t.textContent=n),l=R(o),i=w(o,"DIV",{class:!0});var s=S(i);r=Y(s,e[16]),s.forEach(p),this.h()},h(){h(i,"class","alert")},m(o,s){A(o,t,s),A(o,l,s),A(o,i,s),c(i,r)},p(o,s){s[0]&65536&&De(r,o[16])},d(o){o&&(p(t),p(l),p(i))}}}function tf(e){let t,n='Settings were updated; click "START" to re-run GOAT and update below results';return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-18fiddo"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function nf(e){let t,n=me(e[6].genesets),l=[];for(let i=0;i<n.length;i+=1)l[i]=lf(Uu(e,n,i));return{c(){t=b("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){t=w(i,"DIV",{style:!0});var r=S(t);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(p),this.h()},h(){G(t,"padding","6px"),G(t,"background-color","#90caf9")},m(i,r){A(i,t,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null)},p(i,r){if(r[0]&576){n=me(i[6].genesets);let o;for(o=0;o<n.length;o+=1){const s=Uu(i,n,o);l[o]?l[o].p(s,r):(l[o]=lf(s),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function lf(e){let t,n=e[77].source+"",l,i,r,o;function s(){return e[71](e[79])}return{c(){t=b("button"),l=W(n),i=k(),this.h()},l(a){t=w(a,"BUTTON",{class:!0,style:!0});var u=S(t);l=Y(u,n),i=R(u),u.forEach(p),this.h()},h(){h(t,"class","btn btn-outline-grey"),G(t,"margin-left","20px"),te(t,"btn-active",e[9]==e[79])},m(a,u){A(a,t,u),c(t,l),c(t,i),r||(o=ie(t,"click",s),r=!0)},p(a,u){e=a,u[0]&64&&n!==(n=e[77].source+"")&&De(l,n),u[0]&512&&te(t,"btn-active",e[9]==e[79])},d(a){a&&p(t),r=!1,o()}}}function T1(e){let t,n;return t=new u1({props:{selectedSourceIndex:e[9]}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function V1(e){let t,n;return t=new S1({props:{selectedSourceIndex:e[9],scoreType:e[6].settings.scoreType}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),i[0]&64&&(r.scoreType=l[6].settings.scoreType),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function P1(e){let t,n;return t=new Wh({props:{selectedSourceIndex:e[9]}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function z1(e){let t,n;return t=new Dh({props:{selectedSourceIndex:e[9]}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function F1(e){let t,n;return t=new ah({props:{selectedSourceIndex:e[9]}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function G1(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,E,P,D,T,M,U=`<h1>Online gene set enrichment analysis tool for the GOAT algorithm</h1> <div style="margin: 0px 150px 0px 150px; text-align: center;"><h3>Identify enriched gene sets using GOAT and inspect your results using interactive tables and
				data visualizations.</h3></div>`,V,B,z,N="<h2>Gene list</h2>",O,j,K="<h3>Load your input data; a table of genes and their p-values / effect sizes.</h3>",le,Ce,ve,q,pe,se,be,ye,ae,F,fe,x="drag&drop a gene list file or click to open a file dialog",Ee,we,Xe,Ye,Ne,de,dt,ze,Se,vt,J,he,Q,ge,Te,_e,He,et,wt=`<li>File format: either CSV, TSV, or Excel (.xlsx file, data on the first sheet)</li> <li>Required columns (column names must match exactly)</li> <ol><li><b>gene</b>: Human Entrez (NCBI) gene IDs</li> <li><b>symbol</b>: gene symbol</li> <li><b>effectsize</b>: effect size or log2 foldchange</li> <li><b>pvalue</b>: gene p-value (preferably un-adjusted)</li> <li><b>signif</b>: was the adjusted p-value significant?
											<br/>(boolean values, i.e. &#39;true&#39; or &#39;false&#39;)</li></ol> <li>No missing/empty values in any of these columns</li>`,Ke,ot,ft,Ae,tt,Re,it,rt,I,ee,Ie,X,Me,ne,Ve,Le="<h2>Gene sets</h2>",nt,L,Z="<h3>Select the gene set database that should be used for GOAT analyses.</h3>",We,Be,$,ke,Pe,ut,St,bt,ct,lt,Rt,Nt,Zt,zt,fn,Mt,xt,Dt,Tn,Ft,ei,kl,Qn,ti=" ",ni,Vn,wi=`the Gene Ontology (GO) database (typical use of this tool). Click a date to load
								gene sets from the respective GO database build; the gene set count will be shown
								below.`,Rl,wn,dn,rn,El,yn,Vt,pt,Et,At,Ct,re=" ",Ge,Gt,Ot=`an expert-curated knowledgebase of synaptic genes that can be used to interrogate
								your dataset in synaptic context (<a href="https://www.syngoportal.org" target="_blank" rel="nofollow">reference</a>)`,Sn,Xt,Ht,Bt,Tt,gt,_n,Pn,Hn,It,Al,$n,cn,li=" ",xn,zn,ii=`upload any gene set database in the GMT file format (select a file from your
								computer). Further details and resources to obtain GMT files are available in the <a href="docs#GMTgenesets" target="_blank">documentation</a>`,ol,el,nr,lr,ir,Fn,sl,mo="<h2>GOAT analysis</h2>",rr,al,vo="<h3>Settings &amp; apply algorithm.</h3>",or,Cn,ri,en,Ln,ul,bo="gene score type:",sr,oi,Gn,ar,On,ur,fr,dr,tl,cr,gr,hr,Nn,fl,wo="gene set size, minimum:",pr,si,kn,_r,dl,yo="must be at least 10, recommended to leave at default (10)",mr,Bn,cl,So="gene set size, maximum:",vr,ai,Rn,br,gl,Co=`threshold on gene set size, i.e. intersection of the input gene set from the selected
							database and your gene list. Typically set to 1500, recommended to leave at default.
							The largest allowed gene set size is [50% of the gene list], GOAT will
							automatically discard larger gene sets`,wr,hl,pl,ko="p-value adjustment:",yr,nl,_l,jn,yi,Sr,ml,Ro="Bonferroni",Cr,vl,qn,Si,kr,bl,Eo="FDR",Rr,Un,wl,Ao="adj. p-value threshold:",Er,ui,En,Ar,yl,Io=`gene sets with adjusted p-value ≤ this threshold are considered significant. Must
							be a numeric value between 0 and 1`,Ir,Xn,Il,Mo=" ",Mr,Wn,on,Dr,Ci,Tr,Yn,Vr,Pr,Sl,zr,Fr,Gr=e[6]!==void 0&&Array.isArray(e[6].genesets),ki,Ml,kt,Or,Do;function Lf(H){e[45](H)}let To={colour:"black",size:"2.5em"};e[20]!==void 0&&(To.show=e[20]),de=new Zn({props:To}),ht.push(()=>mt(de,"show",Lf));function Vo(H,je){return H[13]?R1:typeof H[5]=="object"&&H[5].ok===!0?k1:C1}let Ri=Vo(e),An=Ri(e);function Nf(H){e[51](H)}let Po={colour:"black",size:"1.5em"};e[21]!==void 0&&(Po.show=e[21]),Re=new Zn({props:Po}),ht.push(()=>mt(Re,"show",Nf));function Bf(H){e[52](H)}let zo={colour:"black",size:"1.5em"};e[22]!==void 0&&(zo.show=e[22]),Ft=new Zn({props:zo}),ht.push(()=>mt(Ft,"show",Bf));function jf(H){e[53](H)}let Fo={colour:"black",size:"1.5em"};e[23]!==void 0&&(Fo.show=e[23]),pt=new Zn({props:Fo}),ht.push(()=>mt(pt,"show",jf));function qf(H){e[55](H)}let Go={colour:"black",size:"1.5em"};e[24]!==void 0&&(Go.show=e[24]),It=new Zn({props:Go}),ht.push(()=>mt(It,"show",qf));function Oo(H,je){return H[14]?I1:typeof H[19]=="object"&&H[19].ok===!0?A1:E1}let Ei=Oo(e),In=Ei(e),Dl=me(e[17]),Wt=[];for(let H=0;H<Dl.length;H+=1)Wt[H]=Ku(Wu(e,Dl,H));function Uf(H){e[65](H)}let Ho={colour:"black",size:"1.5em"};e[25]!==void 0&&(Ho.show=e[25]),Yn=new Zn({props:Ho}),ht.push(()=>mt(Yn,"show",Uf));function Lo(H,je){if(!(typeof H[5]=="object"&&H[5].ok===!0&&typeof H[19]=="object"&&H[19].ok===!0))return D1;if(H[10]||H[11]||H[12])return M1}let Tl=Lo(e),sn=Tl&&Tl(e),Jt=!!e[15]&&Zu(e),Lt=Gr&&Ju(e);return{c(){t=b("meta"),n=k(),l=b("nav"),i=b("div"),r=b("a"),o=b("img"),a=k(),u=b("a"),f=W("Home"),d=k(),g=b("a"),m=W("GOAT online"),_=k(),v=b("a"),y=W("gene ID mapping"),C=k(),E=b("a"),P=W("Documentation"),D=k(),T=b("div"),M=b("div"),M.innerHTML=U,V=k(),B=b("div"),z=b("div"),z.innerHTML=N,O=k(),j=b("div"),j.innerHTML=K,le=k(),Ce=b("div"),ve=b("table"),q=b("tbody"),pe=b("tr"),se=b("td"),be=b("input"),ye=k(),ae=b("div"),F=b("p"),fe=b("i"),fe.textContent=x,Ee=k(),we=b("br"),Xe=k(),Ye=b("i"),Ne=k(),Je(de.$$.fragment),ze=k(),Se=b("div"),vt=b("br"),J=k(),he=b("br"),Q=k(),An.c(),ge=k(),Te=b("td"),_e=b("div"),He=W(`Importantly, your input gene list / gene table must be prepared in a format that is
								compatible with this tool. In brief,
								`),et=b("ul"),et.innerHTML=wt,Ke=W(`

								Further information and examples are available in the
								`),ot=b("a"),ft=W("documentation"),Ae=W(`.

								`),tt=b("div"),Je(Re.$$.fragment),rt=k(),I=b("button"),ee=W("click here to load example gene list."),X=W(`
									Instead of preparing and uploading your own gene list, you can immediately try this
									tool using an example gene list from a proteomics study on Alzheimer's disease by Wingo
									et al. (download link and reference available through the documentation section)`),Me=k(),ne=b("div"),Ve=b("div"),Ve.innerHTML=Le,nt=k(),L=b("div"),L.innerHTML=Z,We=k(),Be=b("div"),$=b("div"),ke=b("table"),Pe=b("tbody"),ut=b("tr"),St=b("td"),bt=b("table"),ct=b("tbody"),lt=b("tr"),Rt=b("td"),Nt=b("button"),Zt=W("GO 2025-01-01"),fn=k(),Mt=b("button"),xt=W("GO 2024-01-01"),Tn=k(),Je(Ft.$$.fragment),kl=k(),Qn=b("td"),Qn.textContent=ti,ni=k(),Vn=b("td"),Vn.textContent=wi,Rl=k(),wn=b("tr"),dn=b("td"),rn=b("button"),El=W("SynGO 1.2"),Vt=k(),Je(pt.$$.fragment),At=k(),Ct=b("td"),Ct.textContent=re,Ge=k(),Gt=b("td"),Gt.innerHTML=Ot,Sn=k(),Xt=b("tr"),Ht=b("td"),Bt=b("input"),Tt=k(),gt=b("button"),_n=W("upload GMT file"),Hn=k(),Je(It.$$.fragment),$n=k(),cn=b("td"),cn.textContent=li,xn=k(),zn=b("td"),zn.innerHTML=ii,ol=k(),el=b("div"),nr=b("br"),lr=k(),In.c(),ir=k(),Fn=b("div"),sl=b("div"),sl.innerHTML=mo,rr=k(),al=b("div"),al.innerHTML=vo,or=k(),Cn=b("div"),ri=b("table"),en=b("tbody"),Ln=b("tr"),ul=b("td"),ul.textContent=bo,sr=k(),oi=b("td"),Gn=b("select");for(let H=0;H<Wt.length;H+=1)Wt[H].c();ar=k(),On=b("td"),ur=W(`highly recommended to set to "effectsize", if available in your gene list
							`),fr=b("br"),dr=W(`(refer to the
							`),tl=b("a"),cr=W("Documentation"),gr=W(`
							for preparing your input data accordingly)`),hr=k(),Nn=b("tr"),fl=b("td"),fl.textContent=wo,pr=k(),si=b("td"),kn=b("input"),_r=k(),dl=b("td"),dl.textContent=yo,mr=k(),Bn=b("tr"),cl=b("td"),cl.textContent=So,vr=k(),ai=b("td"),Rn=b("input"),br=k(),gl=b("td"),gl.textContent=Co,wr=k(),hl=b("tr"),pl=b("td"),pl.textContent=ko,yr=k(),nl=b("td"),_l=b("div"),jn=b("input"),Sr=k(),ml=b("label"),ml.textContent=Ro,Cr=k(),vl=b("div"),qn=b("input"),kr=k(),bl=b("label"),bl.textContent=Eo,Rr=k(),Un=b("tr"),wl=b("td"),wl.textContent=Ao,Er=k(),ui=b("td"),En=b("input"),Ar=k(),yl=b("td"),yl.textContent=Io,Ir=k(),Xn=b("tr"),Il=b("td"),Il.textContent=Mo,Mr=k(),Wn=b("td"),on=b("button"),Dr=W("START"),Tr=k(),Je(Yn.$$.fragment),Pr=k(),Sl=b("td"),sn&&sn.c(),zr=k(),Jt&&Jt.c(),Fr=k(),Lt&&Lt.c(),ki=k(),Ml=b("canvas"),this.h()},l(H){const je=xf("svelte-acs5yk",Zr.head);t=w(je,"META",{name:!0,content:!0}),je.forEach(p),n=R(H),l=w(H,"NAV",{});var jt=S(l);i=w(jt,"DIV",{style:!0});var fi=S(i);r=w(fi,"A",{href:!0});var di=S(r);o=w(di,"IMG",{src:!0,width:!0,height:!0,alt:!0}),di.forEach(p),fi.forEach(p),a=R(jt),u=w(jt,"A",{href:!0,style:!0});var ci=S(u);f=Y(ci,"Home"),ci.forEach(p),d=R(jt),g=w(jt,"A",{href:!0,style:!0,class:!0});var gi=S(g);m=Y(gi,"GOAT online"),gi.forEach(p),_=R(jt),v=w(jt,"A",{href:!0,style:!0});var hi=S(v);y=Y(hi,"gene ID mapping"),hi.forEach(p),C=R(jt),E=w(jt,"A",{href:!0,style:!0});var tn=S(E);P=Y(tn,"Documentation"),tn.forEach(p),jt.forEach(p),D=R(H),T=w(H,"DIV",{tabindex:!0,role:!0,"aria-pressed":!0});var gn=S(T);M=w(gn,"DIV",{class:!0,"data-svelte-h":!0}),ue(M)!=="svelte-dmj9cy"&&(M.innerHTML=U),V=R(gn),B=w(gn,"DIV",{class:!0});var Vl=S(B);z=w(Vl,"DIV",{class:!0,"data-svelte-h":!0}),ue(z)!=="svelte-1g6dorf"&&(z.innerHTML=N),O=R(Vl),j=w(Vl,"DIV",{class:!0,"data-svelte-h":!0}),ue(j)!=="svelte-pa339p"&&(j.innerHTML=K),le=R(Vl),Ce=w(Vl,"DIV",{class:!0});var No=S(Ce);ve=w(No,"TABLE",{});var Bo=S(ve);q=w(Bo,"TBODY",{});var jo=S(q);pe=w(jo,"TR",{});var Ai=S(pe);se=w(Ai,"TD",{style:!0});var Pl=S(se);be=w(Pl,"INPUT",{id:!0,type:!0,accept:!0,style:!0}),ye=R(Pl),ae=w(Pl,"DIV",{id:!0,tabindex:!0,role:!0,"aria-pressed":!0});var qo=S(ae);F=w(qo,"P",{});var ll=S(F);fe=w(ll,"I",{"data-svelte-h":!0}),ue(fe)!=="svelte-17z113x"&&(fe.textContent=x),Ee=R(ll),we=w(ll,"BR",{}),Xe=R(ll),Ye=w(ll,"I",{class:!0}),S(Ye).forEach(p),Ne=R(ll),xe(de.$$.fragment,ll),ll.forEach(p),qo.forEach(p),ze=R(Pl),Se=w(Pl,"DIV",{style:!0});var zl=S(Se);vt=w(zl,"BR",{}),J=R(zl),he=w(zl,"BR",{}),Q=R(zl),An.l(zl),zl.forEach(p),Pl.forEach(p),ge=R(Ai),Te=w(Ai,"TD",{});var Uo=S(Te);_e=w(Uo,"DIV",{class:!0});var Cl=S(_e);He=Y(Cl,`Importantly, your input gene list / gene table must be prepared in a format that is
								compatible with this tool. In brief,
								`),et=w(Cl,"UL",{"data-svelte-h":!0}),ue(et)!=="svelte-gy1i3o"&&(et.innerHTML=wt),Ke=Y(Cl,`

								Further information and examples are available in the
								`),ot=w(Cl,"A",{href:!0,target:!0,tabindex:!0});var Xo=S(ot);ft=Y(Xo,"documentation"),Xo.forEach(p),Ae=Y(Cl,`.

								`),tt=w(Cl,"DIV",{style:!0});var pi=S(tt);xe(Re.$$.fragment,pi),rt=R(pi),I=w(pi,"BUTTON",{class:!0,style:!0});var Wo=S(I);ee=Y(Wo,"click here to load example gene list."),Wo.forEach(p),X=Y(pi,`
									Instead of preparing and uploading your own gene list, you can immediately try this
									tool using an example gene list from a proteomics study on Alzheimer's disease by Wingo
									et al. (download link and reference available through the documentation section)`),pi.forEach(p),Cl.forEach(p),Uo.forEach(p),Ai.forEach(p),jo.forEach(p),Bo.forEach(p),No.forEach(p),Vl.forEach(p),Me=R(gn),ne=w(gn,"DIV",{class:!0});var Fl=S(ne);Ve=w(Fl,"DIV",{class:!0,"data-svelte-h":!0}),ue(Ve)!=="svelte-nglffe"&&(Ve.innerHTML=Le),nt=R(Fl),L=w(Fl,"DIV",{class:!0,"data-svelte-h":!0}),ue(L)!=="svelte-1yu1xgu"&&(L.innerHTML=Z),We=R(Fl),Be=w(Fl,"DIV",{class:!0});var Ii=S(Be);$=w(Ii,"DIV",{});var Yo=S($);ke=w(Yo,"TABLE",{});var Ko=S(ke);Pe=w(Ko,"TBODY",{});var Gl=S(Pe);ut=w(Gl,"TR",{});var Ol=S(ut);St=w(Ol,"TD",{style:!0});var Zo=S(St);bt=w(Zo,"TABLE",{style:!0});var Jo=S(bt);ct=w(Jo,"TBODY",{});var Qo=S(ct);lt=w(Qo,"TR",{});var $o=S(lt);Rt=w($o,"TD",{});var Hl=S(Rt);Nt=w(Hl,"BUTTON",{class:!0,style:!0});var xo=S(Nt);Zt=Y(xo,"GO 2025-01-01"),xo.forEach(p),fn=R(Hl),Mt=w(Hl,"BUTTON",{class:!0,style:!0});var es=S(Mt);xt=Y(es,"GO 2024-01-01"),es.forEach(p),Tn=R(Hl),xe(Ft.$$.fragment,Hl),Hl.forEach(p),$o.forEach(p),Qo.forEach(p),Jo.forEach(p),Zo.forEach(p),kl=R(Ol),Qn=w(Ol,"TD",{"data-svelte-h":!0}),ue(Qn)!=="svelte-mcho4g"&&(Qn.textContent=ti),ni=R(Ol),Vn=w(Ol,"TD",{class:!0,"data-svelte-h":!0}),ue(Vn)!=="svelte-2zwo03"&&(Vn.textContent=wi),Ol.forEach(p),Rl=R(Gl),wn=w(Gl,"TR",{});var Ll=S(wn);dn=w(Ll,"TD",{style:!0});var Mi=S(dn);rn=w(Mi,"BUTTON",{class:!0,style:!0});var ts=S(rn);El=Y(ts,"SynGO 1.2"),ts.forEach(p),Vt=R(Mi),xe(pt.$$.fragment,Mi),Mi.forEach(p),At=R(Ll),Ct=w(Ll,"TD",{"data-svelte-h":!0}),ue(Ct)!=="svelte-mcho4g"&&(Ct.textContent=re),Ge=R(Ll),Gt=w(Ll,"TD",{class:!0,"data-svelte-h":!0}),ue(Gt)!=="svelte-1dpxb1k"&&(Gt.innerHTML=Ot),Ll.forEach(p),Sn=R(Gl),Xt=w(Gl,"TR",{});var Nl=S(Xt);Ht=w(Nl,"TD",{style:!0});var Bl=S(Ht);Bt=w(Bl,"INPUT",{id:!0,type:!0,accept:!0,style:!0}),Tt=R(Bl),gt=w(Bl,"BUTTON",{class:!0,style:!0});var ns=S(gt);_n=Y(ns,"upload GMT file"),ns.forEach(p),Hn=R(Bl),xe(It.$$.fragment,Bl),Bl.forEach(p),$n=R(Nl),cn=w(Nl,"TD",{"data-svelte-h":!0}),ue(cn)!=="svelte-mcho4g"&&(cn.textContent=li),xn=R(Nl),zn=w(Nl,"TD",{class:!0,"data-svelte-h":!0}),ue(zn)!=="svelte-10503au"&&(zn.innerHTML=ii),Nl.forEach(p),Gl.forEach(p),Ko.forEach(p),Yo.forEach(p),ol=R(Ii),el=w(Ii,"DIV",{});var Di=S(el);nr=w(Di,"BR",{}),lr=R(Di),In.l(Di),Di.forEach(p),Ii.forEach(p),Fl.forEach(p),ir=R(gn),Fn=w(gn,"DIV",{class:!0});var jl=S(Fn);sl=w(jl,"DIV",{class:!0,"data-svelte-h":!0}),ue(sl)!=="svelte-1kt4qpn"&&(sl.innerHTML=mo),rr=R(jl),al=w(jl,"DIV",{class:!0,"data-svelte-h":!0}),ue(al)!=="svelte-379imc"&&(al.innerHTML=vo),or=R(jl),Cn=w(jl,"DIV",{class:!0});var Ti=S(Cn);ri=w(Ti,"TABLE",{});var ls=S(ri);en=w(ls,"TBODY",{});var mn=S(en);Ln=w(mn,"TR",{});var ql=S(Ln);ul=w(ql,"TD",{class:!0,"data-svelte-h":!0}),ue(ul)!=="svelte-sanjpb"&&(ul.textContent=bo),sr=R(ql),oi=w(ql,"TD",{});var is=S(oi);Gn=w(is,"SELECT",{});var rs=S(Gn);for(let Hr=0;Hr<Wt.length;Hr+=1)Wt[Hr].l(rs);rs.forEach(p),is.forEach(p),ar=R(ql),On=w(ql,"TD",{class:!0});var Ul=S(On);ur=Y(Ul,`highly recommended to set to "effectsize", if available in your gene list
							`),fr=w(Ul,"BR",{}),dr=Y(Ul,`(refer to the
							`),tl=w(Ul,"A",{href:!0,target:!0,tabindex:!0});var os=S(tl);cr=Y(os,"Documentation"),os.forEach(p),gr=Y(Ul,`
							for preparing your input data accordingly)`),Ul.forEach(p),ql.forEach(p),hr=R(mn),Nn=w(mn,"TR",{});var Xl=S(Nn);fl=w(Xl,"TD",{class:!0,"data-svelte-h":!0}),ue(fl)!=="svelte-1ubsgke"&&(fl.textContent=wo),pr=R(Xl),si=w(Xl,"TD",{});var ss=S(si);kn=w(ss,"INPUT",{class:!0}),ss.forEach(p),_r=R(Xl),dl=w(Xl,"TD",{class:!0,"data-svelte-h":!0}),ue(dl)!=="svelte-10995iv"&&(dl.textContent=yo),Xl.forEach(p),mr=R(mn),Bn=w(mn,"TR",{});var Wl=S(Bn);cl=w(Wl,"TD",{class:!0,"data-svelte-h":!0}),ue(cl)!=="svelte-xygol8"&&(cl.textContent=So),vr=R(Wl),ai=w(Wl,"TD",{});var as=S(ai);Rn=w(as,"INPUT",{class:!0}),as.forEach(p),br=R(Wl),gl=w(Wl,"TD",{class:!0,"data-svelte-h":!0}),ue(gl)!=="svelte-1vti22m"&&(gl.textContent=Co),Wl.forEach(p),wr=R(mn),hl=w(mn,"TR",{});var Vi=S(hl);pl=w(Vi,"TD",{class:!0,"data-svelte-h":!0}),ue(pl)!=="svelte-1qa4fvu"&&(pl.textContent=ko),yr=R(Vi),nl=w(Vi,"TD",{colspan:!0});var Pi=S(nl);_l=w(Pi,"DIV",{});var zi=S(_l);jn=w(zi,"INPUT",{type:!0,id:!0,name:!0}),Sr=R(zi),ml=w(zi,"LABEL",{for:!0,"data-svelte-h":!0}),ue(ml)!=="svelte-3hf4fz"&&(ml.textContent=Ro),zi.forEach(p),Cr=R(Pi),vl=w(Pi,"DIV",{});var Fi=S(vl);qn=w(Fi,"INPUT",{type:!0,id:!0,name:!0}),kr=R(Fi),bl=w(Fi,"LABEL",{for:!0,"data-svelte-h":!0}),ue(bl)!=="svelte-auc0r"&&(bl.textContent=Eo),Fi.forEach(p),Pi.forEach(p),Vi.forEach(p),Rr=R(mn),Un=w(mn,"TR",{});var Yl=S(Un);wl=w(Yl,"TD",{class:!0,"data-svelte-h":!0}),ue(wl)!=="svelte-i0758a"&&(wl.textContent=Ao),Er=R(Yl),ui=w(Yl,"TD",{});var us=S(ui);En=w(us,"INPUT",{class:!0}),us.forEach(p),Ar=R(Yl),yl=w(Yl,"TD",{class:!0,"data-svelte-h":!0}),ue(yl)!=="svelte-y3kf5w"&&(yl.textContent=Io),Yl.forEach(p),Ir=R(mn),Xn=w(mn,"TR",{});var Kl=S(Xn);Il=w(Kl,"TD",{"data-svelte-h":!0}),ue(Il)!=="svelte-mcho4g"&&(Il.textContent=Mo),Mr=R(Kl),Wn=w(Kl,"TD",{style:!0});var Gi=S(Wn);on=w(Gi,"BUTTON",{class:!0,style:!0});var fs=S(on);Dr=Y(fs,"START"),fs.forEach(p),Tr=R(Gi),xe(Yn.$$.fragment,Gi),Gi.forEach(p),Pr=R(Kl),Sl=w(Kl,"TD",{class:!0});var ds=S(Sl);sn&&sn.l(ds),ds.forEach(p),Kl.forEach(p),mn.forEach(p),ls.forEach(p),zr=R(Ti),Jt&&Jt.l(Ti),Ti.forEach(p),jl.forEach(p),Fr=R(gn),Lt&&Lt.l(gn),gn.forEach(p),ki=R(H),Ml=w(H,"CANVAS",{id:!0}),S(Ml).forEach(p),this.h()},h(){Zr.title="GOAT: Gene set Ordinal Association Test - online gene set enrichment analyses",h(t,"name","description"),h(t,"content","Gene set enrichment analysis for Gene Ontology (GO) or KEGG pathways using the GOAT algorithm web tool. Online data analysis for your preranked gene list from e.g. proteomics or bulk/scRNAseq gene expression studies"),ed(o.src,s=e[26]+"android-chrome-192x192.png")||h(o,"src",s),h(o,"width","40"),h(o,"height","40"),h(o,"alt","GOAT"),h(r,"href",e[26]),G(i,"padding","4px"),G(i,"margin-left","20px"),h(u,"href",e[26]),G(u,"margin-left","5px"),h(g,"href",e[26]+"goat"),G(g,"margin-left","40px"),h(g,"class","active"),h(v,"href",e[26]+"genemap"),G(v,"margin-left","40px"),h(E,"href",e[26]+"docs"),G(E,"margin-left","40px"),h(M,"class","divH1"),h(z,"class","divH2"),h(j,"class","divH3"),h(be,"id","genelistFileDialog"),h(be,"type","file"),h(be,"accept",".csv,.tsv,.xlsx"),be.multiple="false",G(be,"display","none"),h(Ye,"class","dropicon"),h(ae,"id","genelist_dropzone"),h(ae,"tabindex","0"),h(ae,"role","button"),h(ae,"aria-pressed","false"),te(ae,"is-dragover",e[7]===!0),h(Se,"style",""),G(se,"vertical-align","top"),G(se,"width","300px"),h(ot,"href",e[26]+"docs"),h(ot,"target","_blank"),h(ot,"tabindex","-1"),h(I,"class","hrefUIaction"),G(I,"font-weight","700"),I.disabled=Ie=e[21]===!0,G(tt,"margin-top","20px"),h(_e,"class","helpSettings"),h(Ce,"class","pnlSettings"),te(Ce,"ok",typeof e[5]=="object"&&e[5].ok===!0),h(B,"class","containerSettings"),h(Ve,"class","divH2"),h(L,"class","divH3"),h(Nt,"class","btn btn-outline-blue"),G(Nt,"margin-right","5px"),Nt.disabled=zt=e[22]||e[23]||e[24],te(Nt,"btn-active",typeof e[19]=="object"&&e[19].type==="go_2025-01-01"),h(Mt,"class","btn btn-outline-blue"),G(Mt,"margin-right","5px"),G(Mt,"margin-top","3px"),Mt.disabled=Dt=e[22]||e[23]||e[24],te(Mt,"btn-active",typeof e[19]=="object"&&e[19].type==="go_2024-01-01"),G(bt,"border-collapse","collapse"),G(St,"display","flex"),G(St,"width","180px"),h(Vn,"class","helpSettings"),h(rn,"class","btn btn-outline-blue"),G(rn,"margin-right","5px"),rn.disabled=yn=e[22]||e[23]||e[24],te(rn,"btn-active",typeof e[19]=="object"&&e[19].type==="syngo"),G(dn,"display","flex"),G(dn,"width","180px"),G(dn,"margin-top","15px"),h(Gt,"class","helpSettings"),h(Bt,"id","genesetGMTFileDialog"),h(Bt,"type","file"),h(Bt,"accept",".gmt"),Bt.multiple="false",G(Bt,"display","none"),h(gt,"class","btn btn-outline-blue"),G(gt,"margin-right","5px"),gt.disabled=Pn=e[22]||e[23]||e[24],te(gt,"btn-active",typeof e[19]=="object"&&e[19].type==="gmt"),G(Ht,"display","flex"),G(Ht,"width","180px"),G(Ht,"margin-top","15px"),h(zn,"class","helpSettings"),h(Be,"class","pnlSettings"),te(Be,"ok",typeof e[19]=="object"&&e[19].ok===!0),h(ne,"class","containerSettings"),h(sl,"class","divH2"),h(al,"class","divH3"),h(ul,"class","textRight"),e[4]===void 0&&Jn(()=>e[56].call(Gn)),h(tl,"href",e[26]+"docs"),h(tl,"target","_blank"),h(tl,"tabindex","-1"),h(On,"class","helpSettings"),h(fl,"class","textRight"),h(kn,"class","inputNumber"),te(kn,"invalid-input",e[10]===!0),h(dl,"class","helpSettings"),h(cl,"class","textRight"),h(Rn,"class","inputNumber"),te(Rn,"invalid-input",e[11]===!0),h(gl,"class","helpSettings"),h(pl,"class","textRight valign-top"),h(jn,"type","radio"),h(jn,"id","padjBonferroni"),h(jn,"name","radioPadjust"),jn.checked=yi=e[2]=="bonferroni",h(ml,"for","padjBonferroni"),h(qn,"type","radio"),h(qn,"id","padjFDR"),h(qn,"name","radioPadjust"),qn.checked=Si=e[2]=="fdr",h(bl,"for","padjFDR"),h(nl,"colspan","2"),h(wl,"class","textRight"),h(En,"class","inputNumber"),te(En,"invalid-input",e[12]===!0),h(yl,"class","helpSettings"),h(on,"class","btn"),G(on,"margin-right","5px"),on.disabled=Ci=e[25]===!0||!(typeof e[5]=="object"&&e[5].ok===!0&&typeof e[19]=="object"&&e[19].ok===!0&&e[10]==!1&&e[11]==!1&&e[12]==!1),te(on,"btn-action",e[18]!==!0),te(on,"btn-warning",e[18]===!0),G(Wn,"display","flex"),G(Wn,"width","100px"),h(Sl,"class","helpSettings"),h(Cn,"class","pnlSettings"),te(Cn,"ok",!(e[18]||e[10]||e[11]||e[12]||!(typeof e[5]=="object"&&e[5].ok===!0&&typeof e[19]=="object"&&e[19].ok===!0))),h(Fn,"class","containerSettings"),h(T,"tabindex","-1"),h(T,"role","button"),h(T,"aria-pressed","false"),h(Ml,"id","mycanvas")},m(H,je){c(Zr.head,t),A(H,n,je),A(H,l,je),c(l,i),c(i,r),c(r,o),c(l,a),c(l,u),c(u,f),c(l,d),c(l,g),c(g,m),c(l,_),c(l,v),c(v,y),c(l,C),c(l,E),c(E,P),A(H,D,je),A(H,T,je),c(T,M),c(T,V),c(T,B),c(B,z),c(B,O),c(B,j),c(B,le),c(B,Ce),c(Ce,ve),c(ve,q),c(q,pe),c(pe,se),c(se,be),c(se,ye),c(se,ae),c(ae,F),c(F,fe),c(F,Ee),c(F,we),c(F,Xe),c(F,Ye),c(F,Ne),Qe(de,F,null),c(se,ze),c(se,Se),c(Se,vt),c(Se,J),c(Se,he),c(Se,Q),An.m(Se,null),c(pe,ge),c(pe,Te),c(Te,_e),c(_e,He),c(_e,et),c(_e,Ke),c(_e,ot),c(ot,ft),c(_e,Ae),c(_e,tt),Qe(Re,tt,null),c(tt,rt),c(tt,I),c(I,ee),c(tt,X),c(T,Me),c(T,ne),c(ne,Ve),c(ne,nt),c(ne,L),c(ne,We),c(ne,Be),c(Be,$),c($,ke),c(ke,Pe),c(Pe,ut),c(ut,St),c(St,bt),c(bt,ct),c(ct,lt),c(lt,Rt),c(Rt,Nt),c(Nt,Zt),c(Rt,fn),c(Rt,Mt),c(Mt,xt),c(Rt,Tn),Qe(Ft,Rt,null),c(ut,kl),c(ut,Qn),c(ut,ni),c(ut,Vn),c(Pe,Rl),c(Pe,wn),c(wn,dn),c(dn,rn),c(rn,El),c(dn,Vt),Qe(pt,dn,null),c(wn,At),c(wn,Ct),c(wn,Ge),c(wn,Gt),c(Pe,Sn),c(Pe,Xt),c(Xt,Ht),c(Ht,Bt),c(Ht,Tt),c(Ht,gt),c(gt,_n),c(Ht,Hn),Qe(It,Ht,null),c(Xt,$n),c(Xt,cn),c(Xt,xn),c(Xt,zn),c(Be,ol),c(Be,el),c(el,nr),c(el,lr),In.m(el,null),c(T,ir),c(T,Fn),c(Fn,sl),c(Fn,rr),c(Fn,al),c(Fn,or),c(Fn,Cn),c(Cn,ri),c(ri,en),c(en,Ln),c(Ln,ul),c(Ln,sr),c(Ln,oi),c(oi,Gn);for(let jt=0;jt<Wt.length;jt+=1)Wt[jt]&&Wt[jt].m(Gn,null);an(Gn,e[4],!0),c(Ln,ar),c(Ln,On),c(On,ur),c(On,fr),c(On,dr),c(On,tl),c(tl,cr),c(On,gr),c(en,hr),c(en,Nn),c(Nn,fl),c(Nn,pr),c(Nn,si),c(si,kn),Yt(kn,e[0]),c(Nn,_r),c(Nn,dl),c(en,mr),c(en,Bn),c(Bn,cl),c(Bn,vr),c(Bn,ai),c(ai,Rn),Yt(Rn,e[1]),c(Bn,br),c(Bn,gl),c(en,wr),c(en,hl),c(hl,pl),c(hl,yr),c(hl,nl),c(nl,_l),c(_l,jn),c(_l,Sr),c(_l,ml),c(nl,Cr),c(nl,vl),c(vl,qn),c(vl,kr),c(vl,bl),c(en,Rr),c(en,Un),c(Un,wl),c(Un,Er),c(Un,ui),c(ui,En),Yt(En,e[3]),c(Un,Ar),c(Un,yl),c(en,Ir),c(en,Xn),c(Xn,Il),c(Xn,Mr),c(Xn,Wn),c(Wn,on),c(on,Dr),c(Wn,Tr),Qe(Yn,Wn,null),c(Xn,Pr),c(Xn,Sl),sn&&sn.m(Sl,null),c(Cn,zr),Jt&&Jt.m(Cn,null),c(T,Fr),Lt&&Lt.m(T,null),A(H,ki,je),A(H,Ml,je),kt=!0,Or||(Do=[ie(be,"change",e[44]),ie(ae,"keydown",rf),ie(ae,"click",rf),ie(ae,"dragstart",vn),ie(ae,"dragover",e[46]),ie(ae,"dragenter",e[47]),ie(ae,"dragleave",e[48]),ie(ae,"dragend",e[49]),ie(ae,"drop",e[50]),ie(I,"click",e[35]),ie(Nt,"click",e[37]),ie(Mt,"click",e[36]),ie(rn,"click",e[38]),ie(Bt,"change",e[54]),ie(gt,"click",O1),ie(Gn,"change",e[56]),ie(kn,"input",e[57]),ie(kn,"change",e[58]),ie(Rn,"input",e[59]),ie(Rn,"change",e[60]),ie(jn,"change",e[61]),ie(qn,"change",e[62]),ie(En,"input",e[63]),ie(En,"change",e[64]),ie(on,"click",e[41]),ie(T,"keydown",void 0),ie(T,"dragstart",vn),ie(T,"dragover",vn),ie(T,"dragenter",vn),ie(T,"dragleave",vn),ie(T,"dragend",vn),ie(T,"drop",vn)],Or=!0)},p(H,je){const jt={};!dt&&je[0]&1048576&&(dt=!0,jt.show=H[20],_t(()=>dt=!1)),de.$set(jt),(!kt||je[0]&128)&&te(ae,"is-dragover",H[7]===!0),Ri===(Ri=Vo(H))&&An?An.p(H,je):(An.d(1),An=Ri(H),An&&(An.c(),An.m(Se,null)));const fi={};!it&&je[0]&2097152&&(it=!0,fi.show=H[21],_t(()=>it=!1)),Re.$set(fi),(!kt||je[0]&2097152&&Ie!==(Ie=H[21]===!0))&&(I.disabled=Ie),(!kt||je[0]&32)&&te(Ce,"ok",typeof H[5]=="object"&&H[5].ok===!0),(!kt||je[0]&29360128&&zt!==(zt=H[22]||H[23]||H[24]))&&(Nt.disabled=zt),(!kt||je[0]&524288)&&te(Nt,"btn-active",typeof H[19]=="object"&&H[19].type==="go_2025-01-01"),(!kt||je[0]&29360128&&Dt!==(Dt=H[22]||H[23]||H[24]))&&(Mt.disabled=Dt),(!kt||je[0]&524288)&&te(Mt,"btn-active",typeof H[19]=="object"&&H[19].type==="go_2024-01-01");const di={};!ei&&je[0]&4194304&&(ei=!0,di.show=H[22],_t(()=>ei=!1)),Ft.$set(di),(!kt||je[0]&29360128&&yn!==(yn=H[22]||H[23]||H[24]))&&(rn.disabled=yn),(!kt||je[0]&524288)&&te(rn,"btn-active",typeof H[19]=="object"&&H[19].type==="syngo");const ci={};!Et&&je[0]&8388608&&(Et=!0,ci.show=H[23],_t(()=>Et=!1)),pt.$set(ci),(!kt||je[0]&29360128&&Pn!==(Pn=H[22]||H[23]||H[24]))&&(gt.disabled=Pn),(!kt||je[0]&524288)&&te(gt,"btn-active",typeof H[19]=="object"&&H[19].type==="gmt");const gi={};if(!Al&&je[0]&16777216&&(Al=!0,gi.show=H[24],_t(()=>Al=!1)),It.$set(gi),Ei===(Ei=Oo(H))&&In?In.p(H,je):(In.d(1),In=Ei(H),In&&(In.c(),In.m(el,null))),(!kt||je[0]&524288)&&te(Be,"ok",typeof H[19]=="object"&&H[19].ok===!0),je[0]&131072){Dl=me(H[17]);let tn;for(tn=0;tn<Dl.length;tn+=1){const gn=Wu(H,Dl,tn);Wt[tn]?Wt[tn].p(gn,je):(Wt[tn]=Ku(gn),Wt[tn].c(),Wt[tn].m(Gn,null))}for(;tn<Wt.length;tn+=1)Wt[tn].d(1);Wt.length=Dl.length}je[0]&131088&&an(Gn,H[4]),je[0]&1&&kn.value!==H[0]&&Yt(kn,H[0]),(!kt||je[0]&1024)&&te(kn,"invalid-input",H[10]===!0),je[0]&2&&Rn.value!==H[1]&&Yt(Rn,H[1]),(!kt||je[0]&2048)&&te(Rn,"invalid-input",H[11]===!0),(!kt||je[0]&4&&yi!==(yi=H[2]=="bonferroni"))&&(jn.checked=yi),(!kt||je[0]&4&&Si!==(Si=H[2]=="fdr"))&&(qn.checked=Si),je[0]&8&&En.value!==H[3]&&Yt(En,H[3]),(!kt||je[0]&4096)&&te(En,"invalid-input",H[12]===!0),(!kt||je[0]&34085920&&Ci!==(Ci=H[25]===!0||!(typeof H[5]=="object"&&H[5].ok===!0&&typeof H[19]=="object"&&H[19].ok===!0&&H[10]==!1&&H[11]==!1&&H[12]==!1)))&&(on.disabled=Ci),(!kt||je[0]&262144)&&te(on,"btn-action",H[18]!==!0),(!kt||je[0]&262144)&&te(on,"btn-warning",H[18]===!0);const hi={};!Vr&&je[0]&33554432&&(Vr=!0,hi.show=H[25],_t(()=>Vr=!1)),Yn.$set(hi),Tl!==(Tl=Lo(H))&&(sn&&sn.d(1),sn=Tl&&Tl(H),sn&&(sn.c(),sn.m(Sl,null))),H[15]?Jt?Jt.p(H,je):(Jt=Zu(H),Jt.c(),Jt.m(Cn,null)):Jt&&(Jt.d(1),Jt=null),(!kt||je[0]&793632)&&te(Cn,"ok",!(H[18]||H[10]||H[11]||H[12]||!(typeof H[5]=="object"&&H[5].ok===!0&&typeof H[19]=="object"&&H[19].ok===!0))),je[0]&64&&(Gr=H[6]!==void 0&&Array.isArray(H[6].genesets)),Gr?Lt?(Lt.p(H,je),je[0]&64&&oe(Lt,1)):(Lt=Ju(H),Lt.c(),oe(Lt,1),Lt.m(T,null)):Lt&&(qt(),ce(Lt,1,1,()=>{Lt=null}),Ut())},i(H){kt||(oe(de.$$.fragment,H),oe(Re.$$.fragment,H),oe(Ft.$$.fragment,H),oe(pt.$$.fragment,H),oe(It.$$.fragment,H),oe(Yn.$$.fragment,H),oe(Lt),kt=!0)},o(H){ce(de.$$.fragment,H),ce(Re.$$.fragment,H),ce(Ft.$$.fragment,H),ce(pt.$$.fragment,H),ce(It.$$.fragment,H),ce(Yn.$$.fragment,H),ce(Lt),kt=!1},d(H){H&&(p(n),p(l),p(D),p(T),p(ki),p(Ml)),p(t),$e(de),An.d(),$e(Re),$e(Ft),$e(pt),$e(It),In.d(),st(Wt,H),$e(Yn),sn&&sn.d(),Jt&&Jt.d(),Lt&&Lt.d(),Or=!1,Qt(Do)}}}function vn(e){e.preventDefault(),e.stopPropagation()}async function rf(e){document.getElementById("genelistFileDialog").click()}async function O1(e){document.getElementById("genesetGMTFileDialog").click()}function H1(e,t,n){let l,i,r,o,s,a,u,f,d,g,m,_;Pt(e,kd,L=>n(19,r=L)),Pt(e,Rd,L=>n(5,o=L)),Pt(e,un,L=>n(6,s=L)),Pt(e,Ed,L=>n(73,a=L));let v;td(()=>y());const y=async()=>{const L=await Xf(()=>import("../chunks/goat.25db362c.js"),[],import.meta.url);v=new L.default,v.onmessage=function(Z){console.log("svelte callback"),console.log(Z),V.update(We=>!1),Z&&typeof Z=="object"&&typeof Z.data=="object"?(od(Z.data.gl,Z.data.scoretype_props,Z.data.gs_filtered,r.hasDag===!0,Z.data.stats,r.uri,r.type,le,B,z,N,O),o.genelist.analytics!==!0&&(sd("goat"),ad()),ud()):(console.error("goat worker error;"),console.error(Z),n(15,ye=Z))}},C=!!a&&a.url.hostname.endsWith("github.io")&&"/goat/"||"/";let E=!1;const P=hn(!1);Pt(e,P,L=>n(20,u=L));const D=hn(!1);Pt(e,D,L=>n(21,f=L));const T=hn(!1);Pt(e,T,L=>n(22,d=L));const M=hn(!1);Pt(e,M,L=>n(23,g=L));const U=hn(!1);Pt(e,U,L=>n(24,m=L));const V=hn(!1);Pt(e,V,L=>n(25,_=L));let B="10",z="1500",N="bonferroni",O="0.05",j="table",K=0,le="effectsize";const Ce=new RegExp("^[0-9]+$");let ve=!1,q=!1,pe=!1,se,be,ye,ae;async function F(L){L.dataTransfer&&L.dataTransfer.files&&fe(L.dataTransfer.files[0])}async function fe(L){try{n(13,se=void 0),P.update(We=>!0),vs();const Z=await dd(L);cd(Z,L.name),Z.scoretype_options.indexOf("effectsize")!==-1?n(4,le="effectsize"):n(4,le="pvalue")}catch(Z){console.error(Z),n(13,se=Z.message)}P.update(Z=>!1)}async function x(L){try{n(13,se=void 0),D.update(Z=>!0),vs(),await gd(),o.scoretype_options.indexOf("effectsize")!==-1?n(4,le="effectsize"):n(4,le="pvalue")}catch(Z){console.error(Z),n(13,se=Z.message)}D.update(Z=>!1)}async function Ee(L){try{n(14,be=void 0),T.update(Z=>!0),Hi(),await hd()}catch(Z){console.error(Z),n(14,be=Z.message)}T.update(Z=>!1)}async function we(L){try{n(14,be=void 0),T.update(Z=>!0),Hi(),await pd()}catch(Z){console.error(Z),n(14,be=Z.message)}T.update(Z=>!1)}async function Xe(L){try{n(14,be=void 0),M.update(Z=>!0),Hi(),await _d()}catch(Z){console.error(Z),n(14,be=Z.message)}M.update(Z=>!1)}async function Ye(L){try{n(14,be=void 0),U.update($=>!0),Hi();const Z=await md(L),We=$c(Z),Be=[{source:"GMT",source_version:L.name,genesets:We}];vd(Be,L.name,"gmt",!1)}catch(Z){console.error(Z),n(14,be=Z.message)}U.update(Z=>!1)}async function Ne(L){try{n(16,ae=void 0);const Z=bd(),We=eg(o,s,"1.0.2",Z),Be=new Blob([We]),$=xc(),ke=new wd;ke.file("goat_log_m&m.txt",Be),ke.file("goat_result.xlsx",$);const Pe=await ke.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:3}});let ut=o.filename.replace(/\.[a-zA-Z]{3,4}$/,"")+"__GOAT-online_"+Z+".zip";ut.length>180&&(ut="GOAT-online_"+Z+".zip"),yd.saveAs(Pe,ut)}catch(Z){console.error(Z),n(16,ae=Z.message)}}async function de(L){try{n(15,ye=void 0),n(9,K=0),V.update(We=>!0),Sd();const Z=await Cd();v.postMessage(JSON.stringify({gl:o.genelist,gs:r.genesets,nulldistr:Z,scoreType:le,selectedMinSize:B,selectedMaxSize:z,selectedPvalueAdjustment:N,selectedPvalueThreshold:O}))}catch(Z){console.error(Z),n(15,ye=Z.message),V.update(We=>!1)}}function dt(L,Z){const We=+L;typeof We!="number"||isNaN(We)||We<10||Ce.test(L)!==!0||Ce.test(z)===!0&&We>=+z?n(10,ve=!0):(n(10,ve=!1),Z===!0&&ze(z,!1))}function ze(L,Z){const We=+L;typeof We!="number"||isNaN(We)||We<10||Ce.test(L)!==!0||Ce.test(B)===!0&&We<=+B?n(11,q=!0):(n(11,q=!1),Z===!0&&dt(B,!1))}const Se=L=>{console.log(L.target.files[0]),L.target.files&&fe(L.target.files[0])};function vt(L){u=L,P.set(u)}const J=L=>{vn(L),n(7,E=!0)},he=L=>{vn(L),n(7,E=!0)},Q=L=>{vn(L),n(7,E=!1)},ge=L=>{vn(L),n(7,E=!1)},Te=L=>{vn(L),n(7,E=!1),F(L)};function _e(L){f=L,D.set(f)}function He(L){d=L,T.set(d)}function et(L){g=L,M.set(g)}const wt=L=>{L.target.files&&Ye(L.target.files[0])};function Ke(L){m=L,U.set(m)}function ot(){le=$l(this),n(4,le),n(17,i),n(5,o)}function ft(){B=this.value,n(0,B)}const Ae=L=>dt(L.target.value,!0);function tt(){z=this.value,n(1,z)}const Re=L=>ze(L.target.value,!0),it=L=>{n(2,N="bonferroni")},rt=L=>{n(2,N="fdr")};function I(){O=this.value,n(3,O)}const ee=L=>{const Z=+L.target.value;n(12,pe=typeof Z!="number"||isNaN(Z)||Z>1||Z<0)};function Ie(L){_=L,V.set(_)}const X=()=>{n(8,j="table")},Me=()=>{n(8,j="barplot")},ne=()=>{n(8,j="tree")},Ve=()=>{n(8,j="treemap")},Le=()=>{n(8,j="heatmap")},nt=L=>{n(9,K=L)};return e.$$.update=()=>{e.$$.dirty[0]&95&&n(18,l=typeof s=="object"&&typeof s.settings=="object"&&(s.settings.scoreType!==le||s.settings.minSize!==B||s.settings.maxSize!==z||s.settings.pvalueAdjustment!==N||s.settings.pvalueThreshold!==O)),e.$$.dirty[0]&32&&n(17,i=o&&o.scoretype_options||[])},[B,z,N,O,le,o,s,E,j,K,ve,q,pe,se,be,ye,ae,i,l,r,u,f,d,g,m,_,C,P,D,T,M,U,V,F,fe,x,Ee,we,Xe,Ye,Ne,de,dt,ze,Se,vt,J,he,Q,ge,Te,_e,He,et,wt,Ke,ot,ft,Ae,tt,Re,it,rt,I,ee,Ie,X,Me,ne,Ve,Le,nt]}class Y1 extends $t{constructor(t){super(),ln(this,t,H1,G1,nn,{},null,[-1,-1,-1])}}export{Y1 as component};
