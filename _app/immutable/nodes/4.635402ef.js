import{s as yn,p as en,D as wn,f as r,a as y,l as N,A as In,g as u,d as t,c as w,h as T,m as M,B as F,j as g,C as kn,k as B,E as tn,F as Xe,x as l,i as v,G as x,H as nn,I as An,z as Ze,n as pe,y as vn,e as ln}from"../chunks/scheduler.cd38125d.js";import{S as Tn,i as Cn,f as sn,b as an,d as on,m as rn,a as un,t as dn,e as cn}from"../chunks/index.a6a2bf8f.js";import{p as En,S as fn,g as Rn,f as Gn,a as Dn,d as xn,c as Sn,F as Vn,l as Hn}from"../chunks/stores.6e73a4c1.js";/* empty css                    */import{p as Bn}from"../chunks/stores.3ed8a801.js";import{w as pn}from"../chunks/singletons.86de3700.js";function Ln(e){const n=e.length,o=e[0].map(h=>h.toLowerCase()),f=o.length,s=o.indexOf("symbol");let p;const i=s+1,d=[];if(s===-1)throw new Error("input genelist table must contain headers on the first line. Cannot find required header for column; 'symbol' (should contain character/string values)");if(o.filter(h=>h==="symbol").length>1)throw new Error("input genelist table is invalid because it contains multiple columns with the name 'symbol' (remove redundant columns)");for(let h=1;h<n;h++)if(e[h].length===0)d.push("");else if(p=e[h],s==f-1&&(!Array.isArray(p)||p.length<=s))d.push("");else{if(p.length<i)throw new Error("line "+(h+1)+" is invalid, it contains fewer values/columns than expected");d.push(p[s]&&p[s].trim().length>1&&p[s].trim().toUpperCase()||"")}return d}function Nn(e,n,o){const f=new RegExp("[ ,;]"),s=[...new Set(e.filter(d=>d.length>=2&&f.test(d)===!1))],p=[],i=e.length;for(let d=0;d<i;d++)if(e[d]==="")p.push([]);else{const h=[...new Set(e[d].split(/[ ,;]+/))].filter(c=>c.length>=2),k=h.length;let A;if(k===1)A=n[h[0]];else if(k>1&&o!=="skipAmbiguous")if(o==="retainFirstSucces")for(let c=0;c<k&&A===void 0;c++)A=n[h[c]];else if(o==="retainFirstSuccesNovel")for(let c=0;c<k&&A===void 0;c++)s.indexOf(h[c])===-1&&(A=n[h[c]]);else o==="retainFirst"&&(A=n[h[0]]);p.push(A===void 0?"":A)}return p}async function Mn(e){const n=await En(e);if(Array.isArray(n)===!1||n.length<2)throw new Error("input genelist table must not be empty");return n}async function Fn(e,n,o,f){let s=[...e];const p=s.length,i=Nn(n,o.lookupGene,f);let d=[],h;for(let b=0;b<s[0].length;b++)h=s[0][b],h&&["gene","hgnc_id","hgnc_symbol"].indexOf(h.toLowerCase())!==-1&&d.push(b);const k=d.length;if(k>0){d=d.reverse();for(let b=0;b<p;b++)for(let L=0;L<k;L++)s[b].splice(d[L],1)}s[0]=s[0].concat(["gene","hgnc_id","hgnc_symbol"]);let A,c;for(let b=1;b<p;b++)A=i[b-1],A===""?s[b]=s[b].concat(["","",""]):(c=o.lookupMeta[A],c===void 0?s[b]=s[b].concat(["","",""]):s[b]=s[b].concat([c.entrez_id,A,c.hgnc_symbol]));return s}const{document:Et}=Rn;function jn(e){let n,o="status:",f,s,p,i,d="no genelist loaded yet";return{c(){n=r("b"),n.textContent=o,f=y(),s=r("br"),p=y(),i=r("div"),i.textContent=d,this.h()},l(h){n=u(h,"B",{"data-svelte-h":!0}),F(n)!=="svelte-jrlymk"&&(n.textContent=o),f=w(h),s=u(h,"BR",{}),p=w(h),i=u(h,"DIV",{class:!0,"data-svelte-h":!0}),F(i)!=="svelte-1x7jbfu"&&(i.textContent=d),this.h()},h(){g(i,"class","alert")},m(h,k){v(h,n,k),v(h,f,k),v(h,s,k),v(h,p,k),v(h,i,k)},p:vn,d(h){h&&(t(n),t(f),t(s),t(p),t(i))}}}function qn(e){let n,o="filename:",f,s=e[1].filename+"",p,i,d,h,k="number of rows:",A,c=e[1].countRows+"",b,L,j,D,X="rows with gene symbol:",U,C=e[1].countGenes+"",I,G;return{c(){n=r("b"),n.textContent=o,f=y(),p=N(s),i=r("br"),d=y(),h=r("b"),h.textContent=k,A=y(),b=N(c),L=r("br"),j=y(),D=r("b"),D.textContent=X,U=y(),I=N(C),G=r("br")},l(_){n=u(_,"B",{"data-svelte-h":!0}),F(n)!=="svelte-nlrd5p"&&(n.textContent=o),f=w(_),p=M(_,s),i=u(_,"BR",{}),d=w(_),h=u(_,"B",{"data-svelte-h":!0}),F(h)!=="svelte-1i25ctn"&&(h.textContent=k),A=w(_),b=M(_,c),L=u(_,"BR",{}),j=w(_),D=u(_,"B",{"data-svelte-h":!0}),F(D)!=="svelte-16isldi"&&(D.textContent=X),U=w(_),I=M(_,C),G=u(_,"BR",{})},m(_,V){v(_,n,V),v(_,f,V),v(_,p,V),v(_,i,V),v(_,d,V),v(_,h,V),v(_,A,V),v(_,b,V),v(_,L,V),v(_,j,V),v(_,D,V),v(_,U,V),v(_,I,V),v(_,G,V)},p(_,V){V&2&&s!==(s=_[1].filename+"")&&pe(p,s),V&2&&c!==(c=_[1].countRows+"")&&pe(b,c),V&2&&C!==(C=_[1].countGenes+"")&&pe(I,C)},d(_){_&&(t(n),t(f),t(p),t(i),t(d),t(h),t(A),t(b),t(L),t(j),t(D),t(U),t(I),t(G))}}}function On(e){let n,o="error while loading your genelist:",f,s,p;return{c(){n=r("b"),n.textContent=o,f=y(),s=r("div"),p=N(e[3]),this.h()},l(i){n=u(i,"B",{"data-svelte-h":!0}),F(n)!=="svelte-rtmaud"&&(n.textContent=o),f=w(i),s=u(i,"DIV",{class:!0});var d=T(s);p=M(d,e[3]),d.forEach(t),this.h()},h(){g(s,"class","alert")},m(i,d){v(i,n,d),v(i,f,d),v(i,s,d),l(s,p)},p(i,d){d&8&&pe(p,i[3])},d(i){i&&(t(n),t(f),t(s))}}}function hn(e){let n,o="error while comparing your data to the lookup tables:",f,s,p;return{c(){n=r("b"),n.textContent=o,f=y(),s=r("div"),p=N(e[4]),this.h()},l(i){n=u(i,"B",{"data-svelte-h":!0}),F(n)!=="svelte-133bokb"&&(n.textContent=o),f=w(i),s=u(i,"DIV",{class:!0});var d=T(s);p=M(d,e[4]),d.forEach(t),this.h()},h(){g(s,"class","alert")},m(i,d){v(i,n,d),v(i,f,d),v(i,s,d),l(s,p)},p(i,d){d&16&&pe(p,i[4])},d(i){i&&(t(n),t(f),t(s))}}}function Un(e){let n,o="No results yet; load your genelist and press START...";return{c(){n=r("div"),n.textContent=o},l(f){n=u(f,"DIV",{"data-svelte-h":!0}),F(n)!=="svelte-fomj7a"&&(n.textContent=o)},m(f,s){v(f,n,s)},p:vn,d(f){f&&t(n)}}}function zn(e){let n,o=e[1].countSuccess+"",f,s,p=e[1].countGenes+"",i,d,h,k,A,c,b,L="download results",j,D,X,U,C=!!e[5]&&mn(e);return{c(){n=r("div"),f=N(o),s=N(" / "),i=N(p),d=N(` genes in your table were mapped to Human gene\r
				identifiers.`),h=y(),k=r("br"),A=y(),c=r("div"),b=r("button"),b.textContent=L,j=y(),C&&C.c(),D=ln(),this.h()},l(I){n=u(I,"DIV",{});var G=T(n);f=M(G,o),s=M(G," / "),i=M(G,p),d=M(G,` genes in your table were mapped to Human gene\r
				identifiers.`),G.forEach(t),h=w(I),k=u(I,"BR",{}),A=w(I),c=u(I,"DIV",{});var _=T(c);b=u(_,"BUTTON",{class:!0,"data-svelte-h":!0}),F(b)!=="svelte-c9mrqp"&&(b.textContent=L),_.forEach(t),j=w(I),C&&C.l(I),D=ln(),this.h()},h(){g(b,"class","btn btn-action")},m(I,G){v(I,n,G),l(n,f),l(n,s),l(n,i),l(n,d),v(I,h,G),v(I,k,G),v(I,A,G),v(I,c,G),l(c,b),v(I,j,G),C&&C.m(I,G),v(I,D,G),X||(U=x(b,"click",e[15]),X=!0)},p(I,G){G&2&&o!==(o=I[1].countSuccess+"")&&pe(f,o),G&2&&p!==(p=I[1].countGenes+"")&&pe(i,p),I[5]?C?C.p(I,G):(C=mn(I),C.c(),C.m(D.parentNode,D)):C&&(C.d(1),C=null)},d(I){I&&(t(n),t(h),t(k),t(A),t(c),t(j),t(D)),C&&C.d(I),X=!1,U()}}}function mn(e){let n,o="error while preparing data for download:",f,s,p;return{c(){n=r("b"),n.textContent=o,f=y(),s=r("div"),p=N(e[5]),this.h()},l(i){n=u(i,"B",{"data-svelte-h":!0}),F(n)!=="svelte-ncd7xk"&&(n.textContent=o),f=w(i),s=u(i,"DIV",{class:!0});var d=T(s);p=M(d,e[5]),d.forEach(t),this.h()},h(){g(s,"class","alert")},m(i,d){v(i,n,d),v(i,f,d),v(i,s,d),l(s,p)},p(i,d){d&32&&pe(p,i[5])},d(i){i&&(t(n),t(f),t(s))}}}function Wn(e){let n,o,f,s,p,i,d,h,k,A,c,b,L,j,D,X,U,C,I,G,_,V=`<h1>Gene ID mapping</h1> <div style="margin: 0px 25px 0px 25px; text-align: center;"><h3>With this tool you can map gene symbols in an Excel/CSV/TSV table to Human gene identifiers.
			<br/>
			The output will contain columns with gene IDs and the respective official gene symbol. It can be
			directly used as input for the GOAT online tool (it&#39;ll only use rows where mapping was successful).</h3> <img src="beta.png" width="200px" alt="BETA VERSION"/></div>`,we,S,ae,Me="<h2>Your input data</h2>",He,he,me,oe,Q,$,Be,m,E,Y,re="drag&drop a genelist file or click to open a file dialog",Je,Qe,$e,Le,et,ue,tt,nt,Ie,Rt=`<div class="helpSettings">Importantly, your input genelist / gene table must be prepared in a format that is
						compatible with this tool.
						<ul><li class="svelte-1b7cd8l">File format: either CSV, TSV or Excel (.xlsx file, data on the first sheet)</li> <li class="svelte-1b7cd8l">Required column: <b>symbol</b> (column name must match exactly)</li></ul>
						The documentation below shows an example table that one might use as input.</div>`,lt,be,Fe,H,ve,Gt="<h2>Settings</h2>",st,_e,Dt=`Rows where the gene symbol column contains a delimiter (i.e. semicolon, comma or whitespace) are\r
		assumed to refer to multiple genes. If there are more than 2 unique gene symbols (on a row), how\r
		should these be mapped to human gene identifiers?`,it,ke,Ae,z,at,ot,Te,Ce,W,rt,ut,Ee,Re,P,dt,ct,Ge,De,K,ft,pt,ht,mt,ne,le,bt,je,vt,de,_t,gt,qe,se,ge,xt="<h2>Results</h2>",yt,ye,Oe,ie,St=`<div class="divH2"><h2>Settings documentation</h2></div> <p>To illustrate the problem of ambiguous genes/symbols and solutions offered by above options;</p> <table class="tbl-bordered"><thead><tr><th>symbol</th><th>effectsize</th><th class="note svelte-1b7cd8l">note</th></tr></thead> <tbody><tr><td>GRIA1</td><td>1.0</td> <td class="note svelte-1b7cd8l">protein group maps to exactly 1 gene</td></tr> <tr><td>GRIA2</td><td>1.0</td> <td class="note svelte-1b7cd8l">protein group maps to exactly 1 gene</td></tr> <tr><td>GRIA1;GRIA2</td><td>1.5</td> <td class="note svelte-1b7cd8l">ambiguous, one might want to use only the first entry (&#39;leading&#39; gene)</td></tr> <tr><td>GRIA3;GRIA4</td><td>1.5</td> <td class="note svelte-1b7cd8l">ambiguous, but this row contributes a new gene (GRIA3)</td></tr> <tr><td>tr|A8K0K0|A8K0K0_HUMAN;GRIA2;GRIA3</td><td>2.0</td> <td class="note svelte-1b7cd8l">ambiguous, but the first entry has no gene symbol only an accession</td></tr></tbody></table> <div><ol><li class="svelte-1b7cd8l">With option 1, <i>&quot;try to map only the first gene symbol&quot;</i><br/>
				the output will contain a gene ID for all rows except the last (respectively, GRIA1, GRIA2, GRIA1,
				GRIA3, -).</li> <li class="svelte-1b7cd8l">With option 2, <i>&quot;use the first gene symbol that can be successfully mapped&quot;</i><br/>
				all rows will be mapped to a gene ID (respectively, GRIA1, GRIA2, GRIA1, GRIA3, GRIA2).</li> <li class="svelte-1b7cd8l">With option 3, <i>&quot;analogous to above, but skip if there exist a non-ambiguous row that contains the first
					(successfully mapped) gene symbol&quot;</i><br/>
				rows 3 and 5 are skipped because there exist unambiguous entries for GRIA1 and GRIA2 (respectively,
				GRIA1, GRIA2, -, GRIA3, -). This approach favors rows that are unambiguous and supplements this
				only with ambiguous rows that contribute new information (genes).</li> <li class="svelte-1b7cd8l">With option 4, <i>&quot;skip rows with ambiguous symbols altogether&quot;</i><br/>
				only the first 2 rows are mapped (respectively, GRIA1, GRIA2, -, -, -).</li></ol></div> <p>When chosing the option most appropriate for your dataset, keep in mind that the geneset
		analysis in GOAT online will retain only 1 row per unique gene. If multiple rows/entries are
		available for a gene, the one with the lowest/best p-value is retained. If there are no gene
		p-values in your data/table, the best absolute effectsize is retained (across multiple entries
		for the same gene).</p>`,Ue,ce,Vt=`<div class="divH2"><h2>What data is used / how is gene ID mapping done?</h2></div> <div><p>We created a lookup table using official gene symbols and aliases/synonyms based on
			information provided by <a href="https://www.genenames.org" target="_blank" rel="nofollow">HGNC</a>, it is stored on this webserver. Any synonyms that are listed by HGNC as entries for
			multiple genes are considered ambiguous and are discarded.</p> <p>This tool downloads the lookup table (mapping from symbols to gene IDs) to your computer and
			then proceeds with matching between your input table and HGNC gene information. So your
			table/data never leaves your computer and remains private at all times.</p></div>`,xe,wt,It,Ht;function _n(a){e[17](a)}let Bt={colour:"black",size:"2.5em"};e[6]!==void 0&&(Bt.show=e[6]),ue=new fn({props:Bt}),en.push(()=>sn(ue,"show",_n));function Lt(a,R){return a[3]?On:typeof a[1]=="object"&&a[1].ok===!0?qn:jn}let ze=Lt(e),ee=ze(e);function gn(a){e[28](a)}let Nt={colour:"black",size:"1.5em"};e[7]!==void 0&&(Nt.show=e[7]),de=new fn({props:Nt}),en.push(()=>sn(de,"show",gn));let q=!!e[4]&&hn(e);function Mt(a,R){return a[7]===!1&&typeof a[1]=="object"&&a[1].done===!0?zn:Un}let We=Mt(e),te=We(e);return wt=wn(e[24][0]),{c(){n=r("meta"),o=y(),f=r("nav"),s=r("div"),p=r("a"),i=r("img"),h=y(),k=r("a"),A=N("Home"),c=y(),b=r("a"),L=N("GOAT online"),j=y(),D=r("a"),X=N("gene ID mapping"),U=y(),C=r("a"),I=N("Documentation"),G=y(),_=r("div"),_.innerHTML=V,we=y(),S=r("div"),ae=r("div"),ae.innerHTML=Me,He=y(),he=r("table"),me=r("tbody"),oe=r("tr"),Q=r("td"),$=r("input"),Be=y(),m=r("div"),E=r("p"),Y=r("i"),Y.textContent=re,Je=y(),Qe=r("br"),$e=y(),Le=r("i"),et=y(),an(ue.$$.fragment),nt=y(),Ie=r("td"),Ie.innerHTML=Rt,lt=y(),be=r("div"),ee.c(),Fe=y(),H=r("div"),ve=r("div"),ve.innerHTML=Gt,st=y(),_e=r("div"),_e.textContent=Dt,it=y(),ke=r("div"),Ae=r("label"),z=r("input"),at=N(`\r
\r
			try to map only the first gene symbol`),ot=y(),Te=r("div"),Ce=r("label"),W=r("input"),rt=N(`\r
\r
			use the first gene symbol that can be successfully mapped`),ut=y(),Ee=r("div"),Re=r("label"),P=r("input"),dt=N(`\r
\r
			analogous to above, but skip if there exist a non-ambiguous row that contains the first\r
			(successfully mapped) gene symbol`),ct=y(),Ge=r("div"),De=r("label"),K=r("input"),ft=N(`\r
\r
			skip rows with ambiguous symbols altogether`),pt=y(),ht=r("br"),mt=y(),ne=r("div"),le=r("button"),bt=N("START"),vt=y(),an(de.$$.fragment),gt=y(),q&&q.c(),qe=y(),se=r("div"),ge=r("div"),ge.innerHTML=xt,yt=y(),ye=r("div"),te.c(),Oe=y(),ie=r("div"),ie.innerHTML=St,Ue=y(),ce=r("div"),ce.innerHTML=Vt,this.h()},l(a){const R=In("svelte-1bjj788",Et.head);n=u(R,"META",{name:!0,content:!0}),R.forEach(t),o=w(a),f=u(a,"NAV",{});var Z=T(f);s=u(Z,"DIV",{style:!0});var Ne=T(s);p=u(Ne,"A",{href:!0});var Ft=T(p);i=u(Ft,"IMG",{src:!0,width:!0,height:!0,alt:!0}),Ft.forEach(t),Ne.forEach(t),h=w(Z),k=u(Z,"A",{href:!0,style:!0});var jt=T(k);A=M(jt,"Home"),jt.forEach(t),c=w(Z),b=u(Z,"A",{href:!0,style:!0});var qt=T(b);L=M(qt,"GOAT online"),qt.forEach(t),j=w(Z),D=u(Z,"A",{href:!0,style:!0,class:!0});var Ot=T(D);X=M(Ot,"gene ID mapping"),Ot.forEach(t),U=w(Z),C=u(Z,"A",{href:!0,style:!0});var Ut=T(C);I=M(Ut,"Documentation"),Ut.forEach(t),Z.forEach(t),G=w(a),_=u(a,"DIV",{class:!0,"data-svelte-h":!0}),F(_)!=="svelte-15c5tkv"&&(_.innerHTML=V),we=w(a),S=u(a,"DIV",{class:!0,style:!0,tabindex:!0,role:!0,"aria-pressed":!0});var Se=T(S);ae=u(Se,"DIV",{class:!0,"data-svelte-h":!0}),F(ae)!=="svelte-kki37h"&&(ae.innerHTML=Me),He=w(Se),he=u(Se,"TABLE",{});var zt=T(he);me=u(zt,"TBODY",{});var Wt=T(me);oe=u(Wt,"TR",{});var Pe=T(oe);Q=u(Pe,"TD",{style:!0});var Ke=T(Q);$=u(Ke,"INPUT",{id:!0,type:!0,accept:!0,style:!0}),Be=w(Ke),m=u(Ke,"DIV",{id:!0,tabindex:!0,role:!0,"aria-pressed":!0});var Pt=T(m);E=u(Pt,"P",{});var fe=T(E);Y=u(fe,"I",{"data-svelte-h":!0}),F(Y)!=="svelte-uobxa9"&&(Y.textContent=re),Je=w(fe),Qe=u(fe,"BR",{}),$e=w(fe),Le=u(fe,"I",{class:!0}),T(Le).forEach(t),et=w(fe),on(ue.$$.fragment,fe),fe.forEach(t),Pt.forEach(t),Ke.forEach(t),nt=w(Pe),Ie=u(Pe,"TD",{"data-svelte-h":!0}),F(Ie)!=="svelte-i76nm3"&&(Ie.innerHTML=Rt),Pe.forEach(t),Wt.forEach(t),zt.forEach(t),lt=w(Se),be=u(Se,"DIV",{style:!0});var Kt=T(be);ee.l(Kt),Kt.forEach(t),Se.forEach(t),Fe=w(a),H=u(a,"DIV",{class:!0,style:!0});var O=T(H);ve=u(O,"DIV",{class:!0,"data-svelte-h":!0}),F(ve)!=="svelte-1etyc0x"&&(ve.innerHTML=Gt),st=w(O),_e=u(O,"DIV",{style:!0,"data-svelte-h":!0}),F(_e)!=="svelte-atx6a9"&&(_e.textContent=Dt),it=w(O),ke=u(O,"DIV",{style:!0});var Yt=T(ke);Ae=u(Yt,"LABEL",{});var kt=T(Ae);z=u(kt,"INPUT",{type:!0,name:!0}),at=M(kt,`\r
\r
			try to map only the first gene symbol`),kt.forEach(t),Yt.forEach(t),ot=w(O),Te=u(O,"DIV",{style:!0});var Xt=T(Te);Ce=u(Xt,"LABEL",{});var At=T(Ce);W=u(At,"INPUT",{type:!0,name:!0}),rt=M(At,`\r
\r
			use the first gene symbol that can be successfully mapped`),At.forEach(t),Xt.forEach(t),ut=w(O),Ee=u(O,"DIV",{style:!0});var Zt=T(Ee);Re=u(Zt,"LABEL",{});var Tt=T(Re);P=u(Tt,"INPUT",{type:!0,name:!0}),dt=M(Tt,`\r
\r
			analogous to above, but skip if there exist a non-ambiguous row that contains the first\r
			(successfully mapped) gene symbol`),Tt.forEach(t),Zt.forEach(t),ct=w(O),Ge=u(O,"DIV",{style:!0});var Jt=T(Ge);De=u(Jt,"LABEL",{});var Ct=T(De);K=u(Ct,"INPUT",{type:!0,name:!0}),ft=M(Ct,`\r
\r
			skip rows with ambiguous symbols altogether`),Ct.forEach(t),Jt.forEach(t),pt=w(O),ht=u(O,"BR",{}),mt=w(O),ne=u(O,"DIV",{});var Ve=T(ne);le=u(Ve,"BUTTON",{class:!0,style:!0});var Qt=T(le);bt=M(Qt,"START"),Qt.forEach(t),vt=w(Ve),on(de.$$.fragment,Ve),gt=w(Ve),q&&q.l(Ve),Ve.forEach(t),O.forEach(t),qe=w(a),se=u(a,"DIV",{class:!0,style:!0});var Ye=T(se);ge=u(Ye,"DIV",{class:!0,"data-svelte-h":!0}),F(ge)!=="svelte-1lm4it4"&&(ge.innerHTML=xt),yt=w(Ye),ye=u(Ye,"DIV",{style:!0});var $t=T(ye);te.l($t),$t.forEach(t),Ye.forEach(t),Oe=w(a),ie=u(a,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),F(ie)!=="svelte-1ydgkiu"&&(ie.innerHTML=St),Ue=w(a),ce=u(a,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),F(ce)!=="svelte-1f7z8uw"&&(ce.innerHTML=Vt),this.h()},h(){Et.title="Map gene symbols to human gene identifiers",g(n,"name","description"),g(n,"content","Map gene symbols in your input table to human gene identifiers (NCBI Entrez and HGNC)"),kn(i.src,d=e[8]+"android-chrome-192x192.png")||g(i,"src",d),g(i,"width","40"),g(i,"height","40"),g(i,"alt","GOAT"),g(p,"href",e[8]),B(s,"padding","4px"),B(s,"margin-left","20px"),g(k,"href",e[8]),B(k,"margin-left","5px"),g(b,"href",e[8]+"goat"),B(b,"margin-left","40px"),g(D,"href",e[8]+"genemap"),B(D,"margin-left","40px"),g(D,"class","active"),g(C,"href",e[8]+"docs"),B(C,"margin-left","40px"),g(_,"class","divH1"),g(ae,"class","divH2"),g($,"id","genelistFileDialog"),g($,"type","file"),g($,"accept",".csv,.tsv,.xlsx"),$.multiple="false",B($,"display","none"),g(Le,"class","dropicon"),g(m,"id","genelist_dropzone"),g(m,"tabindex","0"),g(m,"role","button"),g(m,"aria-pressed","false"),tn(m,"is-dragover",e[0]===!0),B(Q,"vertical-align","top"),B(Q,"width","300px"),g(be,"style",""),g(S,"class","pnlResults"),B(S,"margin-bottom","50px"),g(S,"tabindex","-1"),g(S,"role","button"),g(S,"aria-pressed","false"),g(ve,"class","divH2"),B(_e,"margin","10px 0px 10px 0px"),g(z,"type","radio"),g(z,"name","inputSymbolRetain"),z.__value="retainFirst",Xe(z,z.__value),B(ke,"margin","5px"),g(W,"type","radio"),g(W,"name","inputSymbolRetain"),W.__value="retainFirstSucces",Xe(W,W.__value),B(Te,"margin","5px"),g(P,"type","radio"),g(P,"name","inputSymbolRetain"),P.__value="retainFirstSuccesNovel",Xe(P,P.__value),B(Ee,"margin","5px"),g(K,"type","radio"),g(K,"name","inputSymbolRetain"),K.__value="skipAmbiguous",Xe(K,K.__value),B(Ge,"margin","5px"),g(le,"class","btn btn-action"),B(le,"margin-right","5px"),le.disabled=je=e[7]===!0||e[6]===!0||!(typeof e[1]=="object"&&e[1].ok===!0),g(H,"class","pnlResults"),B(H,"margin-bottom","50px"),g(ge,"class","divH2"),B(ye,"margin","10px 0px 10px 0px"),g(se,"class","pnlResults"),B(se,"margin-bottom","100px"),g(ie,"class","pnlResults"),B(ie,"margin-bottom","100px"),B(ie,"padding-right","50px"),g(ce,"class","pnlResults"),B(ce,"margin-bottom","100px"),wt.p(z,W,P,K)},m(a,R){l(Et.head,n),v(a,o,R),v(a,f,R),l(f,s),l(s,p),l(p,i),l(f,h),l(f,k),l(k,A),l(f,c),l(f,b),l(b,L),l(f,j),l(f,D),l(D,X),l(f,U),l(f,C),l(C,I),v(a,G,R),v(a,_,R),v(a,we,R),v(a,S,R),l(S,ae),l(S,He),l(S,he),l(he,me),l(me,oe),l(oe,Q),l(Q,$),l(Q,Be),l(Q,m),l(m,E),l(E,Y),l(E,Je),l(E,Qe),l(E,$e),l(E,Le),l(E,et),rn(ue,E,null),l(oe,nt),l(oe,Ie),l(S,lt),l(S,be),ee.m(be,null),v(a,Fe,R),v(a,H,R),l(H,ve),l(H,st),l(H,_e),l(H,it),l(H,ke),l(ke,Ae),l(Ae,z),z.checked=z.__value===e[2],l(Ae,at),l(H,ot),l(H,Te),l(Te,Ce),l(Ce,W),W.checked=W.__value===e[2],l(Ce,rt),l(H,ut),l(H,Ee),l(Ee,Re),l(Re,P),P.checked=P.__value===e[2],l(Re,dt),l(H,ct),l(H,Ge),l(Ge,De),l(De,K),K.checked=K.__value===e[2],l(De,ft),l(H,pt),l(H,ht),l(H,mt),l(H,ne),l(ne,le),l(le,bt),l(ne,vt),rn(de,ne,null),l(ne,gt),q&&q.m(ne,null),v(a,qe,R),v(a,se,R),l(se,ge),l(se,yt),l(se,ye),te.m(ye,null),v(a,Oe,R),v(a,ie,R),v(a,Ue,R),v(a,ce,R),xe=!0,It||(Ht=[x($,"change",e[16]),x(m,"keydown",bn),x(m,"click",bn),x(m,"dragstart",J),x(m,"dragover",e[18]),x(m,"dragenter",e[19]),x(m,"dragleave",e[20]),x(m,"dragend",e[21]),x(m,"drop",e[22]),x(S,"keydown",void 0),x(S,"dragstart",J),x(S,"dragover",J),x(S,"dragenter",J),x(S,"dragleave",J),x(S,"dragend",J),x(S,"drop",J),x(z,"change",e[13]),x(z,"change",e[23]),x(W,"change",e[13]),x(W,"change",e[25]),x(P,"change",e[13]),x(P,"change",e[26]),x(K,"change",e[13]),x(K,"change",e[27]),x(le,"click",e[14])],It=!0)},p(a,[R]){const Z={};!tt&&R&64&&(tt=!0,Z.show=a[6],nn(()=>tt=!1)),ue.$set(Z),(!xe||R&1)&&tn(m,"is-dragover",a[0]===!0),ze===(ze=Lt(a))&&ee?ee.p(a,R):(ee.d(1),ee=ze(a),ee&&(ee.c(),ee.m(be,null))),R&4&&(z.checked=z.__value===a[2]),R&4&&(W.checked=W.__value===a[2]),R&4&&(P.checked=P.__value===a[2]),R&4&&(K.checked=K.__value===a[2]),(!xe||R&194&&je!==(je=a[7]===!0||a[6]===!0||!(typeof a[1]=="object"&&a[1].ok===!0)))&&(le.disabled=je);const Ne={};!_t&&R&128&&(_t=!0,Ne.show=a[7],nn(()=>_t=!1)),de.$set(Ne),a[4]?q?q.p(a,R):(q=hn(a),q.c(),q.m(ne,null)):q&&(q.d(1),q=null),We===(We=Mt(a))&&te?te.p(a,R):(te.d(1),te=We(a),te&&(te.c(),te.m(ye,null)))},i(a){xe||(un(ue.$$.fragment,a),un(de.$$.fragment,a),xe=!0)},o(a){dn(ue.$$.fragment,a),dn(de.$$.fragment,a),xe=!1},d(a){a&&(t(o),t(f),t(G),t(_),t(we),t(S),t(Fe),t(H),t(qe),t(se),t(Oe),t(ie),t(Ue),t(ce)),t(n),cn(ue),ee.d(),cn(de),q&&q.d(),te.d(),wt.r(),It=!1,An(Ht)}}}function J(e){e.preventDefault(),e.stopPropagation()}async function bn(e){document.getElementById("genelistFileDialog").click()}function Pn(e,n,o){let f,s,p,i;Ze(e,Hn,m=>o(29,f=m)),Ze(e,Bn,m=>o(30,s=m));const d=!!s&&s.url.hostname.endsWith("github.io")&&"/goat/"||"/",h=pn(!1);Ze(e,h,m=>o(6,p=m));const k=pn(!1);Ze(e,k,m=>o(7,i=m));let A=!1,c,b="retainFirstSucces",L,j,D;async function X(m){m.dataTransfer&&m.dataTransfer.files&&U(m.dataTransfer.files[0])}async function U(m){try{o(3,L=void 0),h.update(re=>!0);const E=await Mn(m),Y=Ln(E);o(1,c={genelist:E,symbols:Y,filename:m.name,ok:!0,result:[],countRows:E.length-1,countGenes:Y.filter(re=>re.length>1).length,countSuccess:0,done:!1,analytics:!1})}catch(E){console.error(E),o(3,L=E.message)}h.update(E=>!1)}function C(m){typeof c=="object"&&(o(1,c.result=[],c),o(1,c.countSuccess=0,c),o(1,c.done=!1,c))}async function I(m){if(c===void 0||typeof c!="object"||typeof c.done!="boolean"){o(4,j="nothing to do, genelist has not been loaded");return}try{o(4,j=void 0),k.update(E=>!0),o(1,c.done=!1,c),await Gn(),o(1,c.result=await Fn(c.genelist,c.symbols,f,b),c),o(1,c.countSuccess=c.result.reduce((E,Y)=>E+(Y[Y.length-1]===""?0:1),-1),c),o(1,c.done=!0,c),c.analytics!==!0&&(Dn("genemap"),o(1,c.analytics=!0,c))}catch(E){console.error(E),o(4,j=E.message)}k.update(E=>!1)}async function G(m){try{const E=xn(),Y=await Sn(c.result);let re=c.filename.replace(/\.[a-zA-Z]{3,4}$/,"")+"__GOAT-online_genemap_"+E+".xlsx";re.length>180&&(re="GOAT-online_genemap_"+E+".xlsx"),Vn.saveAs(Y,re)}catch(E){console.error(E),o(5,D=E.message)}}const _=[[]],V=m=>{m.target.files&&U(m.target.files[0])};function we(m){p=m,h.set(p)}const S=m=>{J(m),o(0,A=!0)},ae=m=>{J(m),o(0,A=!0)},Me=m=>{J(m),o(0,A=!1)},He=m=>{J(m),o(0,A=!1)},he=m=>{J(m),o(0,A=!1),X(m)};function me(){b=this.__value,o(2,b)}function oe(){b=this.__value,o(2,b)}function Q(){b=this.__value,o(2,b)}function $(){b=this.__value,o(2,b)}function Be(m){i=m,k.set(i)}return[A,c,b,L,j,D,p,i,d,h,k,X,U,C,I,G,V,we,S,ae,Me,He,he,me,_,oe,Q,$,Be]}class $n extends Tn{constructor(n){super(),Cn(this,n,Pn,Wn,yn,{})}}export{$n as component};
