import{_ as Vf}from"../chunks/preload-helper.a4192956.js";import{y as ut,I as Kt,J as Pf,K as xo,L as zf,M as Jl,s as en,l as X,m as W,i as A,n as Ve,d as p,e as He,z as Dt,f as b,g as w,B as fe,a as k,h as S,c as R,j as h,k as O,E as te,x as c,N as an,G as ie,O as ot,F as Bt,q as Bi,P as Ff,Q as es,R as Gf,S as Of,p as gt,T as qe,U as Ue,V as Qn,W as Wu,X as Hf,t as Lf,H as _t,Y as Ql,A as Nf,C as Bf,o as jf}from"../chunks/scheduler.cd38125d.js";import{S as Zt,i as tn,b as Je,d as xe,m as Qe,a as oe,t as ce,e as $e,g as Ot,c as Ht,f as mt}from"../chunks/index.a6a2bf8f.js";import{r as ts,b as ns,e as un,c as qf,h as me,n as ji,i as pi,j as Uf,t as xr,k as Ji,S as Jn,s as Tr,m as ls,o as Xf,q as Wf,u as is,v as zi,w as Yf,a as Kf,x as Zf,y as Jf,g as Qf,z as rs,A as $f,B as xf,C as ed,D as Vr,E as td,G as nd,H as ld,I as id,d as rd,J as od,F as sd,K as ad,L as ud,M as fd,N as dd}from"../chunks/stores.9a7d6992.js";/* empty css                    */import{p as cd}from"../chunks/stores.bd414364.js";import{r as os,w as gn,j as gd}from"../chunks/singletons.4af70003.js";const Yu=typeof window<"u";let ss=Yu?()=>window.performance.now():()=>Date.now(),Ku=Yu?e=>requestAnimationFrame(e):ut;const Zl=new Set;function Zu(e){Zl.forEach(t=>{t.c(e)||(Zl.delete(t),t.f())}),Zl.size!==0&&Ku(Zu)}function hd(e){let t;return Zl.size===0&&Ku(Zu),{promise:new Promise(n=>{Zl.add(t={c:e,f:n})}),abort(){Zl.delete(t)}}}const pd=/[&"]/g,_d=/[&<]/g;function md(e,t=!1){const n=String(e),l=t?pd:_d;l.lastIndex=0;let i="",r=0;for(;l.test(n);){const o=l.lastIndex-1,s=n[o];i+=n.substring(r,o)+(s==="&"?"&amp;":s==='"'?"&quot;":"&lt;"),r=o+1}return i+n.substring(r)}function vd(e,t){if(!e||!e.$$render)throw t==="svelte:component"&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${t}>.`);return e}let Pr;function Ju(e){function t(n,l,i,r,o){const s=zf,a={on_destroy:Pr,context:new Map(o||(s?s.$$.context:[])),on_mount:[],before_update:[],after_update:[],callbacks:Pf()};xo({$$:a});const u=e(n,l,i,r);return xo(s),u}return{render:(n={},{$$slots:l={},context:i=new Map}={})=>{Pr=[];const r={title:"",head:"",css:new Set},o=t(r,n,{},l,i);return Kt(Pr),{html:o,css:{code:Array.from(r.css).map(s=>s.code).join(`
`),map:null},head:r.title+r.head}},$$render:t}}function Li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $u(e){let t,n,l;e.length!==2?(t=Li,n=(s,a)=>Li(e(s),a),l=(s,a)=>e(s)-a):(t=e===Li||e===Qu?e:bd,n=e,l=e);function i(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const d=u+f>>>1;n(s[d],a)<0?u=d+1:f=d}while(u<f)}return u}function r(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const d=u+f>>>1;n(s[d],a)<=0?u=d+1:f=d}while(u<f)}return u}function o(s,a,u=0,f=s.length){const d=i(s,a,u,f-1);return d>u&&l(s[d-1],a)>-l(s[d],a)?d-1:d}return{left:i,center:o,right:r}}function bd(){return 0}function wd(e){return e===null?NaN:+e}const yd=$u(Li),Sd=yd.right;$u(wd).center;const Cd=Sd;class as extends Map{constructor(t,n=Ed){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[l,i]of t)this.set(l,i)}get(t){return super.get(us(this,t))}has(t){return super.has(us(this,t))}set(t,n){return super.set(kd(this,t),n)}delete(t){return super.delete(Rd(this,t))}}function us({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):n}function kd({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):(e.set(l,n),n)}function Rd({_intern:e,_key:t},n){const l=t(n);return e.has(l)&&(n=e.get(l),e.delete(l)),n}function Ed(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Ad=Math.sqrt(50),Id=Math.sqrt(10),Md=Math.sqrt(2);function qi(e,t,n){const l=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(l)),r=l/Math.pow(10,i),o=r>=Ad?10:r>=Id?5:r>=Md?2:1;let s,a,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),a=Math.round(t*u),s/u<e&&++s,a/u>t&&--a,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),a=Math.round(t/u),s*u<e&&++s,a*u>t&&--a),a<s&&.5<=n&&n<2?qi(e,t,n*2):[s,a,u]}function xu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const l=t<e,[i,r,o]=l?qi(t,e,n):qi(e,t,n);if(!(r>=i))return[];const s=r-i+1,a=new Array(s);if(l)if(o<0)for(let u=0;u<s;++u)a[u]=(r-u)/-o;else for(let u=0;u<s;++u)a[u]=(r-u)*o;else if(o<0)for(let u=0;u<s;++u)a[u]=(i+u)/-o;else for(let u=0;u<s;++u)a[u]=(i+u)*o;return a}function qr(e,t,n){return t=+t,e=+e,n=+n,qi(e,t,n)[2]}function Dd(e,t,n){t=+t,e=+e,n=+n;const l=t<e,i=l?qr(t,e,n):qr(e,t,n);return(l?-1:1)*(i<0?1/-i:i)}function Td(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var l=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(i);++l<i;)r[l]=e+l*n;return r}const eo=e=>()=>e;function Vd(e,t){return function(n){return e+n*t}}function Pd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(l){return Math.pow(e+l*t,n)}}function zd(e){return(e=+e)==1?ef:function(t,n){return n-t?Pd(t,n,e):eo(isNaN(t)?n:t)}}function ef(e,t){var n=t-e;return n?Vd(e,n):eo(isNaN(e)?t:e)}const fs=function e(t){var n=zd(t);function l(i,r){var o=n((i=ts(i)).r,(r=ts(r)).r),s=n(i.g,r.g),a=n(i.b,r.b),u=ef(i.opacity,r.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=a(f),i.opacity=u(f),i+""}}return l.gamma=e,l}(1);function Fd(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,l=t.slice(),i;return function(r){for(i=0;i<n;++i)l[i]=e[i]*(1-r)+t[i]*r;return l}}function Gd(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Od(e,t){var n=t?t.length:0,l=e?Math.min(n,e.length):0,i=new Array(l),r=new Array(n),o;for(o=0;o<l;++o)i[o]=to(e[o],t[o]);for(;o<n;++o)r[o]=t[o];return function(s){for(o=0;o<l;++o)r[o]=i[o](s);return r}}function Hd(e,t){var n=new Date;return e=+e,t=+t,function(l){return n.setTime(e*(1-l)+t*l),n}}function Ui(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ld(e,t){var n={},l={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=to(e[i],t[i]):l[i]=t[i];return function(r){for(i in n)l[i]=n[i](r);return l}}var Ur=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zr=new RegExp(Ur.source,"g");function Nd(e){return function(){return e}}function Bd(e){return function(t){return e(t)+""}}function jd(e,t){var n=Ur.lastIndex=zr.lastIndex=0,l,i,r,o=-1,s=[],a=[];for(e=e+"",t=t+"";(l=Ur.exec(e))&&(i=zr.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),s[o]?s[o]+=r:s[++o]=r),(l=l[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,a.push({i:o,x:Ui(l,i)})),n=zr.lastIndex;return n<t.length&&(r=t.slice(n),s[o]?s[o]+=r:s[++o]=r),s.length<2?a[0]?Bd(a[0].x):Nd(t):(t=a.length,function(u){for(var f=0,d;f<t;++f)s[(d=a[f]).i]=d.x(u);return s.join("")})}function to(e,t){var n=typeof t,l;return t==null||n==="boolean"?eo(t):(n==="number"?Ui:n==="string"?(l=ns(t))?(t=l,fs):jd:t instanceof ns?fs:t instanceof Date?Hd:Gd(t)?Fd:Array.isArray(t)?Od:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ld:Ui)(e,t)}function qd(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ud(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,l=e.slice(0,n);return[l.length>1?l[0]+l.slice(2):l,+e.slice(n+1)]}function $l(e){return e=Xi(Math.abs(e)),e?e[1]:NaN}function Xd(e,t){return function(n,l){for(var i=n.length,r=[],o=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>l&&(s=Math.max(1,l-a)),r.push(n.substring(i-=s,i+s)),!((a+=s+1)>l));)s=e[o=(o+1)%e.length];return r.reverse().join(t)}}function Wd(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Yd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wi(e){if(!(t=Yd.exec(e)))throw new Error("invalid format: "+e);var t;return new no({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wi.prototype=no.prototype;function no(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}no.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kd(e){e:for(var t=e.length,n=1,l=-1,i;n<t;++n)switch(e[n]){case".":l=i=n;break;case"0":l===0&&(l=n),i=n;break;default:if(!+e[n])break e;l>0&&(l=0);break}return l>0?e.slice(0,l)+e.slice(i+1):e}var tf;function Zd(e,t){var n=Xi(e,t);if(!n)return e+"";var l=n[0],i=n[1],r=i-(tf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=l.length;return r===o?l:r>o?l+new Array(r-o+1).join("0"):r>0?l.slice(0,r)+"."+l.slice(r):"0."+new Array(1-r).join("0")+Xi(e,Math.max(0,t+r-1))[0]}function ds(e,t){var n=Xi(e,t);if(!n)return e+"";var l=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+l:l.length>i+1?l.slice(0,i+1)+"."+l.slice(i+1):l+new Array(i-l.length+2).join("0")}const cs={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ud,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ds(e*100,t),r:ds,s:Zd,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gs(e){return e}var hs=Array.prototype.map,ps=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jd(e){var t=e.grouping===void 0||e.thousands===void 0?gs:Xd(hs.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",l=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?gs:Wd(hs.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Wi(d);var g=d.fill,m=d.align,_=d.sign,v=d.symbol,y=d.zero,C=d.width,E=d.comma,P=d.precision,D=d.trim,T=d.type;T==="n"?(E=!0,T="g"):cs[T]||(P===void 0&&(P=12),D=!0,T="g"),(y||g==="0"&&m==="=")&&(y=!0,g="0",m="=");var M=v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",q=v==="$"?l:/[%p]/.test(T)?o:"",V=cs[T],N=/[defgprs%]/.test(T);P=P===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function z(H){var G=M,B=q,Y,le,Ce;if(T==="c")B=V(H)+B,H="";else{H=+H;var ve=H<0||1/H<0;if(H=isNaN(H)?a:V(Math.abs(H),P),D&&(H=Kd(H)),ve&&+H==0&&_!=="+"&&(ve=!1),G=(ve?_==="("?_:s:_==="-"||_==="("?"":_)+G,B=(T==="s"?ps[8+tf/3]:"")+B+(ve&&_==="("?")":""),N){for(Y=-1,le=H.length;++Y<le;)if(Ce=H.charCodeAt(Y),48>Ce||Ce>57){B=(Ce===46?i+H.slice(Y+1):H.slice(Y))+B,H=H.slice(0,Y);break}}}E&&!y&&(H=t(H,1/0));var j=G.length+H.length+B.length,pe=j<C?new Array(C-j+1).join(g):"";switch(E&&y&&(H=t(pe+H,pe.length?C-B.length:1/0),pe=""),m){case"<":H=G+H+B+pe;break;case"=":H=G+pe+H+B;break;case"^":H=pe.slice(0,j=pe.length>>1)+G+H+B+pe.slice(j);break;default:H=pe+G+H+B;break}return r(H)}return z.toString=function(){return d+""},z}function f(d,g){var m=u((d=Wi(d),d.type="f",d)),_=Math.max(-8,Math.min(8,Math.floor($l(g)/3)))*3,v=Math.pow(10,-_),y=ps[8+_/3];return function(C){return m(v*C)+y}}return{format:u,formatPrefix:f}}var Fi,nf,lf;Qd({thousands:",",grouping:[3],currency:["$",""]});function Qd(e){return Fi=Jd(e),nf=Fi.format,lf=Fi.formatPrefix,Fi}function $d(e){return Math.max(0,-$l(Math.abs(e)))}function xd(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($l(t)/3)))*3-$l(Math.abs(e)))}function ec(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$l(t)-$l(e))+1}function tc(e){var t=0,n=e.children,l=n&&n.length;if(!l)t=1;else for(;--l>=0;)t+=n[l].value;e.value=t}function nc(){return this.eachAfter(tc)}function lc(e,t){let n=-1;for(const l of this)e.call(t,l,++n,this);return this}function ic(e,t){for(var n=this,l=[n],i,r,o=-1;n=l.pop();)if(e.call(t,n,++o,this),i=n.children)for(r=i.length-1;r>=0;--r)l.push(i[r]);return this}function rc(e,t){for(var n=this,l=[n],i=[],r,o,s,a=-1;n=l.pop();)if(i.push(n),r=n.children)for(o=0,s=r.length;o<s;++o)l.push(r[o]);for(;n=i.pop();)e.call(t,n,++a,this);return this}function oc(e,t){let n=-1;for(const l of this)if(e.call(t,l,++n,this))return l}function sc(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,l=t.children,i=l&&l.length;--i>=0;)n+=l[i].value;t.value=n})}function ac(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function uc(e){for(var t=this,n=fc(t,e),l=[t];t!==n;)t=t.parent,l.push(t);for(var i=l.length;e!==n;)l.splice(i,0,e),e=e.parent;return l}function fc(e,t){if(e===t)return e;var n=e.ancestors(),l=t.ancestors(),i=null;for(e=n.pop(),t=l.pop();e===t;)i=e,e=n.pop(),t=l.pop();return i}function dc(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function cc(){return Array.from(this)}function gc(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function hc(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*pc(){var e=this,t,n=[e],l,i,r;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,l=e.children)for(i=0,r=l.length;i<r;++i)n.push(l[i]);while(n.length)}function lo(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=vc)):t===void 0&&(t=mc);for(var n=new Yi(e),l,i=[n],r,o,s,a;l=i.pop();)if((o=t(l.data))&&(a=(o=Array.from(o)).length))for(l.children=o,s=a-1;s>=0;--s)i.push(r=o[s]=new Yi(o[s])),r.parent=l,r.depth=l.depth+1;return n.eachBefore(wc)}function _c(){return lo(this).eachBefore(bc)}function mc(e){return e.children}function vc(e){return Array.isArray(e)?e[1]:null}function bc(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function wc(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Yi(e){this.data=e,this.depth=this.height=0,this.parent=null}Yi.prototype=lo.prototype={constructor:Yi,count:nc,each:lc,eachAfter:rc,eachBefore:ic,find:oc,sum:sc,sort:ac,path:uc,ancestors:dc,descendants:cc,leaves:gc,links:hc,copy:_c,[Symbol.iterator]:pc};function yc(e){if(typeof e!="function")throw new Error;return e}function ci(){return 0}function gi(e){return function(){return e}}function Sc(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Cc(e,t,n,l,i){for(var r=e.children,o,s=-1,a=r.length,u=e.value&&(l-t)/e.value;++s<a;)o=r[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function kc(e,t,n,l,i){for(var r=e.children,o,s=-1,a=r.length,u=e.value&&(i-n)/e.value;++s<a;)o=r[s],o.x0=t,o.x1=l,o.y0=n,o.y1=n+=o.value*u}var Rc=(1+Math.sqrt(5))/2;function Ec(e,t,n,l,i,r){for(var o=[],s=t.children,a,u,f=0,d=0,g=s.length,m,_,v=t.value,y,C,E,P,D,T,M;f<g;){m=i-n,_=r-l;do y=s[d++].value;while(!y&&d<g);for(C=E=y,T=Math.max(_/m,m/_)/(v*e),M=y*y*T,D=Math.max(E/M,M/C);d<g;++d){if(y+=u=s[d].value,u<C&&(C=u),u>E&&(E=u),M=y*y*T,P=Math.max(E/M,M/C),P>D){y-=u;break}D=P}o.push(a={value:y,dice:m<_,children:s.slice(f,d)}),a.dice?Cc(a,n,l,i,v?l+=_*y/v:r):kc(a,n,l,v?n+=m*y/v:i,r),v-=y,f=d}return o}const rf=function e(t){function n(l,i,r,o,s){Ec(t,l,i,r,o,s)}return n.ratio=function(l){return e((l=+l)>1?l:1)},n}(Rc);function Ac(){var e=rf,t=!1,n=1,l=1,i=[0],r=ci,o=ci,s=ci,a=ci,u=ci;function f(g){return g.x0=g.y0=0,g.x1=n,g.y1=l,g.eachBefore(d),i=[0],t&&g.eachBefore(Sc),g}function d(g){var m=i[g.depth],_=g.x0+m,v=g.y0+m,y=g.x1-m,C=g.y1-m;y<_&&(_=y=(_+y)/2),C<v&&(v=C=(v+C)/2),g.x0=_,g.y0=v,g.x1=y,g.y1=C,g.children&&(m=i[g.depth+1]=r(g)/2,_+=u(g)-m,v+=o(g)-m,y-=s(g)-m,C-=a(g)-m,y<_&&(_=y=(_+y)/2),C<v&&(v=C=(v+C)/2),e(g,_,v,y,C))}return f.round=function(g){return arguments.length?(t=!!g,f):t},f.size=function(g){return arguments.length?(n=+g[0],l=+g[1],f):[n,l]},f.tile=function(g){return arguments.length?(e=yc(g),f):e},f.padding=function(g){return arguments.length?f.paddingInner(g).paddingOuter(g):f.paddingInner()},f.paddingInner=function(g){return arguments.length?(r=typeof g=="function"?g:gi(+g),f):r},f.paddingOuter=function(g){return arguments.length?f.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):f.paddingTop()},f.paddingTop=function(g){return arguments.length?(o=typeof g=="function"?g:gi(+g),f):o},f.paddingRight=function(g){return arguments.length?(s=typeof g=="function"?g:gi(+g),f):s},f.paddingBottom=function(g){return arguments.length?(a=typeof g=="function"?g:gi(+g),f):a},f.paddingLeft=function(g){return arguments.length?(u=typeof g=="function"?g:gi(+g),f):u},f}function io(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const _s=Symbol("implicit");function of(){var e=new as,t=[],n=[],l=_s;function i(r){let o=e.get(r);if(o===void 0){if(l!==_s)return l;e.set(r,o=t.push(r)-1)}return n[o%n.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new as;for(const o of r)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(r){return arguments.length?(n=Array.from(r),i):n.slice()},i.unknown=function(r){return arguments.length?(l=r,i):l},i.copy=function(){return of(t,n).unknown(l)},io.apply(i,arguments),i}function sf(){var e=of().unknown(void 0),t=e.domain,n=e.range,l=0,i=1,r,o,s=!1,a=0,u=0,f=.5;delete e.unknown;function d(){var g=t().length,m=i<l,_=m?i:l,v=m?l:i;r=(v-_)/Math.max(1,g-a+u*2),s&&(r=Math.floor(r)),_+=(v-_-r*(g-a))*f,o=r*(1-a),s&&(_=Math.round(_),o=Math.round(o));var y=Td(g).map(function(C){return _+r*C});return n(m?y.reverse():y)}return e.domain=function(g){return arguments.length?(t(g),d()):t()},e.range=function(g){return arguments.length?([l,i]=g,l=+l,i=+i,d()):[l,i]},e.rangeRound=function(g){return[l,i]=g,l=+l,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return r},e.round=function(g){return arguments.length?(s=!!g,d()):s},e.padding=function(g){return arguments.length?(a=Math.min(1,u=+g),d()):a},e.paddingInner=function(g){return arguments.length?(a=Math.min(1,g),d()):a},e.paddingOuter=function(g){return arguments.length?(u=+g,d()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),d()):f},e.copy=function(){return sf(t(),[l,i]).round(s).paddingInner(a).paddingOuter(u).align(f)},io.apply(d(),arguments)}function Ic(e){return function(){return e}}function Mc(e){return+e}var ms=[0,1];function Kl(e){return e}function Xr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ic(isNaN(t)?NaN:.5)}function Dc(e,t){var n;return e>t&&(n=e,e=t,t=n),function(l){return Math.max(e,Math.min(t,l))}}function Tc(e,t,n){var l=e[0],i=e[1],r=t[0],o=t[1];return i<l?(l=Xr(i,l),r=n(o,r)):(l=Xr(l,i),r=n(r,o)),function(s){return r(l(s))}}function Vc(e,t,n){var l=Math.min(e.length,t.length)-1,i=new Array(l),r=new Array(l),o=-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<l;)i[o]=Xr(e[o],e[o+1]),r[o]=n(t[o],t[o+1]);return function(s){var a=Cd(e,s,1,l)-1;return r[a](i[a](s))}}function Pc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zc(){var e=ms,t=ms,n=to,l,i,r,o=Kl,s,a,u;function f(){var g=Math.min(e.length,t.length);return o!==Kl&&(o=Dc(e[0],e[g-1])),s=g>2?Vc:Tc,a=u=null,d}function d(g){return g==null||isNaN(g=+g)?r:(a||(a=s(e.map(l),t,n)))(l(o(g)))}return d.invert=function(g){return o(i((u||(u=s(t,e.map(l),Ui)))(g)))},d.domain=function(g){return arguments.length?(e=Array.from(g,Mc),f()):e.slice()},d.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},d.rangeRound=function(g){return t=Array.from(g),n=qd,f()},d.clamp=function(g){return arguments.length?(o=g?!0:Kl,f()):o!==Kl},d.interpolate=function(g){return arguments.length?(n=g,f()):n},d.unknown=function(g){return arguments.length?(r=g,d):r},function(g,m){return l=g,i=m,f()}}function Fc(){return zc()(Kl,Kl)}function Gc(e,t,n,l){var i=Dd(e,t,n),r;switch(l=Wi(l??",f"),l.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return l.precision==null&&!isNaN(r=xd(i,o))&&(l.precision=r),lf(l,o)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(r=ec(i,Math.max(Math.abs(e),Math.abs(t))))&&(l.precision=r-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(r=$d(i))&&(l.precision=r-(l.type==="%")*2);break}}return nf(l)}function Oc(e){var t=e.domain;return e.ticks=function(n){var l=t();return xu(l[0],l[l.length-1],n??10)},e.tickFormat=function(n,l){var i=t();return Gc(i[0],i[i.length-1],n??10,l)},e.nice=function(n){n==null&&(n=10);var l=t(),i=0,r=l.length-1,o=l[i],s=l[r],a,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=r,r=u);f-- >0;){if(u=qr(o,s,n),u===a)return l[i]=o,l[r]=s,t(l);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;a=u}return e},e}function af(){var e=Fc();return e.copy=function(){return Pc(e,af())},io.apply(e,arguments),Oc(e)}function Hc(e){const t=e&&e.replace(/(\n+$)|(^\n$)|'|"|\r/g,"").split(`
`)||[],n=t.length,l=[],r=2+1,o=new RegExp("^[0-9]+$"),s=new RegExp("^(http://|https://|www.)","i"),a=[];let u=0,f=[],d;for(let g=0;g<n;g++)if(f=t[g].split("	"),u=f.length,u>=r){d===void 0&&(d=s.test(f[1])===!0);const m={id:f[0],name:d||f[1]===""?f[0]:f[1],genes:[]};if(m.id==="")throw new Error("line "+(g+1)+" is invalid, each row should start with a geneset identifier (but found empty string)");if(a.indexOf(m.id)!==-1)throw new Error("line "+(g+1)+" is invalid, duplicated geneset identifier that was already seen before; "+m.id);a.push(m.id);for(let _=2;_<u;_++){if(o.test(f[_])!==!0)throw new Error("line "+(g+1)+" is invalid, the genes should be integer numbers but instead we found value; "+f[_]);m.genes.push(+f[_])}l.push(m)}return l}async function Lc(){const e=["source","id","name","ngenes_input","ngenes","ngenes_signif","genes","genes_signif","zscore","pvalue","pvalue_adjust","signif","score_type"],t=Jl(un);if(Array.isArray(t.genesets)){const n=t.genelist.map(o=>({gene:o.gene,symbol:o.symbol,maxscore:o.sort_score}));n.sort((o,s)=>s.maxscore-o.maxscore);let l=[],i=[];return t.genesets.forEach(o=>{const s=o.genesets.map(f=>{const d=new Set(f.genes),g=new Set(f.genes_signif);return[o.source,f.id,f.name,f.ngenes_input,f.ngenes,f.ngenes_signif,n.filter(m=>d.has(m.gene)).slice(0,250).map(m=>m.symbol).join(","),n.filter(m=>g.has(m.gene)).slice(0,250).map(m=>m.symbol).join(","),f.zscore,f.pvalue,f.pvalue_adjust,f.signif,f.score_type]}),a=l.length,u=o.genesets.map((f,d)=>({i:a+d,pvalue:f.pvalue}));l=l.concat(s),i=i.concat(u)}),i.sort((o,s)=>o.pvalue-s.pvalue),l=i.map(o=>l[o.i]),l.unshift(e),await qf(l)}else return new Blob(["no results available"])}function Nc(e,t,n,l){const i=t.genesets.map(o=>o.source);let r=`Gene set analyses
GOAT online [PMID:38898151] (version `+n+", http://ftwkoopmans.github.io/goat ) was used to perform gene set enrichment analyses";return t.type==="go"?r+=" using gene sets from the Gene Ontology database [PMID:10802651] (version "+t.genesets[0].source_version+"). ":t.type==="syngo"?r+=" using gene sets from the SynGO knowledgebase [PMID:31171447] (version "+t.genesets[0].source_version+"). ":r+=' using "'+t.genesets[0].source_version+'" gene sets imported into GOAT online in GMT format. ',r+="The input gene list contained "+e.genelist.length+" genes and its "+t.settings.scoreType+"-derived gene scores were used to test for enriched gene sets that contained at least "+t.settings.minSize+" and at most "+t.settings.maxSize+" genes (or 50% of the gene list, whichever was smaller) that overlapped with the input gene list. Multiple testing correction was ",i.length>1?r+='independently applied per gene set "source" (i.e. '+i.join(", ")+")":r+="applied",t.settings.pvalueAdjustment=="bonferroni"?r+=" using Bonferroni adjustment":r+=" using the Benjamini-Hochberg procedure (FDR)",i.length>1?r+=" and subsequently, all p-values were adjusted (again) using Bonferroni adjustment to account for "+i.length+' separate tests across "sources". ':r+=". ",r+="The significance threshold for adjusted p-values was set to "+t.settings.pvalueThreshold+`.

`,"GOAT online, version: "+n+`
date: `+l.replace("_"," ").replace(/-([0-9]+)$/,":$1")+`

input gene list:
filename: `+e.filename+`
gene count:`+e.genelist.length+`

input gene sets:
`+t.genesets.reduce((o,s)=>o+s.source+" (version: "+s.source_version+`)
`,"")+`
GOAT settings:
score type: `+t.settings.scoreType+`
min gene set size: `+t.settings.minSize+`
max gene set size: `+t.settings.maxSize+`
adjusted p-value, method: `+t.settings.pvalueAdjustment+`
adjusted p-value, significance threshold: `+t.settings.pvalueThreshold+`

GOAT results:
`+t.genesets.reduce((o,s)=>o+s.source+": "+s.genesets.filter(a=>a.signif===!0).length+" / "+s.genesets.length+` evaluated gene sets are significant
`,"")+`

Materials & Methods:

`+r}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(e,t){return typeof e=="function"?e(t):e}function hn(e,t){return n=>{t.setState(l=>({...l,[e]:ll(n,l[e])}))}}function Ki(e){return e instanceof Function}function Bc(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function jc(e,t){const n=[],l=i=>{i.forEach(r=>{n.push(r);const o=t(r);o!=null&&o.length&&l(o)})};return l(e),n}function Ze(e,t,n){let l=[],i;return()=>{let r;n.key&&n.debug&&(r=Date.now());const o=e();if(!(o.length!==l.length||o.some((u,f)=>l[f]!==u)))return i;l=o;let a;if(n.key&&n.debug&&(a=Date.now()),i=t(...o),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-r)*100)/100,f=Math.round((Date.now()-a)*100)/100,d=f/16,g=(m,_)=>{for(m=String(m);m.length<_;)m=" "+m;return m};console.info(`%c⏱ ${g(f,5)} /${g(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function qc(e,t,n,l){var i,r;const s={...e._getDefaultColumnDef(),...t},a=s.accessorKey;let u=(i=(r=s.id)!=null?r:a?a.replace(".","_"):void 0)!=null?i:typeof s.header=="string"?s.header:void 0,f;if(s.accessorFn?f=s.accessorFn:a&&(a.includes(".")?f=g=>{let m=g;for(const v of a.split(".")){var _;m=(_=m)==null?void 0:_[v]}return m}:f=g=>g[s.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:f,parent:l,depth:n,columnDef:s,columns:[],getFlatColumns:Ze(()=>[!0],()=>{var g;return[d,...(g=d.columns)==null?void 0:g.flatMap(m=>m.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}}),getLeafColumns:Ze(()=>[e._getOrderColumnsFn()],g=>{var m;if((m=d.columns)!=null&&m.length){let _=d.columns.flatMap(v=>v.getLeafColumns());return g(_)}return[d]},{key:"column.getLeafColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}})};for(const g of e._features)g.createColumn==null||g.createColumn(d,e);return d}function vs(e,t,n){var l;let r={id:(l=n.id)!=null?l:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],s=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(s),o.push(a)};return s(r),o},getContext:()=>({table:e,header:r,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(r,e)}),r}const Uc={createTable:e=>{e.getHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,i)=>{var r,o;const s=(r=l==null?void 0:l.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?r:[],a=(o=i==null?void 0:i.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(l!=null&&l.includes(d.id))&&!(i!=null&&i.includes(d.id)));return Gi(t,[...s,...u,...a],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,i)=>(n=n.filter(r=>!(l!=null&&l.includes(r.id))&&!(i!=null&&i.includes(r.id))),Gi(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,l)=>{var i;const r=(i=l==null?void 0:l.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return Gi(t,r,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightHeaderGroups=Ze(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,l)=>{var i;const r=(i=l==null?void 0:l.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return Gi(t,r,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFooterGroups=Ze(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFooterGroups=Ze(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFooterGroups=Ze(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFooterGroups=Ze(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFlatHeaders=Ze(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFlatHeaders=Ze(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFlatHeaders=Ze(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFlatHeaders=Ze(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterLeafHeaders=Ze(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftLeafHeaders=Ze(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightLeafHeaders=Ze(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeafHeaders=Ze(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,l)=>{var i,r,o,s,a,u;return[...(i=(r=t[0])==null?void 0:r.headers)!=null?i:[],...(o=(s=n[0])==null?void 0:s.headers)!=null?o:[],...(a=(u=l[0])==null?void 0:u.headers)!=null?a:[]].map(f=>f.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})}};function Gi(e,t,n,l){var i,r;let o=0;const s=function(g,m){m===void 0&&(m=1),o=Math.max(o,m),g.filter(_=>_.getIsVisible()).forEach(_=>{var v;(v=_.columns)!=null&&v.length&&s(_.columns,m+1)},0)};s(e);let a=[];const u=(g,m)=>{const _={depth:m,id:[l,`${m}`].filter(Boolean).join("_"),headers:[]},v=[];g.forEach(y=>{const C=[...v].reverse()[0],E=y.column.depth===_.depth;let P,D=!1;if(E&&y.column.parent?P=y.column.parent:(P=y.column,D=!0),C&&(C==null?void 0:C.column)===P)C.subHeaders.push(y);else{const T=vs(n,P,{id:[l,m,P.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${v.filter(M=>M.column===P).length}`:void 0,depth:m,index:v.length});T.subHeaders.push(y),v.push(T)}_.headers.push(y),y.headerGroup=_}),a.push(_),m>0&&u(v,m-1)},f=t.map((g,m)=>vs(n,g,{depth:o,index:m}));u(f,o-1),a.reverse();const d=g=>g.filter(_=>_.column.getIsVisible()).map(_=>{let v=0,y=0,C=[0];_.subHeaders&&_.subHeaders.length?(C=[],d(_.subHeaders).forEach(P=>{let{colSpan:D,rowSpan:T}=P;v+=D,C.push(T)})):v=1;const E=Math.min(...C);return y=y+E,_.colSpan=v,_.rowSpan=y,{colSpan:v,rowSpan:y}});return d((i=(r=a[0])==null?void 0:r.headers)!=null?i:[]),a}const Oi={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Fr=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Xc={getDefaultColumnDef:()=>Oi,getInitialState:e=>({columnSizing:{},columnSizingInfo:Fr(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:hn("columnSizing",e),onColumnSizingInfoChange:hn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,l,i;const r=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Oi.minSize,(l=r??e.columnDef.size)!=null?l:Oi.size),(i=e.columnDef.maxSize)!=null?i:Oi.maxSize)},e.getStart=n=>{const l=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),i=l.findIndex(r=>r.id===e.id);if(i>0){const r=l[i-1];return r.getStart(n)+r.getSize()}return 0},e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:l,...i}=n;return i})},e.getCanResize=()=>{var n,l;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((l=t.options.enableColumnResizing)!=null?l:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const l=i=>{if(i.subHeaders.length)i.subHeaders.forEach(l);else{var r;n+=(r=i.column.getSize())!=null?r:0}};return l(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=()=>{const n=t.getColumn(e.column.id),l=n==null?void 0:n.getCanResize();return i=>{if(!n||!l||(i.persist==null||i.persist(),Gr(i)&&i.touches&&i.touches.length>1))return;const r=e.getSize(),o=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[n.id,n.getSize()]],s=Gr(i)?Math.round(i.touches[0].clientX):i.clientX,a={},u=(v,y)=>{typeof y=="number"&&(t.setColumnSizingInfo(C=>{var E,P;const D=y-((E=C==null?void 0:C.startOffset)!=null?E:0),T=Math.max(D/((P=C==null?void 0:C.startSize)!=null?P:0),-.999999);return C.columnSizingStart.forEach(M=>{let[q,V]=M;a[q]=Math.round(Math.max(V+V*T,0)*100)/100}),{...C,deltaOffset:D,deltaPercentage:T}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(C=>({...C,...a})))},f=v=>u("move",v),d=v=>{u("end",v),t.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g={moveHandler:v=>f(v.clientX),upHandler:v=>{document.removeEventListener("mousemove",g.moveHandler),document.removeEventListener("mouseup",g.upHandler),d(v.clientX)}},m={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(v.touches[0].clientX),!1),upHandler:v=>{var y;document.removeEventListener("touchmove",m.moveHandler),document.removeEventListener("touchend",m.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),d((y=v.touches[0])==null?void 0:y.clientX)}},_=Wc()?{passive:!1}:!1;Gr(i)?(document.addEventListener("touchmove",m.moveHandler,_),document.addEventListener("touchend",m.upHandler,_)):(document.addEventListener("mousemove",g.moveHandler,_),document.addEventListener("mouseup",g.upHandler,_)),t.setColumnSizingInfo(v=>({...v,startOffset:s,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Fr():(n=e.initialState.columnSizingInfo)!=null?n:Fr())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0}}};let Hi=null;function Wc(){if(typeof Hi=="boolean")return Hi;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Hi=e,Hi}function Gr(e){return e.type==="touchstart"}const Yc={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:hn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var l,i;if(!t){e._queue(()=>{t=!0});return}if((l=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?l:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=l=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(l),e.toggleAllRowsExpanded=l=>{l??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=l=>{var i,r;e.setExpanded(l?{}:(i=(r=e.initialState)==null?void 0:r.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(l=>l.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>l=>{l.persist==null||l.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const l=e.getState().expanded;return l===!0||Object.values(l).some(Boolean)},e.getIsAllRowsExpanded=()=>{const l=e.getState().expanded;return typeof l=="boolean"?l===!0:!(!Object.keys(l).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let l=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(r=>{const o=r.split(".");l=Math.max(l,o.length)}),l},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(l=>{var i;const r=l===!0?!0:!!(l!=null&&l[e.id]);let o={};if(l===!0?Object.keys(t.getRowModel().rowsById).forEach(s=>{o[s]=!0}):o=l,n=(i=n)!=null?i:!r,!r&&n)return{...o,[e.id]:!0};if(r&&!n){const{[e.id]:s,...a}=o;return a}return l})},e.getIsExpanded=()=>{var n;const l=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:l===!0||l!=null&&l[e.id])},e.getCanExpand=()=>{var n,l,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((l=t.options.enableExpanding)!=null?l:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,l=e;for(;n&&l.parentId;)l=t.getRow(l.parentId,!0),n=l.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},uf=(e,t,n)=>{var l;const i=n.toLowerCase();return!!(!((l=e.getValue(t))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(i))};uf.autoRemove=e=>Pn(e);const ff=(e,t,n)=>{var l;return!!(!((l=e.getValue(t))==null||(l=l.toString())==null)&&l.includes(n))};ff.autoRemove=e=>Pn(e);const df=(e,t,n)=>{var l;return((l=e.getValue(t))==null||(l=l.toString())==null?void 0:l.toLowerCase())===(n==null?void 0:n.toLowerCase())};df.autoRemove=e=>Pn(e);const cf=(e,t,n)=>{var l;return(l=e.getValue(t))==null?void 0:l.includes(n)};cf.autoRemove=e=>Pn(e)||!(e!=null&&e.length);const gf=(e,t,n)=>!n.some(l=>{var i;return!((i=e.getValue(t))!=null&&i.includes(l))});gf.autoRemove=e=>Pn(e)||!(e!=null&&e.length);const hf=(e,t,n)=>n.some(l=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(l)});hf.autoRemove=e=>Pn(e)||!(e!=null&&e.length);const pf=(e,t,n)=>e.getValue(t)===n;pf.autoRemove=e=>Pn(e);const _f=(e,t,n)=>e.getValue(t)==n;_f.autoRemove=e=>Pn(e);const ro=(e,t,n)=>{let[l,i]=n;const r=e.getValue(t);return r>=l&&r<=i};ro.resolveFilterValue=e=>{let[t,n]=e,l=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,r=t===null||Number.isNaN(l)?-1/0:l,o=n===null||Number.isNaN(i)?1/0:i;if(r>o){const s=r;r=o,o=s}return[r,o]};ro.autoRemove=e=>Pn(e)||Pn(e[0])&&Pn(e[1]);const Zn={includesString:uf,includesStringSensitive:ff,equalsString:df,arrIncludes:cf,arrIncludesAll:gf,arrIncludesSome:hf,equals:pf,weakEquals:_f,inNumberRange:ro};function Pn(e){return e==null||e===""}const Kc={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:hn("columnFilters",e),onGlobalFilterChange:hn("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const l=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof l=="string"||typeof l=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);return typeof l=="string"?Zn.includesString:typeof l=="number"?Zn.inNumberRange:typeof l=="boolean"||l!==null&&typeof l=="object"?Zn.equals:Array.isArray(l)?Zn.arrIncludes:Zn.weakEquals},e.getFilterFn=()=>{var n,l;return Ki(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(l=t.options.filterFns)==null?void 0:l[e.columnDef.filterFn])!=null?n:Zn[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,l,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((l=t.options.enableColumnFilters)!=null?l:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,l,i,r;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((l=t.options.enableGlobalFilter)!=null?l:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((r=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(l=>l.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,l;return(n=(l=t.getState().columnFilters)==null?void 0:l.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(l=>{const i=e.getFilterFn(),r=l==null?void 0:l.find(f=>f.id===e.id),o=ll(n,r?r.value:void 0);if(bs(i,o,e)){var s;return(s=l==null?void 0:l.filter(f=>f.id!==e.id))!=null?s:[]}const a={id:e.id,value:o};if(r){var u;return(u=l==null?void 0:l.map(f=>f.id===e.id?a:f))!=null?u:[]}return l!=null&&l.length?[...l,a]:[a]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Zn.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:l}=e.options;return Ki(l)?l:l==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[l])!=null?t:Zn[l]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),l=i=>{var r;return(r=ll(t,i))==null?void 0:r.filter(o=>{const s=n.find(a=>a.id===o.id);if(s){const a=s.getFilterFn();if(bs(a,o.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(l)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,l;e.setColumnFilters(t?[]:(n=(l=e.initialState)==null?void 0:l.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function bs(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Zc=(e,t,n)=>n.reduce((l,i)=>{const r=i.getValue(e);return l+(typeof r=="number"?r:0)},0),Jc=(e,t,n)=>{let l;return n.forEach(i=>{const r=i.getValue(e);r!=null&&(l>r||l===void 0&&r>=r)&&(l=r)}),l},Qc=(e,t,n)=>{let l;return n.forEach(i=>{const r=i.getValue(e);r!=null&&(l<r||l===void 0&&r>=r)&&(l=r)}),l},$c=(e,t,n)=>{let l,i;return n.forEach(r=>{const o=r.getValue(e);o!=null&&(l===void 0?o>=o&&(l=i=o):(l>o&&(l=o),i<o&&(i=o)))}),[l,i]},xc=(e,t)=>{let n=0,l=0;if(t.forEach(i=>{let r=i.getValue(e);r!=null&&(r=+r)>=r&&(++n,l+=r)}),n)return l/n},eg=(e,t)=>{if(!t.length)return;const n=t.map(r=>r.getValue(e));if(!Bc(n))return;if(n.length===1)return n[0];const l=Math.floor(n.length/2),i=n.sort((r,o)=>r-o);return n.length%2!==0?i[l]:(i[l-1]+i[l])/2},tg=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),ng=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,lg=(e,t)=>t.length,Or={sum:Zc,min:Jc,max:Qc,extent:$c,mean:xc,median:eg,unique:tg,uniqueCount:ng,count:lg},ig={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:hn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(l=>l!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,l,i,r;return(n=(l=(i=(r=e.columnDef.enableGrouping)!=null?r:!0)!=null?i:t.options.enableGrouping)!=null?l:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);if(typeof l=="number")return Or.sum;if(Object.prototype.toString.call(l)==="[object Date]")return Or.extent},e.getAggregationFn=()=>{var n,l;if(!e)throw new Error;return Ki(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(l=t.options.aggregationFns)==null?void 0:l[e.columnDef.aggregationFn])!=null?n:Or[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,l;e.setGrouping(t?[]:(n=(l=e.initialState)==null?void 0:l.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const l=t.getColumn(n);return l!=null&&l.columnDef.getGroupingValue?(e._groupingValuesCache[n]=l.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,l)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function rg(e,t,n){if(!(t!=null&&t.length)||!n)return e;const l=e.filter(r=>!t.includes(r.id));return n==="remove"?l:[...t.map(r=>e.find(o=>o.id===r)).filter(Boolean),...l]}const og={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:hn("columnOrder",e)}),createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Ze(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,l)=>i=>{let r=[];if(!(t!=null&&t.length))r=i;else{const o=[...t],s=[...i];for(;s.length&&o.length;){const a=o.shift(),u=s.findIndex(f=>f.id===a);u>-1&&r.push(s.splice(u,1)[0])}r=[...r,...s]}return rg(r,n,l)},{key:!1})}},Wr=0,Yr=10,Hr=()=>({pageIndex:Wr,pageSize:Yr}),sg={getInitialState:e=>({...e,pagination:{...Hr(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:hn("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var l,i;if(!t){e._queue(()=>{t=!0});return}if((l=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?l:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=l=>{const i=r=>ll(l,r);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=l=>{var i;e.setPagination(l?Hr():(i=e.initialState.pagination)!=null?i:Hr())},e.setPageIndex=l=>{e.setPagination(i=>{let r=ll(l,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,o)),{...i,pageIndex:r}})},e.resetPageIndex=l=>{var i,r;e.setPageIndex(l?Wr:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageIndex)!=null?i:Wr)},e.resetPageSize=l=>{var i,r;e.setPageSize(l?Yr:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageSize)!=null?i:Yr)},e.setPageSize=l=>{e.setPagination(i=>{const r=Math.max(1,ll(l,i.pageSize)),o=i.pageSize*i.pageIndex,s=Math.floor(o/r);return{...i,pageIndex:s,pageSize:r}})},e.setPageCount=l=>e.setPagination(i=>{var r;let o=ll(l,(r=e.options.pageCount)!=null?r:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=Ze(()=>[e.getPageCount()],l=>{let i=[];return l&&l>0&&(i=[...new Array(l)].fill(null).map((r,o)=>o)),i},{key:!1,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugTable}}),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:l}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:l<i-1},e.previousPage=()=>e.setPageIndex(l=>l-1),e.nextPage=()=>e.setPageIndex(l=>l+1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var l;return(l=e.options.pageCount)!=null?l:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}},Lr=()=>({left:[],right:[]}),Nr=()=>({top:[],bottom:[]}),ag={getInitialState:e=>({columnPinning:Lr(),rowPinning:Nr(),...e}),getDefaultOptions:e=>({onColumnPinningChange:hn("columnPinning",e),onRowPinningChange:hn("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const l=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var r,o;if(n==="right"){var s,a;return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(d=>!(l!=null&&l.includes(d))),right:[...((a=i==null?void 0:i.right)!=null?a:[]).filter(d=>!(l!=null&&l.includes(d))),...l]}}if(n==="left"){var u,f;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(d=>!(l!=null&&l.includes(d))),...l],right:((f=i==null?void 0:i.right)!=null?f:[]).filter(d=>!(l!=null&&l.includes(d)))}}return{left:((r=i==null?void 0:i.left)!=null?r:[]).filter(d=>!(l!=null&&l.includes(d))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(d=>!(l!=null&&l.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(l=>{var i,r,o;return((i=l.columnDef.enablePinning)!=null?i:!0)&&((r=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?r:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(s=>s.id),{left:l,right:i}=t.getState().columnPinning,r=n.some(s=>l==null?void 0:l.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return r?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,l;const i=e.getIsPinned();return i?(n=(l=t.getState().columnPinning)==null||(l=l[i])==null?void 0:l.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,l,i)=>{const r=l?e.getLeafRows().map(a=>{let{id:u}=a;return u}):[],o=i?e.getParentRows().map(a=>{let{id:u}=a;return u}):[],s=new Set([...o,e.id,...r]);t.setRowPinning(a=>{var u,f;if(n==="bottom"){var d,g;return{top:((d=a==null?void 0:a.top)!=null?d:[]).filter(v=>!(s!=null&&s.has(v))),bottom:[...((g=a==null?void 0:a.bottom)!=null?g:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)]}}if(n==="top"){var m,_;return{top:[...((m=a==null?void 0:a.top)!=null?m:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)],bottom:((_=a==null?void 0:a.bottom)!=null?_:[]).filter(v=>!(s!=null&&s.has(v)))}}return{top:((u=a==null?void 0:a.top)!=null?u:[]).filter(v=>!(s!=null&&s.has(v))),bottom:((f=a==null?void 0:a.bottom)!=null?f:[]).filter(v=>!(s!=null&&s.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:l,enablePinning:i}=t.options;return typeof l=="function"?l(e):(n=l??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:l,bottom:i}=t.getState().rowPinning,r=n.some(s=>l==null?void 0:l.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return r?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,l;const i=e.getIsPinned();if(!i)return-1;const r=(n=t._getPinnedRows(i))==null?void 0:n.map(o=>{let{id:s}=o;return s});return(l=r==null?void 0:r.indexOf(e.id))!=null?l:-1},e.getCenterVisibleCells=Ze(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,l,i)=>{const r=[...l??[],...i??[]];return n.filter(o=>!r.includes(o.column.id))},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getLeftVisibleCells=Ze(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,l)=>(l??[]).map(r=>n.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"left"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getRightVisibleCells=Ze(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,l)=>(l??[]).map(r=>n.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"right"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,l;return e.setColumnPinning(t?Lr():(n=(l=e.initialState)==null?void 0:l.columnPinning)!=null?n:Lr())},e.getIsSomeColumnsPinned=t=>{var n;const l=e.getState().columnPinning;if(!t){var i,r;return!!((i=l.left)!=null&&i.length||(r=l.right)!=null&&r.length)}return!!((n=l[t])!=null&&n.length)},e.getLeftLeafColumns=Ze(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(l=>t.find(i=>i.id===l)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getRightLeafColumns=Ze(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(l=>t.find(i=>i.id===l)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getCenterLeafColumns=Ze(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l)=>{const i=[...n??[],...l??[]];return t.filter(r=>!i.includes(r.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,l;return e.setRowPinning(t?Nr():(n=(l=e.initialState)==null?void 0:l.rowPinning)!=null?n:Nr())},e.getIsSomeRowsPinned=t=>{var n;const l=e.getState().rowPinning;if(!t){var i,r;return!!((i=l.top)!=null&&i.length||(r=l.bottom)!=null&&r.length)}return!!((n=l[t])!=null&&n.length)},e._getPinnedRows=t=>Ze(()=>[e.getRowModel().rows,e.getState().rowPinning[t]],(n,l)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(l??[]).map(o=>{const s=e.getRow(o,!0);return s.getIsAllParentsExpanded()?s:null}):(l??[]).map(o=>n.find(s=>s.id===o))).filter(Boolean).map(o=>({...o,position:t}))},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})(),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Ze(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,l)=>{const i=new Set([...n??[],...l??[]]);return t.filter(r=>!i.has(r.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugRows}})}},ug={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:hn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const l={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(r=>{r.getCanSelect()&&(l[r.id]=!0)}):i.forEach(r=>{delete l[r.id]}),l})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const l=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(r=>{Kr(i,r.id,l,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ze(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Br(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getFilteredSelectedRowModel=Ze(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Br(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getGroupedSelectedRowModel=Ze(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Br(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let l=!!(t.length&&Object.keys(n).length);return l&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(l=!1),l},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let l=!!t.length;return l&&t.some(i=>!n[i.id])&&(l=!1),l},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,l)=>{const i=e.getIsSelected();t.setRowSelection(r=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return r;const s={...r};return Kr(s,e.id,n,(o=l==null?void 0:l.selectChildren)!=null?o:!0,t),s})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return oo(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Zr(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Zr(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return l=>{var i;n&&e.toggleSelected((i=l.target)==null?void 0:i.checked)}}}},Kr=(e,t,n,l,i)=>{var r;const o=i.getRow(t);n?(o.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),o.getCanSelect()&&(e[t]=!0)):delete e[t],l&&(r=o.subRows)!=null&&r.length&&o.getCanSelectSubRows()&&o.subRows.forEach(s=>Kr(e,s.id,n,l,i))};function Br(e,t){const n=e.getState().rowSelection,l=[],i={},r=function(o,s){return o.map(a=>{var u;const f=oo(a,n);if(f&&(l.push(a),i[a.id]=a),(u=a.subRows)!=null&&u.length&&(a={...a,subRows:r(a.subRows)}),f)return a}).filter(Boolean)};return{rows:r(t.rows),flatRows:l,rowsById:i}}function oo(e,t){var n;return(n=t[e.id])!=null?n:!1}function Zr(e,t,n){var l;if(!((l=e.subRows)!=null&&l.length))return!1;let i=!0,r=!1;return e.subRows.forEach(o=>{if(!(r&&!i)&&(o.getCanSelect()&&(oo(o,t)?r=!0:i=!1),o.subRows&&o.subRows.length)){const s=Zr(o,t);s==="all"?r=!0:(s==="some"&&(r=!0),i=!1)}}),i?"all":r?"some":!1}const Jr=/([0-9]+)/gm,fg=(e,t,n)=>mf(il(e.getValue(n)).toLowerCase(),il(t.getValue(n)).toLowerCase()),dg=(e,t,n)=>mf(il(e.getValue(n)),il(t.getValue(n))),cg=(e,t,n)=>so(il(e.getValue(n)).toLowerCase(),il(t.getValue(n)).toLowerCase()),gg=(e,t,n)=>so(il(e.getValue(n)),il(t.getValue(n))),hg=(e,t,n)=>{const l=e.getValue(n),i=t.getValue(n);return l>i?1:l<i?-1:0},pg=(e,t,n)=>so(e.getValue(n),t.getValue(n));function so(e,t){return e===t?0:e>t?1:-1}function il(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function mf(e,t){const n=e.split(Jr).filter(Boolean),l=t.split(Jr).filter(Boolean);for(;n.length&&l.length;){const i=n.shift(),r=l.shift(),o=parseInt(i,10),s=parseInt(r,10),a=[o,s].sort();if(isNaN(a[0])){if(i>r)return 1;if(r>i)return-1;continue}if(isNaN(a[1]))return isNaN(o)?-1:1;if(o>s)return 1;if(s>o)return-1}return n.length-l.length}const hi={alphanumeric:fg,alphanumericCaseSensitive:dg,text:cg,textCaseSensitive:gg,datetime:hg,basic:pg},_g={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:hn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let l=!1;for(const i of n){const r=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(r)==="[object Date]")return hi.datetime;if(typeof r=="string"&&(l=!0,r.split(Jr).length>1))return hi.alphanumeric}return l?hi.text:hi.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,l;if(!e)throw new Error;return Ki(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(l=t.options.sortingFns)==null?void 0:l[e.columnDef.sortingFn])!=null?n:hi[e.columnDef.sortingFn]},e.toggleSorting=(n,l)=>{const i=e.getNextSortingOrder(),r=typeof n<"u"&&n!==null;t.setSorting(o=>{const s=o==null?void 0:o.find(m=>m.id===e.id),a=o==null?void 0:o.findIndex(m=>m.id===e.id);let u=[],f,d=r?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&l?s?f="toggle":f="add":o!=null&&o.length&&a!==o.length-1?f="replace":s?f="toggle":f="replace",f==="toggle"&&(r||i||(f="remove")),f==="add"){var g;u=[...o,{id:e.id,desc:d}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=o.map(m=>m.id===e.id?{...m,desc:d}:m):f==="remove"?u=o.filter(m=>m.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,l;return((n=(l=e.columnDef.sortDescFirst)!=null?l:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var l,i;const r=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==r&&((l=t.options.enableSortingRemoval)==null||l)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":r},e.getCanSort=()=>{var n,l;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((l=t.options.enableSorting)!=null?l:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,l;return(n=(l=e.columnDef.enableMultiSort)!=null?l:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const l=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return l?l.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,l;return(n=(l=t.getState().sorting)==null?void 0:l.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(l=>l.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return l=>{n&&(l.persist==null||l.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(l):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,l;e.setSorting(t?[]:(n=(l=e.initialState)==null?void 0:l.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},mg={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:hn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(l=>({...l,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,l;return(n=(l=t.getState().columnVisibility)==null?void 0:l[e.id])!=null?n:!0},e.getCanHide=()=>{var n,l;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((l=t.options.enableHiding)!=null?l:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Ze(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(l=>l.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getVisibleCells=Ze(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,l,i)=>[...n,...l,...i],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{const t=(n,l)=>Ze(()=>[l(),l().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(r=>r.getIsVisible==null?void 0:r.getIsVisible()),{key:n,debug:()=>{var i;return(i=e.options.debugAll)!=null?i:e.options.debugColumns}});e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var l;e.setColumnVisibility(n?{}:(l=e.initialState.columnVisibility)!=null?l:{})},e.toggleAllColumnsVisible=n=>{var l;n=(l=n)!=null?l:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,r)=>({...i,[r.id]:n||!(r.getCanHide!=null&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var l;e.toggleAllColumnsVisible((l=n.target)==null?void 0:l.checked)}}},ws=[Uc,mg,og,ag,Kc,_g,ig,Yc,sg,ug,Xc];function vg(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:ws};const l=n._features.reduce((f,d)=>Object.assign(f,d.getDefaultOptions==null?void 0:d.getDefaultOptions(n)),{}),i=f=>n.options.mergeOptions?n.options.mergeOptions(l,f):{...l,...f};let o={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(f=>{var d;o=(d=f.getInitialState==null?void 0:f.getInitialState(o))!=null?d:o});const s=[];let a=!1;const u={_features:ws,options:{...l,...e},initialState:o,_queue:f=>{s.push(f),a||(a=!0,Promise.resolve().then(()=>{for(;s.length;)s.shift()();a=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{n.setState(n.initialState)},setOptions:f=>{const d=ll(f,n.options);n.options=i(d)},getState:()=>n.options.state,setState:f=>{n.options.onStateChange==null||n.options.onStateChange(f)},_getRowId:(f,d,g)=>{var m;return(m=n.options.getRowId==null?void 0:n.options.getRowId(f,d,g))!=null?m:`${g?[g.id,d].join("."):d}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(f,d)=>{const g=(d?n.getCoreRowModel():n.getRowModel()).rowsById[f];if(!g)throw new Error;return g},_getDefaultColumnDef:Ze(()=>[n.options.defaultColumn],f=>{var d;return f=(d=f)!=null?d:{},{header:g=>{const m=g.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:g=>{var m,_;return(m=(_=g.renderValue())==null||_.toString==null?void 0:_.toString())!=null?m:null},...n._features.reduce((g,m)=>Object.assign(g,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},{debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Ze(()=>[n._getColumnDefs()],f=>{const d=function(g,m,_){return _===void 0&&(_=0),g.map(v=>{const y=qc(n,v,_,m),C=v;return y.columns=C.columns?d(C.columns,y,_+1):[],y})};return d(f)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllFlatColumns:Ze(()=>[n.getAllColumns()],f=>f.flatMap(d=>d.getFlatColumns()),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),_getAllFlatColumnsById:Ze(()=>[n.getAllFlatColumns()],f=>f.reduce((d,g)=>(d[g.id]=g,d),{}),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllLeafColumns:Ze(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(f,d)=>{let g=f.flatMap(m=>m.getLeafColumns());return d(g)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getColumn:f=>n._getAllFlatColumnsById()[f]};Object.assign(n,u);for(let f=0;f<n._features.length;f++){const d=n._features[f];d==null||d.createTable==null||d.createTable(n)}return n}function bg(e,t,n,l){const i=()=>{var o;return(o=r.getValue())!=null?o:e.options.renderFallbackValue},r={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(l),renderValue:i,getContext:Ze(()=>[e,n,t,r],(o,s,a,u)=>({table:o,column:s,row:a,cell:u,getValue:u.getValue,renderValue:u.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(o=>{o.createCell==null||o.createCell(r,n,t,e)},{}),r}const ao=(e,t,n,l,i,r,o)=>{let s={id:t,index:l,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(s._valuesCache.hasOwnProperty(a))return s._valuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return s._valuesCache[a]=u.accessorFn(s.original,l),s._valuesCache[a]},getUniqueValues:a=>{if(s._uniqueValuesCache.hasOwnProperty(a))return s._uniqueValuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(s._uniqueValuesCache[a]=u.columnDef.getUniqueValues(s.original,l),s._uniqueValuesCache[a]):(s._uniqueValuesCache[a]=[s.getValue(a)],s._uniqueValuesCache[a])},renderValue:a=>{var u;return(u=s.getValue(a))!=null?u:e.options.renderFallbackValue},subRows:r??[],getLeafRows:()=>jc(s.subRows,a=>a.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let a=[],u=s;for(;;){const f=u.getParentRow();if(!f)break;a.push(f),u=f}return a.reverse()},getAllCells:Ze(()=>[e.getAllLeafColumns()],a=>a.map(u=>bg(e,s,u,u.id)),{key:!1,debug:()=>{var a;return(a=e.options.debugAll)!=null?a:e.options.debugRows}}),_getAllCellsByColumnId:Ze(()=>[s.getAllCells()],a=>a.reduce((u,f)=>(u[f.column.id]=f,u),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var a;return(a=e.options.debugAll)!=null?a:e.options.debugRows}})};for(let a=0;a<e._features.length;a++){const u=e._features[a];u==null||u.createRow==null||u.createRow(s,e)}return s};function wg(){return e=>Ze(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},l=function(i,r,o){r===void 0&&(r=0);const s=[];for(let u=0;u<i.length;u++){const f=ao(e,e._getRowId(i[u],u,o),i[u],u,r,void 0,o==null?void 0:o.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,s.push(f),e.options.getSubRows){var a;f.originalSubRows=e.options.getSubRows(i[u],u),(a=f.originalSubRows)!=null&&a.length&&(f.subRows=l(f.originalSubRows,r+1,f))}}return s};return n.rows=l(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function yg(e,t,n){return n.options.filterFromLeafRows?Sg(e,t,n):Cg(e,t,n)}function Sg(e,t,n){var l;const i=[],r={},o=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,s=function(a,u){u===void 0&&(u=0);const f=[];for(let g=0;g<a.length;g++){var d;let m=a[g];const _=ao(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(_.columnFilters=m.columnFilters,(d=m.subRows)!=null&&d.length&&u<o){if(_.subRows=s(m.subRows,u+1),m=_,t(m)&&!_.subRows.length){f.push(m),r[m.id]=m,i.push(m);continue}if(t(m)||_.subRows.length){f.push(m),r[m.id]=m,i.push(m);continue}}else m=_,t(m)&&(f.push(m),r[m.id]=m,i.push(m))}return f};return{rows:s(e),flatRows:i,rowsById:r}}function Cg(e,t,n){var l;const i=[],r={},o=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,s=function(a,u){u===void 0&&(u=0);const f=[];for(let g=0;g<a.length;g++){let m=a[g];if(t(m)){var d;if((d=m.subRows)!=null&&d.length&&u<o){const v=ao(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);v.subRows=s(m.subRows,u+1),m=v}f.push(m),i.push(m),r[m.id]=m}}return f};return{rows:s(e),flatRows:i,rowsById:r}}function kg(){return e=>Ze(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,l)=>{if(!t.rows.length||!(n!=null&&n.length)&&!l){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const i=[],r=[];(n??[]).forEach(g=>{var m;const _=e.getColumn(g.id);if(!_)return;const v=_.getFilterFn();v&&i.push({id:g.id,filterFn:v,resolvedValue:(m=v.resolveFilterValue==null?void 0:v.resolveFilterValue(g.value))!=null?m:g.value})});const o=n.map(g=>g.id),s=e.getGlobalFilterFn(),a=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());l&&s&&a.length&&(o.push("__global__"),a.forEach(g=>{var m;r.push({id:g.id,filterFn:s,resolvedValue:(m=s.resolveFilterValue==null?void 0:s.resolveFilterValue(l))!=null?m:l})}));let u,f;for(let g=0;g<t.flatRows.length;g++){const m=t.flatRows[g];if(m.columnFilters={},i.length)for(let _=0;_<i.length;_++){u=i[_];const v=u.id;m.columnFilters[v]=u.filterFn(m,v,u.resolvedValue,y=>{m.columnFiltersMeta[v]=y})}if(r.length){for(let _=0;_<r.length;_++){f=r[_];const v=f.id;if(f.filterFn(m,v,f.resolvedValue,y=>{m.columnFiltersMeta[v]=y})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const d=g=>{for(let m=0;m<o.length;m++)if(g.columnFilters[o[m]]===!1)return!1;return!0};return yg(t.rows,d,e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Rg(){return e=>Ze(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const l=e.getState().sorting,i=[],r=l.filter(a=>{var u;return(u=e.getColumn(a.id))==null?void 0:u.getCanSort()}),o={};r.forEach(a=>{const u=e.getColumn(a.id);u&&(o[a.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const s=a=>{const u=a.map(f=>({...f}));return u.sort((f,d)=>{for(let m=0;m<r.length;m+=1){var g;const _=r[m],v=o[_.id],y=(g=_==null?void 0:_.desc)!=null?g:!1;let C=0;if(v.sortUndefined){const E=f.getValue(_.id),P=d.getValue(_.id),D=E===void 0,T=P===void 0;(D||T)&&(C=D&&T?0:D?v.sortUndefined:-v.sortUndefined)}if(C===0&&(C=v.sortingFn(f,d,_.id)),C!==0)return y&&(C*=-1),v.invertSorting&&(C*=-1),C}return f.index-d.index}),u.forEach(f=>{var d;i.push(f),(d=f.subRows)!=null&&d.length&&(f.subRows=s(f.subRows))}),u};return{rows:s(n.rows),flatRows:i,rowsById:n.rowsById}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Eg(e){const t=[],n=l=>{var i;t.push(l),(i=l.subRows)!=null&&i.length&&l.getIsExpanded()&&l.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Ag(e){return t=>Ze(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,l)=>{if(!l.rows.length)return l;const{pageSize:i,pageIndex:r}=n;let{rows:o,flatRows:s,rowsById:a}=l;const u=i*r,f=u+i;o=o.slice(u,f);let d;t.options.paginateExpandedRows?d={rows:o,flatRows:s,rowsById:a}:d=Eg({rows:o,flatRows:s,rowsById:a}),d.flatRows=[];const g=m=>{d.flatRows.push(m),m.subRows.length&&m.subRows.forEach(g)};return d.rows.forEach(g),d},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}})}/**
 * svelte-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ig(e){let t;return{c(){t=X(e[0])},l(n){t=W(n,e[0])},m(n,l){A(n,t,l)},p(n,[l]){l&1&&Ve(t,n[0])},i:ut,o:ut,d(n){n&&p(t)}}}function Mg(e,t,n){let{content:l}=t;return e.$$set=i=>{"content"in i&&n(0,l=i.content)},[l]}class Dg extends Zt{constructor(t){super(),tn(this,t,Mg,Ig,en,{content:0})}}const Tg=Ju((e,t,n,l)=>`${md(t.content)}`);var Vg=typeof document>"u"?Tg:Dg;function Pg(e,t,n){let l,i;return l=new t({props:n,$$inline:!0}),{c(){Je(l.$$.fragment)},l(r){xe(l.$$.fragment,r)},m(r,o){Qe(l,r,o),i=!0},p:ut,i(r){i||(oe(l.$$.fragment,r),i=!0)},o(r){ce(l.$$.fragment,r),i=!1},d(r){$e(l,r)}}}function zg(e,t){return class extends Zt{constructor(l){super(),tn(this,l,null,i=>Pg(i,e,t),en,{},void 0)}}}function Fg(e,t){return Ju((l,i,r,o)=>`${vd(e,"TableComponent").$$render(l,t,{},{})}`)}const Qr=typeof window>"u"?Fg:zg;function Gg(e){return typeof e=="object"&&typeof e.$$render=="function"&&typeof e.render=="function"}function Og(e){var t,n;let l="__SVELTE_HMR"in window;return e.prototype instanceof Zt||l&&((t=e.name)==null?void 0:t.startsWith("Proxy<"))&&((n=e.name)==null?void 0:n.endsWith(">"))}function ys(e){return typeof document>"u"?Gg(e):Og(e)}function Ss(e){return Qr(Vg,{content:e})}function Zi(e,t){if(!e)return null;if(ys(e))return Qr(e,t);if(typeof e=="function"){const n=e(t);return n==null?null:ys(n)?Qr(n,t):Ss(n)}return Ss(e)}function Hg(e){let t;"subscribe"in e?t=e:t=os(e);let n={state:{},onStateChange:()=>{},renderFallbackValue:null,...Jl(t)},l=vg(n),i=gn(l.initialState),r=gd([i,t],s=>s);return os(l,function(a){const u=r.subscribe(f=>{let[d,g]=f;l.setOptions(m=>({...m,...g,state:{...d,...g.state},onStateChange:_=>{_ instanceof Function?i.update(_):i.set(_),n.onStateChange==null||n.onStateChange(_)}})),a(l)});return function(){u()}})}function Cs(e,t,n){const l=e.slice();return l[23]=t[n],l}function ks(e,t,n){const l=e.slice();return l[26]=t[n],l}function Rs(e,t,n){const l=e.slice();return l[29]=t[n],l}function Es(e,t,n){const l=e.slice();return l[32]=t[n],l}function Lg(e,t,n){const l=e.slice();return l[35]=t[n],l}function Ng(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),fe(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:ut,i:ut,o:ut,d(l){l&&p(t)}}}function Bg(e){let t,n,l,i="<<",r,o,s,a,u="<",f,d,g,m,_=">",v,y,C,E,P=">>",D,T,M,q,V,N,z,H,G,B=e[2].getState().pagination.pageIndex+1+"",Y,le,Ce=e[2].getPageCount()+"",ve,j,pe,se,we,ye,ue,F,de,x,Ie,be,Xe=me([25,50,100,250]),Ye=[];for(let J=0;J<4;J+=1)Ye[J]=jg(Lg(e,Xe,J));let Be=me(e[2].getHeaderGroups()),ae=[];for(let J=0;J<Be.length;J+=1)ae[J]=Ms(Rs(e,Be,J));const ct=J=>ce(ae[J],1,1,()=>{ae[J]=null});let Oe=me(e[2].getRowModel().rows),Se=[];for(let J=0;J<Oe.length;J+=1)Se[J]=Ts(Cs(e,Oe,J));const vt=J=>ce(Se[J],1,1,()=>{Se[J]=null});return{c(){t=b("div"),n=b("div"),l=b("button"),r=X(i),s=k(),a=b("button"),f=X(u),g=k(),m=b("button"),v=X(_),C=k(),E=b("button"),D=X(P),M=k(),q=b("div"),V=b("select");for(let J=0;J<4;J+=1)Ye[J].c();z=k(),H=b("div"),G=X("Page "),Y=X(B),le=X(" of "),ve=X(Ce),j=k(),pe=b("div"),se=b("input"),we=k(),ye=b("table"),ue=b("thead");for(let J=0;J<ae.length;J+=1)ae[J].c();F=k(),de=b("tbody");for(let J=0;J<Se.length;J+=1)Se[J].c();this.h()},l(J){t=w(J,"DIV",{});var he=S(t);n=w(he,"DIV",{style:!0});var $=S(n);l=w($,"BUTTON",{class:!0});var ge=S(l);r=W(ge,i),ge.forEach(p),s=R($),a=w($,"BUTTON",{class:!0});var ze=S(a);f=W(ze,u),ze.forEach(p),g=R($),m=w($,"BUTTON",{class:!0});var _e=S(m);v=W(_e,_),_e.forEach(p),C=R($),E=w($,"BUTTON",{class:!0});var Le=S(E);D=W(Le,P),Le.forEach(p),M=R($),q=w($,"DIV",{style:!0});var et=S(q);V=w(et,"SELECT",{});var St=S(V);for(let ke=0;ke<4;ke+=1)Ye[ke].l(St);St.forEach(p),et.forEach(p),z=R($),H=w($,"DIV",{style:!0});var Ke=S(H);G=W(Ke,"Page "),Y=W(Ke,B),le=W(Ke," of "),ve=W(Ke,Ce),Ke.forEach(p),j=R($),pe=w($,"DIV",{style:!0});var rt=S(pe);se=w(rt,"INPUT",{placeholder:!0,class:!0}),rt.forEach(p),$.forEach(p),we=R(he),ye=w(he,"TABLE",{class:!0});var dt=S(ye);ue=w(dt,"THEAD",{});var Me=S(ue);for(let ke=0;ke<ae.length;ke+=1)ae[ke].l(Me);Me.forEach(p),F=R(dt),de=w(dt,"TBODY",{});var tt=S(de);for(let ke=0;ke<Se.length;ke+=1)Se[ke].l(tt);tt.forEach(p),dt.forEach(p),he.forEach(p),this.h()},h(){h(l,"class","border rounded p-1"),l.disabled=o=!e[2].getCanPreviousPage(),h(a,"class","border rounded p-1"),a.disabled=d=!e[2].getCanPreviousPage(),h(m,"class","border rounded p-1"),m.disabled=y=!e[2].getCanNextPage(),h(E,"class","border rounded p-1"),E.disabled=T=!e[2].getCanNextPage(),O(q,"margin-left","10px"),O(H,"margin-left","10px"),O(H,"display","flex"),O(H,"justify-content","center"),O(H,"align-items","center"),h(se,"placeholder","search..."),se.value=e[1],h(se,"class","svelte-rg5axi"),te(se,"searchActive",e[1]!==""),O(pe,"margin-left","auto"),O(pe,"margin-right","3px"),O(pe,"display","flex"),O(pe,"align-self","end"),O(n,"display","flex"),O(n,"margin-bottom","10px"),h(ye,"class","svelte-rg5axi")},m(J,he){A(J,t,he),c(t,n),c(n,l),c(l,r),c(n,s),c(n,a),c(a,f),c(n,g),c(n,m),c(m,v),c(n,C),c(n,E),c(E,D),c(n,M),c(n,q),c(q,V);for(let $=0;$<4;$+=1)Ye[$]&&Ye[$].m(V,null);an(V,e[2].getState().pagination.pageSize),c(n,z),c(n,H),c(H,G),c(H,Y),c(H,le),c(H,ve),c(n,j),c(n,pe),c(pe,se),c(t,we),c(t,ye),c(ye,ue);for(let $=0;$<ae.length;$+=1)ae[$]&&ae[$].m(ue,null);c(ye,F),c(ye,de);for(let $=0;$<Se.length;$+=1)Se[$]&&Se[$].m(de,null);x=!0,Ie||(be=[ie(l,"click",e[8]),ie(a,"click",e[9]),ie(m,"click",e[10]),ie(E,"click",e[11]),ie(V,"change",e[12]),ie(se,"input",e[4])],Ie=!0)},p(J,he){if((!x||he[0]&4&&o!==(o=!J[2].getCanPreviousPage()))&&(l.disabled=o),(!x||he[0]&4&&d!==(d=!J[2].getCanPreviousPage()))&&(a.disabled=d),(!x||he[0]&4&&y!==(y=!J[2].getCanNextPage()))&&(m.disabled=y),(!x||he[0]&4&&T!==(T=!J[2].getCanNextPage()))&&(E.disabled=T),(!x||he[0]&4&&N!==(N=J[2].getState().pagination.pageSize))&&an(V,J[2].getState().pagination.pageSize),(!x||he[0]&4)&&B!==(B=J[2].getState().pagination.pageIndex+1+"")&&Ve(Y,B),(!x||he[0]&4)&&Ce!==(Ce=J[2].getPageCount()+"")&&Ve(ve,Ce),(!x||he[0]&2&&se.value!==J[1])&&(se.value=J[1]),(!x||he[0]&2)&&te(se,"searchActive",J[1]!==""),he[0]&12){Be=me(J[2].getHeaderGroups());let $;for($=0;$<Be.length;$+=1){const ge=Rs(J,Be,$);ae[$]?(ae[$].p(ge,he),oe(ae[$],1)):(ae[$]=Ms(ge),ae[$].c(),oe(ae[$],1),ae[$].m(ue,null))}for(Ot(),$=Be.length;$<ae.length;$+=1)ct($);Ht()}if(he[0]&4){Oe=me(J[2].getRowModel().rows);let $;for($=0;$<Oe.length;$+=1){const ge=Cs(J,Oe,$);Se[$]?(Se[$].p(ge,he),oe(Se[$],1)):(Se[$]=Ts(ge),Se[$].c(),oe(Se[$],1),Se[$].m(de,null))}for(Ot(),$=Oe.length;$<Se.length;$+=1)vt($);Ht()}},i(J){if(!x){for(let he=0;he<Be.length;he+=1)oe(ae[he]);for(let he=0;he<Oe.length;he+=1)oe(Se[he]);x=!0}},o(J){ae=ae.filter(Boolean);for(let he=0;he<ae.length;he+=1)ce(ae[he]);Se=Se.filter(Boolean);for(let he=0;he<Se.length;he+=1)ce(Se[he]);x=!1},d(J){J&&p(t),ot(Ye,J),ot(ae,J),ot(Se,J),Ie=!1,Kt(be)}}}function jg(e){let t,n,l,i;return{c(){t=b("option"),n=X("Show "),l=X(e[35]),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);n=W(o,"Show "),l=W(o,e[35]),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[35],Bt(t,t.__value)},m(r,o){A(r,t,o),c(t,n),c(t,l),c(t,i)},p:ut,d(r){r&&p(t)}}}function As(e){let t,n,l,i=(e[3][e[32].column.getIsSorted().toString()]??"")+"",r,o,s,a;var u=Zi(e[32].column.columnDef.header,e[32].getContext());function f(d,g){return{}}return u&&(n=Bi(u,f())),{c(){t=b("div"),n&&Je(n.$$.fragment),l=k(),r=X(i),this.h()},l(d){t=w(d,"DIV",{tabindex:!0,role:!0,"aria-pressed":!0});var g=S(t);n&&xe(n.$$.fragment,g),l=R(g),r=W(g,i),g.forEach(p),this.h()},h(){h(t,"tabindex","0"),h(t,"role","button"),h(t,"aria-pressed","false"),te(t,"cursor-pointer",e[32].column.getCanSort()),te(t,"select-none",e[32].column.getCanSort())},m(d,g){A(d,t,g),n&&Qe(n,t,null),c(t,l),c(t,r),o=!0,s||(a=[ie(t,"click",function(){Ff(e[32].column.getToggleSortingHandler())&&e[32].column.getToggleSortingHandler().apply(this,arguments)}),ie(t,"keydown",e[13])],s=!0)},p(d,g){if(e=d,g[0]&4&&u!==(u=Zi(e[32].column.columnDef.header,e[32].getContext()))){if(n){Ot();const m=n;ce(m.$$.fragment,1,0,()=>{$e(m,1)}),Ht()}u?(n=Bi(u,f()),Je(n.$$.fragment),oe(n.$$.fragment,1),Qe(n,t,l)):n=null}(!o||g[0]&4)&&i!==(i=(e[3][e[32].column.getIsSorted().toString()]??"")+"")&&Ve(r,i),(!o||g[0]&4)&&te(t,"cursor-pointer",e[32].column.getCanSort()),(!o||g[0]&4)&&te(t,"select-none",e[32].column.getCanSort())},i(d){o||(n&&oe(n.$$.fragment,d),o=!0)},o(d){n&&ce(n.$$.fragment,d),o=!1},d(d){d&&p(t),n&&$e(n),s=!1,Kt(a)}}}function Is(e){let t,n,l=!e[32].isPlaceholder&&As(e);return{c(){t=b("th"),l&&l.c(),this.h()},l(i){t=w(i,"TH",{class:!0});var r=S(t);l&&l.l(r),r.forEach(p),this.h()},h(){h(t,"class","svelte-rg5axi")},m(i,r){A(i,t,r),l&&l.m(t,null),n=!0},p(i,r){i[32].isPlaceholder?l&&(Ot(),ce(l,1,1,()=>{l=null}),Ht()):l?(l.p(i,r),r[0]&4&&oe(l,1)):(l=As(i),l.c(),oe(l,1),l.m(t,null))},i(i){n||(oe(l),n=!0)},o(i){ce(l),n=!1},d(i){i&&p(t),l&&l.d()}}}function Ms(e){let t,n,l,i=me(e[29].headers),r=[];for(let s=0;s<i.length;s+=1)r[s]=Is(Es(e,i,s));const o=s=>ce(r[s],1,1,()=>{r[s]=null});return{c(){t=b("tr");for(let s=0;s<r.length;s+=1)r[s].c();n=k(),this.h()},l(s){t=w(s,"TR",{class:!0});var a=S(t);for(let u=0;u<r.length;u+=1)r[u].l(a);n=R(a),a.forEach(p),this.h()},h(){h(t,"class","svelte-rg5axi")},m(s,a){A(s,t,a);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);c(t,n),l=!0},p(s,a){if(a[0]&12){i=me(s[29].headers);let u;for(u=0;u<i.length;u+=1){const f=Es(s,i,u);r[u]?(r[u].p(f,a),oe(r[u],1)):(r[u]=Is(f),r[u].c(),oe(r[u],1),r[u].m(t,n))}for(Ot(),u=i.length;u<r.length;u+=1)o(u);Ht()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)oe(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)ce(r[a]);l=!1},d(s){s&&p(t),ot(r,s)}}}function Ds(e){let t,n,l,i;var r=Zi(e[26].column.columnDef.cell,e[26].getContext());function o(s,a){return{}}return r&&(n=Bi(r,o())),{c(){t=b("td"),n&&Je(n.$$.fragment),this.h()},l(s){t=w(s,"TD",{style:!0,class:!0});var a=S(t);n&&xe(n.$$.fragment,a),a.forEach(p),this.h()},h(){h(t,"style",l=e[26].column.getSize()===Number.MAX_SAFE_INTEGER?"width: auto":"width: "+e[26].column.getSize()+"px; max-width: "+e[26].column.getSize()+"px;"),h(t,"class","svelte-rg5axi")},m(s,a){A(s,t,a),n&&Qe(n,t,null),i=!0},p(s,a){if(a[0]&4&&r!==(r=Zi(s[26].column.columnDef.cell,s[26].getContext()))){if(n){Ot();const u=n;ce(u.$$.fragment,1,0,()=>{$e(u,1)}),Ht()}r?(n=Bi(r,o()),Je(n.$$.fragment),oe(n.$$.fragment,1),Qe(n,t,null)):n=null}(!i||a[0]&4&&l!==(l=s[26].column.getSize()===Number.MAX_SAFE_INTEGER?"width: auto":"width: "+s[26].column.getSize()+"px; max-width: "+s[26].column.getSize()+"px;"))&&h(t,"style",l)},i(s){i||(n&&oe(n.$$.fragment,s),i=!0)},o(s){n&&ce(n.$$.fragment,s),i=!1},d(s){s&&p(t),n&&$e(n)}}}function Ts(e){let t,n,l,i=me(e[23].getVisibleCells()),r=[];for(let s=0;s<i.length;s+=1)r[s]=Ds(ks(e,i,s));const o=s=>ce(r[s],1,1,()=>{r[s]=null});return{c(){t=b("tr");for(let s=0;s<r.length;s+=1)r[s].c();n=k(),this.h()},l(s){t=w(s,"TR",{class:!0});var a=S(t);for(let u=0;u<r.length;u+=1)r[u].l(a);n=R(a),a.forEach(p),this.h()},h(){h(t,"class","svelte-rg5axi")},m(s,a){A(s,t,a);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);c(t,n),l=!0},p(s,a){if(a[0]&4){i=me(s[23].getVisibleCells());let u;for(u=0;u<i.length;u+=1){const f=ks(s,i,u);r[u]?(r[u].p(f,a),oe(r[u],1)):(r[u]=Ds(f),r[u].c(),oe(r[u],1),r[u].m(t,n))}for(Ot(),u=i.length;u<r.length;u+=1)o(u);Ht()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)oe(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)ce(r[a]);l=!1},d(s){s&&p(t),ot(r,s)}}}function qg(e){let t,n,l,i,r;const o=[Bg,Ng],s=[];function a(u,f){return f[0]&1&&(t=null),t==null&&(t=!!(Array.isArray(u[0])&&u[0].length>0)),t?0:1}return n=a(e,[-1,-1]),l=s[n]=o[n](e),{c(){l.c(),i=He()},l(u){l.l(u),i=He()},m(u,f){s[n].m(u,f),A(u,i,f),r=!0},p(u,f){let d=n;n=a(u,f),n===d?s[n].p(u,f):(Ot(),ce(s[d],1,1,()=>{s[d]=null}),Ht(),l=s[n],l?l.p(u,f):(l=s[n]=o[n](u),l.c()),oe(l,1),l.m(i.parentNode,i))},i(u){r||(oe(l),r=!0)},o(u){ce(l),r=!1},d(u){u&&p(i),s[n].d(u)}}}function Ug(e,t,n){let l,{tableColumns:i=[]}=t,{tableData:r=[]}=t,{initialSort:o=[]}=t,s=[o],a={pageIndex:0,pageSize:25};const u={asc:" 🔼",desc:" 🔽"};let f="";function d(z){n(1,f=z)}let g;const m=z=>{z.preventDefault(),g!==void 0&&clearTimeout(g),g=setTimeout(()=>{n(1,f=z.target.value),y.update(H=>({...H,state:{...H.state,globalFilter:f}}))},250)},_=z=>{z instanceof Function?s=z(s):s=z,y.update(H=>({...H,state:{...H.state,sorting:s}}))},v=z=>{a=z(a),y.update(H=>({...H,state:{...H.state,pagination:a}}))},y=gn({data:r,columns:i,defaultColumn:{minSize:0,size:Number.MAX_SAFE_INTEGER,maxSize:Number.MAX_SAFE_INTEGER},state:{sorting:s,pagination:a,globalFilter:f},onPaginationChange:v,onSortingChange:_,onGlobalFilterChange:d,getCoreRowModel:wg(),getSortedRowModel:Rg(),getPaginationRowModel:Ag(),getFilteredRowModel:kg()}),C=Hg(y);Dt(e,C,z=>n(2,l=z));function E(...z){y.update(H=>({...H,data:r}))}function P(...z){y.update(H=>({...H,columns:i}))}const D=()=>l.setPageIndex(0),T=()=>l.previousPage(),M=()=>{l.nextPage()},q=()=>l.setPageIndex(l.getPageCount()-1),V=z=>{l.setPageSize(Number(z.target.value))},N=()=>{};return e.$$set=z=>{"tableColumns"in z&&n(6,i=z.tableColumns),"tableData"in z&&n(0,r=z.tableData),"initialSort"in z&&n(7,o=z.initialSort)},e.$$.update=()=>{e.$$.dirty[0]&1&&E(r),e.$$.dirty[0]&64&&P(i)},[r,f,l,u,m,C,i,o,D,T,M,q,V,N]}class Xg extends Zt{constructor(t){super(),tn(this,t,Ug,qg,en,{tableColumns:6,tableData:0,initialSort:7},null,[-1,-1])}}function Wg(e){let t,n,l=`This table shows the statistical outcome of your GOAT enrichment analysis for gene sets from the
		currently selected gene set &quot;source&quot; (e.g. GO_CC or GO_BP, options shown in the light blue bar
		directly above). The columns in this table are described in more detail in the <a href="docs#GOATresults" target="_blank">documentation</a>.
        <br/>The &quot;score type&quot; column reflects what type of gene scores (from your input dataset)
		were used to compute the presented gene set enrichment p-values. ES is an abbreviation for
		effect size (to minimize the horizontal space required for this column). e.g. &quot;ES up&quot; indicates
		the gene set is enriched in genes with a positive gene effect size, &quot;ES down&quot; indicates
		enrichment of negative gene effect sizes. If &quot;pvalue&quot; was selected in the &quot;gene score type&quot;
		settings, information on enrichment in either up/down-direction is not available.`,i,r,o,s,a,u="only show significant gene sets",f,d,g,m,_,v,y,C;return _=new Xg({props:{initialSort:e[2],tableData:e[1],tableColumns:e[3]}}),{c(){t=b("div"),n=b("div"),n.innerHTML=l,i=k(),r=b("div"),o=b("input"),s=k(),a=b("label"),a.textContent=u,f=k(),d=b("br"),g=k(),m=b("div"),Je(_.$$.fragment),this.h()},l(E){t=w(E,"DIV",{});var P=S(t);n=w(P,"DIV",{style:!0,"data-svelte-h":!0}),fe(n)!=="svelte-184a9eb"&&(n.innerHTML=l),i=R(P),r=w(P,"DIV",{});var D=S(r);o=w(D,"INPUT",{type:!0,id:!0,name:!0}),s=R(D),a=w(D,"LABEL",{for:!0,"data-svelte-h":!0}),fe(a)!=="svelte-a2yfu0"&&(a.textContent=u),D.forEach(p),f=R(P),d=w(P,"BR",{}),g=R(P),m=w(P,"DIV",{style:!0});var T=S(m);xe(_.$$.fragment,T),T.forEach(p),P.forEach(p),this.h()},h(){O(n,"margin-bottom","10px"),O(n,"border-bottom","1px solid grey"),O(n,"padding-bottom","20px"),h(o,"type","checkbox"),h(o,"id","inputFilterSignif"),h(o,"name","inputFilterSignif"),h(a,"for","inputFilterSignif"),O(m,"min-height","900px")},m(E,P){A(E,t,P),c(t,n),c(t,i),c(t,r),c(r,o),o.checked=e[0],c(r,s),c(r,a),c(t,f),c(t,d),c(t,g),c(t,m),Qe(_,m,null),v=!0,y||(C=ie(o,"change",e[6]),y=!0)},p(E,[P]){P&1&&(o.checked=E[0]);const D={};P&2&&(D.tableData=E[1]),_.$set(D)},i(E){v||(oe(_.$$.fragment,E),v=!0)},o(E){ce(_.$$.fragment,E),v=!1},d(E){E&&p(t),$e(_),y=!1,C()}}}function Yg(e,t,n){let l,i;Dt(e,un,f=>n(5,i=f));let{selectedSourceIndex:r=0}=t,o=!0;const s={id:"pvalue",desc:!1},a=[{accessorKey:"name",header:()=>"gene set name",size:500},{accessorKey:"ngenes",header:()=>"#genes",size:70},{accessorKey:"ngenes_signif",header:()=>"#signif",size:70},{accessorKey:"pvalue",header:()=>"p-value",cell:f=>ji(f.getValue()),size:80},{accessorKey:"pvalue_adjust",header:()=>"adj. p-value",cell:f=>ji(f.getValue()),size:80},{accessorKey:"signif",header:()=>"signif",size:60},{accessorKey:"score_type",header:()=>"score type",cell:f=>f.getValue().replace("effectsize_","ES "),size:70}];function u(){o=this.checked,n(0,o)}return e.$$set=f=>{"selectedSourceIndex"in f&&n(4,r=f.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty&49&&n(1,l=i&&i.genesets&&i.genesets[r].genesets.filter(f=>o===!1||f.signif===!0)||[])},[o,l,s,a,r,i,u]}class Kg extends Zt{constructor(t){super(),tn(this,t,Yg,Wg,en,{selectedSourceIndex:4})}}function Vs(e){return Object.prototype.toString.call(e)==="[object Date]"}function $r(e,t,n,l){if(typeof n=="number"||Vs(n)){const i=l-n,r=(n-t)/(e.dt||1/60),o=e.opts.stiffness*i,s=e.opts.damping*r,a=(o-s)*e.inv_mass,u=(r+a)*e.dt;return Math.abs(u)<e.opts.precision&&Math.abs(i)<e.opts.precision?l:(e.settled=!1,Vs(n)?new Date(n.getTime()+u):n+u)}else{if(Array.isArray(n))return n.map((i,r)=>$r(e,t[r],n[r],l[r]));if(typeof n=="object"){const i={};for(const r in n)i[r]=$r(e,t[r],n[r],l[r]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function Zg(e,t={}){const n=gn(e),{stiffness:l=.15,damping:i=.8,precision:r=.01}=t;let o,s,a,u=e,f=e,d=1,g=0,m=!1;function _(y,C={}){f=y;const E=a={};return e==null||C.hard||v.stiffness>=1&&v.damping>=1?(m=!0,o=ss(),u=y,n.set(e=f),Promise.resolve()):(C.soft&&(g=1/((C.soft===!0?.5:+C.soft)*60),d=0),s||(o=ss(),m=!1,s=hd(P=>{if(m)return m=!1,s=null,!1;d=Math.min(d+g,1);const D={inv_mass:d,opts:v,settled:!0,dt:(P-o)*60/1e3},T=$r(D,u,e,f);return o=P,u=e,n.set(e=T),D.settled&&(s=null),!D.settled})),new Promise(P=>{s.promise.then(()=>{E===a&&P()})}))}const v={set:_,update:(y,C)=>_(y(f,e),C),subscribe:n.subscribe,stiffness:l,damping:i,precision:r};return v}function Ps(e,t,n){const l=e.slice();return l[37]=t[n],l[39]=n,l}function zs(e){let t,n,l,i,r=(e[6]==="label"||e[7]==="label")&&Fs(e);return{c(){t=b("span"),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0,style:!0});var s=S(t);r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pip first"),h(t,"style",n=e[14]+": 0%;"),te(t,"selected",e[18](e[0])),te(t,"in-range",e[17](e[0]))},m(o,s){A(o,t,s),r&&r.m(t,null),l||(i=[ie(t,"pointerdown",e[30]),ie(t,"pointerup",e[31])],l=!0)},p(o,s){o[6]==="label"||o[7]==="label"?r?r.p(o,s):(r=Fs(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null),s[0]&16384&&n!==(n=o[14]+": 0%;")&&h(t,"style",n),s[0]&262145&&te(t,"selected",o[18](o[0])),s[0]&131073&&te(t,"in-range",o[17](o[0]))},d(o){o&&p(t),r&&r.d(),l=!1,Kt(i)}}}function Fs(e){let t,n=e[12](e[16](e[0]),0,0)+"",l,i=e[10]&&Gs(e),r=e[11]&&Os(e);return{c(){t=b("span"),i&&i.c(),l=X(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=W(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pipVal")},m(o,s){A(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=Gs(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&69633&&n!==(n=o[12](o[16](o[0]),0,0)+"")&&Ve(l,n),o[11]?r?r.p(o,s):(r=Os(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function Gs(e){let t,n;return{c(){t=b("span"),n=X(e[10]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=W(i,e[10]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-prefix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&1024&&Ve(n,l[10])},d(l){l&&p(t)}}}function Os(e){let t,n;return{c(){t=b("span"),n=X(e[11]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=W(i,e[11]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-suffix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&2048&&Ve(n,l[11])},d(l){l&&p(t)}}}function Hs(e){let t,n=me(Array(e[20]+1)),l=[];for(let i=0;i<n.length;i+=1)l[i]=qs(Ps(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=He()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=He()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r[0]&8314435){n=me(Array(i[20]+1));let o;for(o=0;o<n.length;o+=1){const s=Ps(i,n,o);l[o]?l[o].p(s,r):(l[o]=qs(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),ot(l,i)}}}function Ls(e){let t,n,l,i,r,o=(e[6]==="label"||e[9]==="label")&&Ns(e);function s(...a){return e[33](e[39],...a)}return{c(){t=b("span"),o&&o.c(),n=k(),this.h()},l(a){t=w(a,"SPAN",{class:!0,style:!0});var u=S(t);o&&o.l(u),n=R(u),u.forEach(p),this.h()},h(){h(t,"class","pip"),h(t,"style",l=e[14]+": "+e[15](e[19](e[39]))+"%;"),te(t,"selected",e[18](e[19](e[39]))),te(t,"in-range",e[17](e[19](e[39])))},m(a,u){A(a,t,u),o&&o.m(t,null),c(t,n),i||(r=[ie(t,"pointerdown",e[32]),ie(t,"pointerup",s)],i=!0)},p(a,u){e=a,e[6]==="label"||e[9]==="label"?o?o.p(e,u):(o=Ns(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),u[0]&573440&&l!==(l=e[14]+": "+e[15](e[19](e[39]))+"%;")&&h(t,"style",l),u[0]&786432&&te(t,"selected",e[18](e[19](e[39]))),u[0]&655360&&te(t,"in-range",e[17](e[19](e[39])))},d(a){a&&p(t),o&&o.d(),i=!1,Kt(r)}}}function Ns(e){let t,n=e[12](e[19](e[39]),e[39],e[15](e[19](e[39])))+"",l,i=e[10]&&Bs(e),r=e[11]&&js(e);return{c(){t=b("span"),i&&i.c(),l=X(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=W(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pipVal")},m(o,s){A(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=Bs(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&561152&&n!==(n=o[12](o[19](o[39]),o[39],o[15](o[19](o[39])))+"")&&Ve(l,n),o[11]?r?r.p(o,s):(r=js(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function Bs(e){let t,n;return{c(){t=b("span"),n=X(e[10]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=W(i,e[10]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-prefix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&1024&&Ve(n,l[10])},d(l){l&&p(t)}}}function js(e){let t,n;return{c(){t=b("span"),n=X(e[11]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=W(i,e[11]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-suffix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&2048&&Ve(n,l[11])},d(l){l&&p(t)}}}function qs(e){let t=e[19](e[39])!==e[0]&&e[19](e[39])!==e[1],n,l=t&&Ls(e);return{c(){l&&l.c(),n=He()},l(i){l&&l.l(i),n=He()},m(i,r){l&&l.m(i,r),A(i,n,r)},p(i,r){r[0]&524291&&(t=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),t?l?l.p(i,r):(l=Ls(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){i&&p(n),l&&l.d(i)}}}function Us(e){let t,n,l,i,r=(e[6]==="label"||e[8]==="label")&&Xs(e);return{c(){t=b("span"),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0,style:!0});var s=S(t);r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pip last"),h(t,"style",n=e[14]+": 100%;"),te(t,"selected",e[18](e[1])),te(t,"in-range",e[17](e[1]))},m(o,s){A(o,t,s),r&&r.m(t,null),l||(i=[ie(t,"pointerdown",e[34]),ie(t,"pointerup",e[35])],l=!0)},p(o,s){o[6]==="label"||o[8]==="label"?r?r.p(o,s):(r=Xs(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null),s[0]&16384&&n!==(n=o[14]+": 100%;")&&h(t,"style",n),s[0]&262146&&te(t,"selected",o[18](o[1])),s[0]&131074&&te(t,"in-range",o[17](o[1]))},d(o){o&&p(t),r&&r.d(),l=!1,Kt(i)}}}function Xs(e){let t,n=e[12](e[16](e[1]),e[20],100)+"",l,i=e[10]&&Ws(e),r=e[11]&&Ys(e);return{c(){t=b("span"),i&&i.c(),l=X(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=W(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pipVal")},m(o,s){A(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=Ws(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&1118210&&n!==(n=o[12](o[16](o[1]),o[20],100)+"")&&Ve(l,n),o[11]?r?r.p(o,s):(r=Ys(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function Ws(e){let t,n;return{c(){t=b("span"),n=X(e[10]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=W(i,e[10]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-prefix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&1024&&Ve(n,l[10])},d(l){l&&p(t)}}}function Ys(e){let t,n;return{c(){t=b("span"),n=X(e[11]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=W(i,e[11]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-suffix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&2048&&Ve(n,l[11])},d(l){l&&p(t)}}}function Jg(e){let t,n,l,i=(e[6]&&e[7]!==!1||e[7])&&zs(e),r=(e[6]&&e[9]!==!1||e[9])&&Hs(e),o=(e[6]&&e[8]!==!1||e[8])&&Us(e);return{c(){t=b("div"),i&&i.c(),n=k(),r&&r.c(),l=k(),o&&o.c(),this.h()},l(s){t=w(s,"DIV",{class:!0});var a=S(t);i&&i.l(a),n=R(a),r&&r.l(a),l=R(a),o&&o.l(a),a.forEach(p),this.h()},h(){h(t,"class","rangePips"),te(t,"disabled",e[5]),te(t,"hoverable",e[4]),te(t,"vertical",e[2]),te(t,"reversed",e[3]),te(t,"focus",e[13])},m(s,a){A(s,t,a),i&&i.m(t,null),c(t,n),r&&r.m(t,null),c(t,l),o&&o.m(t,null)},p(s,a){s[6]&&s[7]!==!1||s[7]?i?i.p(s,a):(i=zs(s),i.c(),i.m(t,n)):i&&(i.d(1),i=null),s[6]&&s[9]!==!1||s[9]?r?r.p(s,a):(r=Hs(s),r.c(),r.m(t,l)):r&&(r.d(1),r=null),s[6]&&s[8]!==!1||s[8]?o?o.p(s,a):(o=Us(s),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a[0]&32&&te(t,"disabled",s[5]),a[0]&16&&te(t,"hoverable",s[4]),a[0]&4&&te(t,"vertical",s[2]),a[0]&8&&te(t,"reversed",s[3]),a[0]&8192&&te(t,"focus",s[13])},i:ut,o:ut,d(s){s&&p(t),i&&i.d(),r&&r.d(),o&&o.d()}}}function Qg(e,t,n){let l,i,r,o,s,{range:a=!1}=t,{min:u=0}=t,{max:f=100}=t,{step:d=1}=t,{values:g=[(f+u)/2]}=t,{vertical:m=!1}=t,{reversed:_=!1}=t,{hoverable:v=!0}=t,{disabled:y=!1}=t,{pipstep:C=void 0}=t,{all:E=!0}=t,{first:P=void 0}=t,{last:D=void 0}=t,{rest:T=void 0}=t,{prefix:M=""}=t,{suffix:q=""}=t,{formatter:V=(F,de)=>F}=t,{focus:N=void 0}=t,{orientationStart:z=void 0}=t,{percentOf:H=void 0}=t,{moveHandle:G=void 0}=t,{fixFloat:B=void 0}=t,{normalisedClient:Y=void 0}=t,le;function Ce(F){F=Y(F),le={x:F.clientX,y:F.clientY}}function ve(F,de){if(de=Y(de),!y){const x=Math.sqrt(Math.pow(le.x-de.clientX,2)+Math.pow(le.y-de.clientY,2));le&&x<=5&&G(void 0,F)}}const j=F=>{Ce(F)},pe=F=>{ve(r(u),F)},se=F=>{Ce(F)},we=(F,de)=>{ve(r(F),de)},ye=F=>{Ce(F)},ue=F=>{ve(r(f),F)};return e.$$set=F=>{"range"in F&&n(23,a=F.range),"min"in F&&n(0,u=F.min),"max"in F&&n(1,f=F.max),"step"in F&&n(24,d=F.step),"values"in F&&n(25,g=F.values),"vertical"in F&&n(2,m=F.vertical),"reversed"in F&&n(3,_=F.reversed),"hoverable"in F&&n(4,v=F.hoverable),"disabled"in F&&n(5,y=F.disabled),"pipstep"in F&&n(26,C=F.pipstep),"all"in F&&n(6,E=F.all),"first"in F&&n(7,P=F.first),"last"in F&&n(8,D=F.last),"rest"in F&&n(9,T=F.rest),"prefix"in F&&n(10,M=F.prefix),"suffix"in F&&n(11,q=F.suffix),"formatter"in F&&n(12,V=F.formatter),"focus"in F&&n(13,N=F.focus),"orientationStart"in F&&n(14,z=F.orientationStart),"percentOf"in F&&n(15,H=F.percentOf),"moveHandle"in F&&n(27,G=F.moveHandle),"fixFloat"in F&&n(16,B=F.fixFloat),"normalisedClient"in F&&n(28,Y=F.normalisedClient)},e.$$.update=()=>{e.$$.dirty[0]&83886087&&n(29,l=C||((f-u)/d>=(m?50:100)?(f-u)/(m?10:20):1)),e.$$.dirty[0]&553648131&&n(20,i=parseInt((f-u)/(d*l),10)),e.$$.dirty[0]&553713665&&n(19,r=function(F){return B(u+F*d*l)}),e.$$.dirty[0]&33619968&&n(18,o=function(F){return g.some(de=>B(de)===B(F))}),e.$$.dirty[0]&41943040&&n(17,s=function(F){if(a==="min")return g[0]>F;if(a==="max")return g[0]<F;if(a)return g[0]<F&&g[1]>F})},[u,f,m,_,v,y,E,P,D,T,M,q,V,N,z,H,B,s,o,r,i,Ce,ve,a,d,g,C,G,Y,l,j,pe,se,we,ye,ue]}class $g extends Zt{constructor(t){super(),tn(this,t,Qg,Jg,en,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function Ks(e,t,n){const l=e.slice();return l[65]=t[n],l[67]=n,l}function Zs(e){let t,n=e[21](e[65],e[67],e[24](e[65]))+"",l,i=e[18]&&Js(e),r=e[19]&&Qs(e);return{c(){t=b("span"),i&&i.c(),l=X(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=W(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","rangeFloat")},m(o,s){A(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[18]?i?i.p(o,s):(i=Js(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&18874369&&n!==(n=o[21](o[65],o[67],o[24](o[65]))+"")&&Ve(l,n),o[19]?r?r.p(o,s):(r=Qs(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function Js(e){let t,n;return{c(){t=b("span"),n=X(e[18]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=W(i,e[18]),i.forEach(p),this.h()},h(){h(t,"class","rangeFloat-prefix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&262144&&Ve(n,l[18])},d(l){l&&p(t)}}}function Qs(e){let t,n;return{c(){t=b("span"),n=X(e[19]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=W(i,e[19]),i.forEach(p),this.h()},h(){h(t,"class","rangeFloat-suffix")},m(l,i){A(l,t,i),c(t,n)},p(l,i){i[0]&524288&&Ve(n,l[19])},d(l){l&&p(t)}}}function $s(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_=e[7]&&Zs(e);return{c(){t=b("span"),n=b("span"),l=k(),_&&_.c(),this.h()},l(v){t=w(v,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var y=S(t);n=w(y,"SPAN",{class:!0}),S(n).forEach(p),l=R(y),_&&_.l(y),y.forEach(p),this.h()},h(){h(n,"class","rangeNub"),h(t,"role","slider"),h(t,"class","rangeHandle"),h(t,"data-handle",e[67]),h(t,"style",i=e[29]+": "+e[30][e[67]]+"%; z-index: "+(e[27]===e[67]?3:2)+";"),h(t,"aria-label",r=e[22][e[67]]),h(t,"aria-valuemin",o=e[2]===!0&&e[67]===1?e[0][0]:e[3]),h(t,"aria-valuemax",s=e[2]===!0&&e[67]===0?e[0][1]:e[4]),h(t,"aria-valuenow",a=e[65]),h(t,"aria-valuetext",u=""+(e[18]+e[21](e[65],e[67],e[24](e[65]))+e[19])),h(t,"aria-orientation",f=e[6]?"vertical":"horizontal"),h(t,"aria-disabled",e[10]),h(t,"disabled",e[10]),h(t,"tabindex",d=e[10]?-1:0),te(t,"active",e[25]&&e[27]===e[67]),te(t,"press",e[26]&&e[27]===e[67])},m(v,y){A(v,t,y),c(t,n),c(t,l),_&&_.m(t,null),g||(m=[ie(t,"blur",e[35]),ie(t,"focus",e[36]),ie(t,"keydown",e[37])],g=!0)},p(v,y){v[7]?_?_.p(v,y):(_=Zs(v),_.c(),_.m(t,null)):_&&(_.d(1),_=null),y[0]&1744830464&&i!==(i=v[29]+": "+v[30][v[67]]+"%; z-index: "+(v[27]===v[67]?3:2)+";")&&h(t,"style",i),y[0]&4194304&&r!==(r=v[22][v[67]])&&h(t,"aria-label",r),y[0]&13&&o!==(o=v[2]===!0&&v[67]===1?v[0][0]:v[3])&&h(t,"aria-valuemin",o),y[0]&21&&s!==(s=v[2]===!0&&v[67]===0?v[0][1]:v[4])&&h(t,"aria-valuemax",s),y[0]&1&&a!==(a=v[65])&&h(t,"aria-valuenow",a),y[0]&19660801&&u!==(u=""+(v[18]+v[21](v[65],v[67],v[24](v[65]))+v[19]))&&h(t,"aria-valuetext",u),y[0]&64&&f!==(f=v[6]?"vertical":"horizontal")&&h(t,"aria-orientation",f),y[0]&1024&&h(t,"aria-disabled",v[10]),y[0]&1024&&h(t,"disabled",v[10]),y[0]&1024&&d!==(d=v[10]?-1:0)&&h(t,"tabindex",d),y[0]&167772160&&te(t,"active",v[25]&&v[27]===v[67]),y[0]&201326592&&te(t,"press",v[26]&&v[27]===v[67])},d(v){v&&p(t),_&&_.d(),g=!1,Kt(m)}}}function xs(e){let t,n;return{c(){t=b("span"),this.h()},l(l){t=w(l,"SPAN",{class:!0,style:!0}),S(t).forEach(p),this.h()},h(){h(t,"class","rangeBar"),h(t,"style",n=e[29]+": "+e[33](e[30])+"%; "+e[28]+": "+e[34](e[30])+"%;")},m(l,i){A(l,t,i)},p(l,i){i[0]&1879048192&&n!==(n=l[29]+": "+l[33](l[30])+"%; "+l[28]+": "+l[34](l[30])+"%;")&&h(t,"style",n)},d(l){l&&p(t)}}}function ea(e){let t,n;return t=new $g({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[29],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[25],percentOf:e[24],moveHandle:e[32],fixFloat:e[31],normalisedClient:Ni}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&1&&(r.values=l[0]),i[0]&8&&(r.min=l[3]),i[0]&16&&(r.max=l[4]),i[0]&32&&(r.step=l[5]),i[0]&4&&(r.range=l[2]),i[0]&64&&(r.vertical=l[6]),i[0]&256&&(r.reversed=l[8]),i[0]&536870912&&(r.orientationStart=l[29]),i[0]&512&&(r.hoverable=l[9]),i[0]&1024&&(r.disabled=l[10]),i[0]&8192&&(r.all=l[13]),i[0]&16384&&(r.first=l[14]),i[0]&32768&&(r.last=l[15]),i[0]&65536&&(r.rest=l[16]),i[0]&4096&&(r.pipstep=l[12]),i[0]&262144&&(r.prefix=l[18]),i[0]&524288&&(r.suffix=l[19]),i[0]&1048576&&(r.formatter=l[20]),i[0]&33554432&&(r.focus=l[25]),i[0]&16777216&&(r.percentOf=l[24]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function xg(e){let t,n,l,i,r,o,s=me(e[0]),a=[];for(let d=0;d<s.length;d+=1)a[d]=$s(Ks(e,s,d));let u=e[2]&&xs(e),f=e[11]&&ea(e);return{c(){t=b("div");for(let d=0;d<a.length;d+=1)a[d].c();n=k(),u&&u.c(),l=k(),f&&f.c(),this.h()},l(d){t=w(d,"DIV",{id:!0,class:!0});var g=S(t);for(let m=0;m<a.length;m+=1)a[m].l(g);n=R(g),u&&u.l(g),l=R(g),f&&f.l(g),g.forEach(p),this.h()},h(){h(t,"id",e[17]),h(t,"class","rangeSlider"),te(t,"range",e[2]),te(t,"disabled",e[10]),te(t,"hoverable",e[9]),te(t,"vertical",e[6]),te(t,"reversed",e[8]),te(t,"focus",e[25]),te(t,"min",e[2]==="min"),te(t,"max",e[2]==="max"),te(t,"pips",e[11]),te(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(d,g){A(d,t,g);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(t,null);c(t,n),u&&u.m(t,null),c(t,l),f&&f.m(t,null),e[51](t),i=!0,r||(o=[ie(window,"mousedown",e[40]),ie(window,"touchstart",e[40]),ie(window,"mousemove",e[41]),ie(window,"touchmove",e[41]),ie(window,"mouseup",e[42]),ie(window,"touchend",e[43]),ie(window,"keydown",e[44]),ie(t,"mousedown",e[38]),ie(t,"mouseup",e[39]),ie(t,"touchstart",es(e[38])),ie(t,"touchend",es(e[39]))],r=!0)},p(d,g){if(g[0]&1869350109|g[1]&112){s=me(d[0]);let m;for(m=0;m<s.length;m+=1){const _=Ks(d,s,m);a[m]?a[m].p(_,g):(a[m]=$s(_),a[m].c(),a[m].m(t,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=s.length}d[2]?u?u.p(d,g):(u=xs(d),u.c(),u.m(t,l)):u&&(u.d(1),u=null),d[11]?f?(f.p(d,g),g[0]&2048&&oe(f,1)):(f=ea(d),f.c(),oe(f,1),f.m(t,null)):f&&(Ot(),ce(f,1,1,()=>{f=null}),Ht()),(!i||g[0]&131072)&&h(t,"id",d[17]),(!i||g[0]&4)&&te(t,"range",d[2]),(!i||g[0]&1024)&&te(t,"disabled",d[10]),(!i||g[0]&512)&&te(t,"hoverable",d[9]),(!i||g[0]&64)&&te(t,"vertical",d[6]),(!i||g[0]&256)&&te(t,"reversed",d[8]),(!i||g[0]&33554432)&&te(t,"focus",d[25]),(!i||g[0]&4)&&te(t,"min",d[2]==="min"),(!i||g[0]&4)&&te(t,"max",d[2]==="max"),(!i||g[0]&2048)&&te(t,"pips",d[11]),(!i||g[0]&122880)&&te(t,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(oe(f),i=!0)},o(d){ce(f),i=!1},d(d){d&&p(t),ot(a,d),u&&u.d(),f&&f.d(),e[51](null),r=!1,Kt(o)}}}function ta(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function Ni(e){return e.type.includes("touch")?e.touches[0]||e.changedTouches[0]:e}function eh(e,t,n){let l,i,r,o,s,a,u=ut,f=()=>(u(),u=Of(Ye,I=>n(30,a=I)),Ye);e.$$.on_destroy.push(()=>u());let{slider:d=void 0}=t,{range:g=!1}=t,{pushy:m=!1}=t,{min:_=0}=t,{max:v=100}=t,{step:y=1}=t,{values:C=[(v+_)/2]}=t,{vertical:E=!1}=t,{float:P=!1}=t,{reversed:D=!1}=t,{hoverable:T=!0}=t,{disabled:M=!1}=t,{pips:q=!1}=t,{pipstep:V=void 0}=t,{all:N=void 0}=t,{first:z=void 0}=t,{last:H=void 0}=t,{rest:G=void 0}=t,{id:B=void 0}=t,{prefix:Y=""}=t,{suffix:le=""}=t,{formatter:Ce=(I,ee,De)=>I}=t,{handleFormatter:ve=Ce}=t,{ariaLabels:j=[]}=t,{precision:pe=2}=t,{springValues:se={stiffness:.15,damping:.4}}=t;const we=Gf();let ye=0,ue=!1,F=!1,de=!1,x=!1,Ie=C.length-1,be,Xe,Ye;const Be=I=>parseFloat((+I).toFixed(pe));function ae(I){const ee=d.querySelectorAll(".handle"),De=Array.prototype.includes.call(ee,I),U=Array.prototype.some.call(ee,Te=>Te.contains(I));return De||U}function ct(I){return g==="min"||g==="max"?I.slice(0,1):g?I.slice(0,2):I}function Oe(){return d.getBoundingClientRect()}function Se(I){const ee=Oe();let De=0,U=0,Te=0;E?(De=I.clientY-ee.top,U=De/ee.height*100,U=D?U:100-U):(De=I.clientX-ee.left,U=De/ee.width*100,U=D?100-U:U),Te=(v-_)/100*U+_;let ne;return g===!0&&C[0]===C[1]?Te>C[1]?1:0:(ne=C.indexOf([...C].sort((Fe,Ne)=>Math.abs(Te-Fe)-Math.abs(Te-Ne))[0]),ne)}function vt(I){const ee=Oe();let De=0,U=0,Te=0;E?(De=I.clientY-ee.top,U=De/ee.height*100,U=D?U:100-U):(De=I.clientX-ee.left,U=De/ee.width*100,U=D?100-U:U),Te=(v-_)/100*U+_,J(Ie,Te)}function J(I,ee){return ee=r(ee),typeof I>"u"&&(I=Ie),g&&(I===0&&ee>C[1]?m?n(0,C[1]=ee,C):ee=C[1]:I===1&&ee<C[0]&&(m?n(0,C[0]=ee,C):ee=C[0])),C[I]!==ee&&n(0,C[I]=ee,C),Xe!==ee&&(lt(),Xe=ee),ee}function he(I){return g==="min"?0:I[0]}function $(I){return g==="max"?0:g==="min"?100-I[0]:100-I[1]}function ge(I){x&&(n(25,ue=!1),F=!1,n(26,de=!1))}function ze(I){M||(n(27,Ie=ta(I.target)),n(25,ue=!0))}function _e(I){if(!M){const ee=ta(I.target);let De=I.ctrlKey||I.metaKey||I.shiftKey?y*10:y,U=!1;switch(I.key){case"PageDown":De*=10;case"ArrowRight":case"ArrowUp":J(ee,C[ee]+De),U=!0;break;case"PageUp":De*=10;case"ArrowLeft":case"ArrowDown":J(ee,C[ee]-De),U=!0;break;case"Home":J(ee,_),U=!0;break;case"End":J(ee,v),U=!0;break}U&&(I.preventDefault(),I.stopPropagation())}}function Le(I){if(!M){const ee=I.target,De=Ni(I);n(25,ue=!0),F=!0,n(26,de=!0),n(27,Ie=Se(De)),be=Xe=r(C[Ie]),tt(),I.type==="touchstart"&&!ee.matches(".pipVal")&&vt(De)}}function et(I){I.type==="touchend"&&ke(),n(26,de=!1)}function St(I){x=!1,ue&&I.target!==d&&!d.contains(I.target)&&n(25,ue=!1)}function Ke(I){M||F&&vt(Ni(I))}function rt(I){if(!M){const ee=I.target;F&&((ee===d||d.contains(ee))&&(n(25,ue=!0),!ae(ee)&&!ee.matches(".pipVal")&&vt(Ni(I))),ke())}F=!1,n(26,de=!1)}function dt(I){F=!1,n(26,de=!1)}function Me(I){M||(I.target===d||d.contains(I.target))&&(x=!0)}function tt(){!M&&we("start",{activeHandle:Ie,value:be,values:C.map(I=>r(I))})}function ke(){!M&&we("stop",{activeHandle:Ie,startValue:be,value:C[Ie],values:C.map(I=>r(I))})}function lt(){!M&&we("change",{activeHandle:Ie,startValue:be,previousValue:typeof Xe>"u"?be:Xe,value:C[Ie],values:C.map(I=>r(I))})}function it(I){gt[I?"unshift":"push"](()=>{d=I,n(1,d)})}return e.$$set=I=>{"slider"in I&&n(1,d=I.slider),"range"in I&&n(2,g=I.range),"pushy"in I&&n(45,m=I.pushy),"min"in I&&n(3,_=I.min),"max"in I&&n(4,v=I.max),"step"in I&&n(5,y=I.step),"values"in I&&n(0,C=I.values),"vertical"in I&&n(6,E=I.vertical),"float"in I&&n(7,P=I.float),"reversed"in I&&n(8,D=I.reversed),"hoverable"in I&&n(9,T=I.hoverable),"disabled"in I&&n(10,M=I.disabled),"pips"in I&&n(11,q=I.pips),"pipstep"in I&&n(12,V=I.pipstep),"all"in I&&n(13,N=I.all),"first"in I&&n(14,z=I.first),"last"in I&&n(15,H=I.last),"rest"in I&&n(16,G=I.rest),"id"in I&&n(17,B=I.id),"prefix"in I&&n(18,Y=I.prefix),"suffix"in I&&n(19,le=I.suffix),"formatter"in I&&n(20,Ce=I.formatter),"handleFormatter"in I&&n(21,ve=I.handleFormatter),"ariaLabels"in I&&n(22,j=I.ariaLabels),"precision"in I&&n(46,pe=I.precision),"springValues"in I&&n(47,se=I.springValues)},e.$$.update=()=>{if(e.$$.dirty[0]&24&&n(50,i=function(I){return I<=_?_:I>=v?v:I}),e.$$.dirty[0]&56|e.$$.dirty[1]&524288&&n(49,r=function(I){if(I<=_)return Be(_);if(I>=v)return Be(v);I=Be(I);let ee=(I-_)%y,De=I-ee;return Math.abs(ee)*2>=y&&(De+=ee>0?y:-y),De=i(De),Be(De)}),e.$$.dirty[0]&24&&n(24,l=function(I){let ee=(I-_)/(v-_)*100;return isNaN(ee)||ee<=0?0:ee>=100?100:Be(ee)}),e.$$.dirty[0]&29360153|e.$$.dirty[1]&458752){Array.isArray(C)||(n(0,C=[(v+_)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const I=ct(C.map(ee=>r(ee)));(C.length!==I.length||!C.every((ee,De)=>Be(ee)===I[De]))&&n(0,C=I),ye!==C.length?f(n(23,Ye=Zg(C.map(ee=>l(ee)),se))):Ye.set(C.map(ee=>l(ee))),n(48,ye=C.length),C.length>1&&!Array.isArray(j)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}e.$$.dirty[0]&320&&n(29,o=E?D?"top":"bottom":D?"right":"left"),e.$$.dirty[0]&320&&n(28,s=E?D?"bottom":"top":D?"left":"right")},[C,d,g,_,v,y,E,P,D,T,M,q,V,N,z,H,G,B,Y,le,Ce,ve,j,Ye,l,ue,de,Ie,s,o,a,Be,J,he,$,ge,ze,_e,Le,et,St,Ke,rt,dt,Me,m,pe,se,ye,r,i,it]}class jt extends Zt{constructor(t){super(),tn(this,t,eh,xg,en,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function na(e,t,n){const l=e.slice();return l[31]=t[n],l[33]=n,l}function la(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function ia(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function ra(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function oa(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function sa(e,t,n){const l=e.slice();return l[39]=t[n],l[33]=n,l}function th(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),fe(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:ut,d(l){l&&p(t)}}}function nh(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_,v,y=e[5]==="lollipop"&&Array.isArray(e[17])&&e[17].length>1,C,E=e[5]!=="lollipop"&&aa(e),P=me(e[13]),D=[];for(let G=0;G<P.length;G+=1)D[G]=ua(sa(e,P,G));let T=me(e[6]),M=[];for(let G=0;G<T.length;G+=1)M[G]=da(oa(e,T,G));let q=e[2]===!0&&ca(e);function V(G,B){return G[5]==="lollipop"?ih:lh}let N=V(e),z=N(e),H=y&&_a(e);return{c(){t=b("div"),n=qe("svg"),l=qe("g"),E&&E.c(),i=He();for(let G=0;G<D.length;G+=1)D[G].c();r=qe("g"),o=qe("path");for(let G=0;G<M.length;G+=1)M[G].c();q&&q.c(),u=qe("g"),z.c(),f=qe("g"),d=qe("text"),g=X(Sa),H&&H.c(),this.h()},l(G){t=w(G,"DIV",{id:!0});var B=S(t);n=Ue(B,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var Y=S(n);l=Ue(Y,"g",{});var le=S(l);E&&E.l(le),i=He();for(let se=0;se<D.length;se+=1)D[se].l(le);le.forEach(p),r=Ue(Y,"g",{class:!0,transform:!0});var Ce=S(r);o=Ue(Ce,"path",{stroke:!0,d:!0}),S(o).forEach(p);for(let se=0;se<M.length;se+=1)M[se].l(Ce);Ce.forEach(p),q&&q.l(Y),u=Ue(Y,"g",{});var ve=S(u);z.l(ve),ve.forEach(p),f=Ue(Y,"g",{});var j=S(f);d=Ue(j,"text",{"font-size":!0,"text-anchor":!0,"font-family":!0,x:!0,y:!0});var pe=S(d);g=W(pe,Sa),pe.forEach(p),j.forEach(p),H&&H.l(Y),Y.forEach(p),B.forEach(p),this.h()},h(){h(o,"stroke","black"),h(o,"d",s="M 0 0 H "+(e[10][1]-e[10][0])+" V 0"),h(r,"class","x-axis"),h(r,"transform",a="translate("+e[10][0]+", "+e[8][0]+")"),h(d,"font-size",m=e[4]+"px"),h(d,"text-anchor","middle"),h(d,"font-family","Arial, Helvetica, sans-serif"),h(d,"x",_=e[10][0]+(e[10][1]-e[10][0])/2),h(d,"y",v=e[11]-7),h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",e[12]),h(n,"height",e[20]),h(n,"viewBox",C="0 0 "+e[12]+" "+e[20]),h(t,"id","mybarplot")},m(G,B){A(G,t,B),c(t,n),c(n,l),E&&E.m(l,null),c(l,i);for(let Y=0;Y<D.length;Y+=1)D[Y]&&D[Y].m(l,null);c(n,r),c(r,o);for(let Y=0;Y<M.length;Y+=1)M[Y]&&M[Y].m(r,null);q&&q.m(n,null),c(n,u),z.m(u,null),c(n,f),c(f,d),c(d,g),H&&H.m(n,null)},p(G,B){if(G[5]!=="lollipop"?E?E.p(G,B):(E=aa(G),E.c(),E.m(l,i)):E&&(E.d(1),E=null),B[0]&75272){P=me(G[13]);let Y;for(Y=0;Y<P.length;Y+=1){const le=sa(G,P,Y);D[Y]?D[Y].p(le,B):(D[Y]=ua(le),D[Y].c(),D[Y].m(l,null))}for(;Y<D.length;Y+=1)D[Y].d(1);D.length=P.length}if(B[0]&1024&&s!==(s="M 0 0 H "+(G[10][1]-G[10][0])+" V 0")&&h(o,"d",s),B[0]&1224){T=me(G[6]);let Y;for(Y=0;Y<T.length;Y+=1){const le=oa(G,T,Y);M[Y]?M[Y].p(le,B):(M[Y]=da(le),M[Y].c(),M[Y].m(r,null))}for(;Y<M.length;Y+=1)M[Y].d(1);M.length=T.length}B[0]&1280&&a!==(a="translate("+G[10][0]+", "+G[8][0]+")")&&h(r,"transform",a),G[2]===!0?q?q.p(G,B):(q=ca(G),q.c(),q.m(n,u)):q&&(q.d(1),q=null),N===(N=V(G))&&z?z.p(G,B):(z.d(1),z=N(G),z&&(z.c(),z.m(u,null))),B[0]&16&&m!==(m=G[4]+"px")&&h(d,"font-size",m),B[0]&1024&&_!==(_=G[10][0]+(G[10][1]-G[10][0])/2)&&h(d,"x",_),B[0]&2048&&v!==(v=G[11]-7)&&h(d,"y",v),B[0]&131104&&(y=G[5]==="lollipop"&&Array.isArray(G[17])&&G[17].length>1),y?H?H.p(G,B):(H=_a(G),H.c(),H.m(n,null)):H&&(H.d(1),H=null),B[0]&4096&&h(n,"width",G[12]),B[0]&1048576&&h(n,"height",G[20]),B[0]&1052672&&C!==(C="0 0 "+G[12]+" "+G[20])&&h(n,"viewBox",C)},d(G){G&&p(t),E&&E.d(),ot(D,G),ot(M,G),q&&q.d(),z.d(),H&&H.d()}}}function aa(e){let t,n;return{c(){t=qe("path"),this.h()},l(l){t=Ue(l,"path",{stroke:!0,d:!0}),S(t).forEach(p),this.h()},h(){h(t,"stroke","black"),h(t,"d",n="M "+e[10][0]+" "+e[8][0]+" H "+e[10][0]+" V "+e[8][1])},m(l,i){A(l,t,i)},p(l,i){i[0]&1280&&n!==(n="M "+l[10][0]+" "+l[8][0]+" H "+l[10][0]+" V "+l[8][1])&&h(t,"d",n)},d(l){l&&p(t)}}}function ua(e){let t,n,l=e[9][e[33]]+"",i,r,o,s;return{c(){t=qe("g"),n=qe("text"),i=X(l),this.h()},l(a){t=Ue(a,"g",{});var u=S(t);n=Ue(u,"text",{"font-size":!0,"text-anchor":!0,"font-family":!0,x:!0,y:!0});var f=S(n);i=W(f,l),f.forEach(p),u.forEach(p),this.h()},h(){h(n,"font-size",r=e[3]+"px"),h(n,"text-anchor","end"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"x",o=e[10][0]+-1*ka),h(n,"y",s=e[16](e[13][e[33]])+e[16].bandwidth()/2+Ca)},m(a,u){A(a,t,u),c(t,n),c(n,i)},p(a,u){u[0]&512&&l!==(l=a[9][a[33]]+"")&&Ve(i,l),u[0]&8&&r!==(r=a[3]+"px")&&h(n,"font-size",r),u[0]&1024&&o!==(o=a[10][0]+-1*ka)&&h(n,"x",o),u[0]&73728&&s!==(s=a[16](a[13][a[33]])+a[16].bandwidth()/2+Ca)&&h(n,"y",s)},d(a){a&&p(t)}}}function fa(e){let t,n,l=e[34]+"",i,r,o;return{c(){t=qe("g"),n=qe("text"),i=X(l),this.h()},l(s){t=Ue(s,"g",{});var a=S(t);n=Ue(a,"text",{"font-size":!0,"text-anchor":!0,"font-family":!0,x:!0,y:!0});var u=S(n);i=W(u,l),u.forEach(p),a.forEach(p),this.h()},h(){h(n,"font-size",r=e[3]+"px"),h(n,"text-anchor","middle"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"x",o=e[7](e[34])-e[10][0]),h(n,"y",sh)},m(s,a){A(s,t,a),c(t,n),c(n,i)},p(s,a){a[0]&64&&l!==(l=s[34]+"")&&Ve(i,l),a[0]&8&&r!==(r=s[3]+"px")&&h(n,"font-size",r),a[0]&1216&&o!==(o=s[7](s[34])-s[10][0])&&h(n,"x",o)},d(s){s&&p(t)}}}function da(e){let t=e[7](e[34])+10<e[10][1],n,l=t&&fa(e);return{c(){l&&l.c(),n=He()},l(i){l&&l.l(i),n=He()},m(i,r){l&&l.m(i,r),A(i,n,r)},p(i,r){r[0]&1216&&(t=i[7](i[34])+10<i[10][1]),t?l?l.p(i,r):(l=fa(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){i&&p(n),l&&l.d(i)}}}function ca(e){let t,n=me(e[15]),l=[];for(let i=0;i<n.length;i+=1)l[i]=ga(ra(e,n,i));return{c(){t=qe("g");for(let i=0;i<l.length;i+=1)l[i].c()},l(i){t=Ue(i,"g",{});var r=S(t);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(p)},m(i,r){A(i,t,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null)},p(i,r){if(r[0]&106912){n=me(i[15]);let o;for(o=0;o<n.length;o+=1){const s=ra(i,n,o);l[o]?l[o].p(s,r):(l[o]=ga(s),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),ot(l,i)}}}function ga(e){let t,n;return{c(){t=qe("path"),this.h()},l(l){t=Ue(l,"path",{stroke:!0,"stroke-dasharray":!0,d:!0}),S(t).forEach(p),this.h()},h(){h(t,"stroke","grey"),h(t,"stroke-dasharray",e[33]===0?0:5),h(t,"d",n="M "+e[7](e[34])+" "+e[8][0]+" V "+(e[16](e[13][e[13].length-1])+(e[5]==="lollipop"?e[16].bandwidth()/2:0)))},m(l,i){A(l,t,i)},p(l,i){i[0]&106912&&n!==(n="M "+l[7](l[34])+" "+l[8][0]+" V "+(l[16](l[13][l[13].length-1])+(l[5]==="lollipop"?l[16].bandwidth()/2:0)))&&h(t,"d",n)},d(l){l&&p(t)}}}function lh(e){let t,n=me(e[14]),l=[];for(let i=0;i<n.length;i+=1)l[i]=ha(la(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=He()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=He()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r[0]&615554){n=me(i[14]);let o;for(o=0;o<n.length;o+=1){const s=la(i,n,o);l[o]?l[o].p(s,r):(l[o]=ha(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),ot(l,i)}}}function ih(e){let t,n=me(e[14]),l=[];for(let i=0;i<n.length;i+=1)l[i]=pa(ia(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=He()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=He()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r[0]&877698){n=me(i[14]);let o;for(o=0;o<n.length;o+=1){const s=ia(i,n,o);l[o]?l[o].p(s,r):(l[o]=pa(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),ot(l,i)}}}function ha(e){let t,n,l,i,r,o;return{c(){t=qe("rect"),this.h()},l(s){t=Ue(s,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),S(t).forEach(p),this.h()},h(){h(t,"x",n=e[10][0]+5),h(t,"y",l=e[16](e[13][e[33]])),h(t,"width",i=e[7](e[34])-e[10][0]-5),h(t,"height",r=e[16].bandwidth()),h(t,"fill",o=e[1][e[19][e[33]]]||"#000000")},m(s,a){A(s,t,a)},p(s,a){a[0]&1024&&n!==(n=s[10][0]+5)&&h(t,"x",n),a[0]&73728&&l!==(l=s[16](s[13][s[33]]))&&h(t,"y",l),a[0]&17536&&i!==(i=s[7](s[34])-s[10][0]-5)&&h(t,"width",i),a[0]&65536&&r!==(r=s[16].bandwidth())&&h(t,"height",r),a[0]&524290&&o!==(o=s[1][s[19][s[33]]]||"#000000")&&h(t,"fill",o)},d(s){s&&p(t)}}}function pa(e){let t,n,l,i,r,o,s;return{c(){t=qe("path"),l=qe("circle"),this.h()},l(a){t=Ue(a,"path",{stroke:!0,"shape-rendering":!0,"stroke-width":!0,"stroke-miterlimit":!0,d:!0}),S(t).forEach(p),l=Ue(a,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),S(l).forEach(p),this.h()},h(){h(t,"stroke","black"),h(t,"shape-rendering","crispEdges"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"d",n="M "+e[10][0]+" "+(e[16](e[13][e[33]])+e[16].bandwidth()/2)+" H "+e[7](e[34])+" V "+(e[16](e[13][e[33]])+e[16].bandwidth()/2)),h(l,"cx",i=e[7](e[34])),h(l,"cy",r=e[16](e[13][e[33]])+e[16].bandwidth()/2),h(l,"fill",o=e[1][e[19][e[33]]]||"#000000"),h(l,"r",s=e[18][e[33]])},m(a,u){A(a,t,u),A(a,l,u)},p(a,u){u[0]&91264&&n!==(n="M "+a[10][0]+" "+(a[16](a[13][a[33]])+a[16].bandwidth()/2)+" H "+a[7](a[34])+" V "+(a[16](a[13][a[33]])+a[16].bandwidth()/2))&&h(t,"d",n),u[0]&16512&&i!==(i=a[7](a[34]))&&h(l,"cx",i),u[0]&73728&&r!==(r=a[16](a[13][a[33]])+a[16].bandwidth()/2)&&h(l,"cy",r),u[0]&524290&&o!==(o=a[1][a[19][a[33]]]||"#000000")&&h(l,"fill",o),u[0]&262144&&s!==(s=a[18][a[33]])&&h(l,"r",s)},d(a){a&&(p(t),p(l))}}}function _a(e){let t,n,l,i,r,o,s=me(e[17]),a=[];for(let u=0;u<s.length;u+=1)a[u]=ma(na(e,s,u));return{c(){t=qe("g"),n=qe("text"),l=X(`Geneset size:\r
					`);for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){t=Ue(u,"g",{});var f=S(t);n=Ue(f,"text",{"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,x:!0,y:!0});var d=S(n);l=W(d,`Geneset size:\r
					`),d.forEach(p);for(let g=0;g<a.length;g+=1)a[g].l(f);f.forEach(p),this.h()},h(){h(n,"font-size",i=e[3]+"px"),h(n,"text-anchor","end"),h(n,"dominant-baseline","middle"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"x",r=e[10][1]-e[17][e[17].length-1].xEnd-e[17][0].radius-e[3]/2),h(n,"y",o=e[11]+e[4])},m(u,f){A(u,t,f),c(t,n),c(n,l);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(t,null)},p(u,f){if(f[0]&8&&i!==(i=u[3]+"px")&&h(n,"font-size",i),f[0]&132104&&r!==(r=u[10][1]-u[17][u[17].length-1].xEnd-u[17][0].radius-u[3]/2)&&h(n,"x",r),f[0]&2064&&o!==(o=u[11]+u[4])&&h(n,"y",o),f[0]&134168){s=me(u[17]);let d;for(d=0;d<s.length;d+=1){const g=na(u,s,d);a[d]?a[d].p(g,f):(a[d]=ma(g),a[d].c(),a[d].m(t,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=s.length}},d(u){u&&p(t),ot(a,u)}}}function ma(e){let t,n,l,i,r,o=e[31].label+"",s,a,u,f;return{c(){t=qe("circle"),r=qe("text"),s=X(o),this.h()},l(d){t=Ue(d,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),S(t).forEach(p),r=Ue(d,"text",{"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,x:!0,y:!0});var g=S(r);s=W(g,o),g.forEach(p),this.h()},h(){h(t,"cx",n=e[10][1]-e[17][e[17].length-1].xEnd+e[31].x),h(t,"cy",l=e[11]+e[4]-2),h(t,"fill","#666666"),h(t,"r",i=e[31].radius),h(r,"font-size",a=e[3]+"px"),h(r,"text-anchor","begin"),h(r,"dominant-baseline","middle"),h(r,"font-family","Arial, Helvetica, sans-serif"),h(r,"x",u=e[10][1]-e[17][e[17].length-1].xEnd+e[31].xText),h(r,"y",f=e[11]+e[4])},m(d,g){A(d,t,g),A(d,r,g),c(r,s)},p(d,g){g[0]&132096&&n!==(n=d[10][1]-d[17][d[17].length-1].xEnd+d[31].x)&&h(t,"cx",n),g[0]&2064&&l!==(l=d[11]+d[4]-2)&&h(t,"cy",l),g[0]&131072&&i!==(i=d[31].radius)&&h(t,"r",i),g[0]&131072&&o!==(o=d[31].label+"")&&Ve(s,o),g[0]&8&&a!==(a=d[3]+"px")&&h(r,"font-size",a),g[0]&132096&&u!==(u=d[10][1]-d[17][d[17].length-1].xEnd+d[31].xText)&&h(r,"x",u),g[0]&2064&&f!==(f=d[11]+d[4])&&h(r,"y",f)},d(d){d&&(p(t),p(r))}}}function rh(e){let t,n;function l(o,s){return s[0]&1&&(t=null),t==null&&(t=!!(Array.isArray(o[0])&&o[0].length>0)),t?nh:th}let i=l(e,[-1,-1]),r=i(e);return{c(){r.c(),n=He()},l(o){r.l(o),n=He()},m(o,s){r.m(o,s),A(o,n,s)},p(o,s){i===(i=l(o,s))&&r?r.p(o,s):(r.d(1),r=i(o),r&&(r.c(),r.m(n.parentNode,n)))},i:ut,o:ut,d(o){o&&p(n),r.d(o)}}}const va=20,ba=40,wa=50,ya=500,oh=.2,Sa="-log10 adjusted p-value",Ca=4,ka=5,sh=20,ah=100;function uh(e,t,n){let l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,E,P;function D(j,pe,se,we,ye,ue){let F=xu(0,pe,se).filter(be=>be>j);F.unshift(j);const de=F.map(be=>({label:be,radius:ve(be,we,ue),labelWidth:pi(be,ye+"px sans-serif"),x:0,xText:0})),x=de.length;let Ie=0;for(let be=0;be<x;be++)de[be].x=Math.round(Ie),Ie+=de[be].radius+Math.max(4,ue/6),de[be].xText=Math.round(Ie),Ie+=de[be].labelWidth+Math.max(8,ue/2)+(be!==x-1?de[be].radius:0),de[be].xEnd=Ie;return de}let{selectedSourceIndex:T=0}=t,{barplotData:M=[]}=t,{maxGenesetSize:q=100}=t,{colors:V={}}=t,{widthPlotArea:N=300}=t,{xScalefactor:z=5}=t,{showGrid:H=!0}=t,{barHeight:G=20}=t,{textSize:B=16}=t,{labelSize:Y=22}=t,{topn:le=0}=t,{barplotType:Ce="lollipop"}=t;const ve=(j,pe,se)=>se/2*(Math.sqrt(j-10)/Math.sqrt(pe-10)*.8+.4);return e.$$set=j=>{"selectedSourceIndex"in j&&n(21,T=j.selectedSourceIndex),"barplotData"in j&&n(0,M=j.barplotData),"maxGenesetSize"in j&&n(22,q=j.maxGenesetSize),"colors"in j&&n(1,V=j.colors),"widthPlotArea"in j&&n(23,N=j.widthPlotArea),"xScalefactor"in j&&n(24,z=j.xScalefactor),"showGrid"in j&&n(2,H=j.showGrid),"barHeight"in j&&n(25,G=j.barHeight),"textSize"in j&&n(3,B=j.textSize),"labelSize"in j&&n(4,Y=j.labelSize),"topn"in j&&n(26,le=j.topn),"barplotType"in j&&n(5,Ce=j.barplotType)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&n(12,l=N+ya+ba),e.$$.dirty[0]&33554433&&n(11,i=wa+va+M.length*G),e.$$.dirty[0]&2080&&n(20,r=i+(Ce==="lollipop"?ah:0)),e.$$.dirty[0]&1&&n(28,o=M),e.$$.dirty[0]&268435456&&n(14,s=o.map(j=>j.value)),e.$$.dirty[0]&268435456&&n(13,a=o.map(j=>j.name)),e.$$.dirty[0]&268435456&&n(19,u=o.map(j=>j.score_type)),e.$$.dirty[0]&306184192&&n(18,f=o.map(j=>ve(j.ngenes,q,G))),e.$$.dirty[0]&37748744&&n(17,d=D(10,q,5,q,B,G)),e.$$.dirty[0]&16384&&n(27,g=[0,Math.max(...s)]),e.$$.dirty[0]&8192&&n(9,m=a),e.$$.dirty[0]&4096&&n(10,_=[ya,l-ba]),e.$$.dirty[0]&2048&&n(8,v=[i-wa,va]),e.$$.dirty[0]&134218752&&n(7,y=af(g,_).nice()),e.$$.dirty[0]&768&&n(16,C=sf(m,v).padding(oh)),e.$$.dirty[0]&16777344&&n(6,E=y.ticks(z)),e.$$.dirty[0]&134217792&&n(15,P=E.filter(j=>j<g[1]*.9))},[M,V,H,B,Y,Ce,E,y,v,m,_,i,l,a,s,P,C,d,f,u,r,T,q,N,z,G,le,g,o]}class fh extends Zt{constructor(t){super(),tn(this,t,uh,rh,en,{selectedSourceIndex:21,barplotData:0,maxGenesetSize:22,colors:1,widthPlotArea:23,xScalefactor:24,showGrid:2,barHeight:25,textSize:3,labelSize:4,topn:26,barplotType:5},null,[-1,-1])}}function Ra(e,t,n){const l=e.slice();return l[17]=t[n],l[19]=n,l}function Ea(e,t,n){const l=e.slice();return l[20]=t[n],l[22]=n,l}function Aa(e){let t,n,l,i,r,o=me(e[6]),s=[];for(let a=0;a<o.length;a+=1)s[a]=Ma(Ra(e,o,a));return{c(){t=b("div"),n=b("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){t=w(a,"DIV",{class:!0});var u=S(t);n=w(u,"DIV",{class:!0});var f=S(n);for(let d=0;d<s.length;d+=1)s[d].l(f);f.forEach(p),u.forEach(p),this.h()},h(){h(n,"class","values-dropdown-grid svelte-1cqee7o"),h(t,"class","values-dropdown svelte-1cqee7o"),Qn(()=>e[16].call(t)),te(t,"top",e[2])},m(a,u){A(a,t,u),c(t,n);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null);l=Wu(t,e[16].bind(t)),i||(r=[Hf(Uf.call(null,t)),ie(t,"click_outside",e[9])],i=!0)},p(a,u){if(u&1089){o=me(a[6]);let f;for(f=0;f<o.length;f+=1){const d=Ra(a,o,f);s[f]?s[f].p(d,u):(s[f]=Ma(d),s[f].c(),s[f].m(n,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}u&4&&te(t,"top",a[2])},d(a){a&&p(t),ot(s,a),l(),i=!1,Kt(r)}}}function Ia(e){let t,n,l;function i(){return e[15](e[20])}return{c(){t=b("button"),this.h()},l(r){t=w(r,"BUTTON",{style:!0,class:!0});var o=S(t);o.forEach(p),this.h()},h(){O(t,"background",e[20]),h(t,"class","color-block svelte-1cqee7o"),te(t,"active",e[20]==e[0])},m(r,o){A(r,t,o),n||(l=ie(t,"click",i),n=!0)},p(r,o){e=r,o&65&&te(t,"active",e[20]==e[0])},d(r){r&&p(t),n=!1,l()}}}function Ma(e){let t,n=me(e[17]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Ia(Ea(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=He()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=He()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r&1089){n=me(i[17]);let o;for(o=0;o<n.length;o+=1){const s=Ea(i,n,o);l[o]?l[o].p(s,r):(l[o]=Ia(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),ot(l,i)}}}function dh(e){let t,n,l,i,r,o,s,a,u,f,d,g,m;Qn(e[11]);let _=e[3]&&Aa(e);return{c(){t=b("div"),n=b("div"),l=b("button"),i=b("div"),r=b("div"),o=k(),s=b("div"),u=k(),f=b("input"),d=k(),_&&_.c(),this.h()},l(v){t=w(v,"DIV",{class:!0});var y=S(t);n=w(y,"DIV",{class:!0});var C=S(n);l=w(C,"BUTTON",{class:!0});var E=S(l);i=w(E,"DIV",{style:!0});var P=S(i);r=w(P,"DIV",{style:!0,class:!0}),S(r).forEach(p),o=R(P),s=w(P,"DIV",{class:!0,style:!0}),S(s).forEach(p),P.forEach(p),E.forEach(p),u=R(C),f=w(C,"INPUT",{type:!0,class:!0}),C.forEach(p),d=R(y),_&&_.l(y),y.forEach(p),this.h()},h(){O(r,"background",e[0]),h(r,"class","color-block svelte-1cqee7o"),h(s,"class","caret svelte-1cqee7o"),O(s,"margin-right",".2rem"),te(s,"top",e[2]),O(i,"display","flex"),h(l,"class","select-color svelte-1cqee7o"),Qn(()=>e[12].call(l)),te(l,"fake-focus",e[3]),h(f,"type","text"),h(f,"class","svelte-1cqee7o"),h(n,"class","color-picker-inner svelte-1cqee7o"),h(t,"class","color-picker-holder svelte-1cqee7o")},m(v,y){A(v,t,y),c(t,n),c(n,l),c(l,i),c(i,r),c(i,o),c(i,s),a=Wu(l,e[12].bind(l)),c(n,u),c(n,f),Bt(f,e[0]),c(t,d),_&&_.m(t,null),g||(m=[ie(window,"keydown",e[7]),ie(window,"resize",e[11]),ie(l,"click",e[13]),ie(f,"input",e[14])],g=!0)},p(v,[y]){y&1&&O(r,"background",v[0]),y&4&&te(s,"top",v[2]),y&8&&te(l,"fake-focus",v[3]),y&1&&f.value!==v[0]&&Bt(f,v[0]),v[3]?_?_.p(v,y):(_=Aa(v),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},i:ut,o:ut,d(v){v&&p(t),a(),_&&_.d(),g=!1,Kt(m)}}}let ch="Escape";function gh(e,t,n){let l=[["#CFD8DC","#BCAAA4","#DAAFE9","#C7DBF5","#B0EDC3","#EF9A9A","#F8D6A2"],["#B0BEC5","#A1887F","#C47ADA","#AAD5FB","#73DE8C","#E57373","#F5B969"],["#78909C","#8D6E63","#AE44B7","#75BAFA","#63B75A","#F44336","#EC9740"],["#455A64","#6D4C41","#9C27B0","#5E7ABC","#388E3C","#FF1744","#F57F17"],["#000000","#4E342E","#501B87","#0C2794","#2F6A52","#D50000","#AD6127"]],{value:i=l[0][0]}=t,r,o,s=!1,a=158,u;function f(D){D.key==ch&&n(3,s=!1)}async function d(D){D.clientY+u<a||r-a-u-D.clientY>0?n(2,o=!1):n(2,o=!0),n(3,s=!s),await Lf()}function g(){n(3,s=!1)}function m(D){n(0,i=D),n(3,s=!1)}function _(){n(1,r=window.innerHeight)}function v(){u=this.clientHeight,n(5,u)}const y=D=>d(D);function C(){i=this.value,n(0,i)}const E=D=>{m(D)};function P(){a=this.clientHeight,n(4,a)}return e.$$set=D=>{"value"in D&&n(0,i=D.value)},[i,r,o,s,a,u,l,f,d,g,m,_,v,y,C,E,P]}class Qi extends Zt{constructor(t){super(),tn(this,t,gh,dh,en,{value:0})}}const wn={DOWNLOAD:`Click to download the current figure as a ZIP file.

Included are both an SVG file (vector graphics, open with Adobe Illustrator or Google Chrome) and a PNG file (raster graphic, low resolution)`,BARPLOT_TOPN:"Limit the results shown to the top N gene sets (sorted by p-value, most significant hits on top)",BARPLOT_COLOR_PVAL:"Color for (all) gene sets",BARPLOT_COLOR_ESUP:"Color for gene sets that are enriched in gene constituents that have a positive effect size in your dataset / input gene list",BARPLOT_COLOR_ESDOWN:"Color for gene sets that are enriched in gene constituents that have a negative effect size in your dataset / input gene list",BARPLOT_COLOR_ESABS:"Color for (all) gene sets",TREEMAP_SIMPLIFY:`Optionally, show only a subset of genesets in the treemap.

Only leafs: show only genesets that do not have a (indirect) parent term that is also among significant genesets
(note that the 'minimal tree view' @ TREE can mislead; it only shows 1 parent term per child while the full DAG may have more links).

Prune singletons: very basic simplification that only removes parent terms that have exactly 1 (indirect) child among the set of significant genesets.`,TREEMAP_LABELS:`The labels shown on each tile. Options:
ID = abbreviated gene set identifier. e.g. for GO, an ID like 'GO:00000123' would be abbreviated to '123'
1 name per branch = show only the name for 1 representative gene set per parent term (1 tile per color)
parent name = show only names for the parent gene set for each group of tiles / gene sets`,HEATMAP_SCORETYPE:`Show a color-coded sidebar on the left y-axis that depics the up/down-regulation of respective genesets.

blue = effectsize down
red = effectsize up

only available for analyses analyzed with scoretype='effectsize' (i.e. GOAT specifically tested for both up- and down-regulation)`,HEATMAP_SYMMETRIC:"HELP TEXT HERE"};function Da(e,t,n){const l=e.slice();return l[39]=t[n],l}function Ta(e){let t,n=e[39].label+"",l,i,r;return{c(){t=b("option"),l=X(n),i=k(),this.h()},l(o){t=w(o,"OPTION",{});var s=S(t);l=W(s,n),i=R(s),s.forEach(p),this.h()},h(){t.__value=r=e[39].key,Bt(t,t.__value)},m(o,s){A(o,t,s),c(t,l),c(t,i)},p(o,s){s[0]&65536&&n!==(n=o[39].label+"")&&Ve(l,n),s[0]&65536&&r!==(r=o[39].key)&&(t.__value=r,Bt(t,t.__value))},d(o){o&&p(t)}}}function Va(e){let t,n,l,i,r,o,s;function a(f){e[32](f)}let u={};return e[2]!==void 0&&(u.value=e[2]),r=new Qi({props:u}),gt.push(()=>mt(r,"value",a)),{c(){t=b("div"),n=X("Color: "),l=b("i"),i=k(),Je(r.$$.fragment),this.h()},l(f){t=w(f,"DIV",{style:!0});var d=S(t);n=W(d,"Color: "),l=w(d,"I",{class:!0,style:!0,"data-tooltip":!0}),S(l).forEach(p),i=R(d),xe(r.$$.fragment,d),d.forEach(p),this.h()},h(){h(l,"class","helpicon"),O(l,"margin-left","2px"),O(l,"float","right"),h(l,"data-tooltip",wn.BARPLOT_COLOR_PVAL),O(t,"margin-left","50px"),O(t,"display","inline-block")},m(f,d){A(f,t,d),c(t,n),c(t,l),c(t,i),Qe(r,t,null),s=!0},p(f,d){const g={};!o&&d[0]&4&&(o=!0,g.value=f[2],_t(()=>o=!1)),r.$set(g)},i(f){s||(oe(r.$$.fragment,f),s=!0)},o(f){ce(r.$$.fragment,f),s=!1},d(f){f&&p(t),$e(r)}}}function Pa(e){let t,n,l,i,r,o,s;function a(f){e[33](f)}let u={};return e[3]!==void 0&&(u.value=e[3]),r=new Qi({props:u}),gt.push(()=>mt(r,"value",a)),{c(){t=b("div"),n=X("Color for 'effect size up': "),l=b("i"),i=k(),Je(r.$$.fragment),this.h()},l(f){t=w(f,"DIV",{style:!0});var d=S(t);n=W(d,"Color for 'effect size up': "),l=w(d,"I",{class:!0,style:!0,"data-tooltip":!0}),S(l).forEach(p),i=R(d),xe(r.$$.fragment,d),d.forEach(p),this.h()},h(){h(l,"class","helpicon"),O(l,"margin-left","2px"),O(l,"float","right"),h(l,"data-tooltip",wn.BARPLOT_COLOR_ESUP),O(t,"margin-left","50px"),O(t,"display","inline-block")},m(f,d){A(f,t,d),c(t,n),c(t,l),c(t,i),Qe(r,t,null),s=!0},p(f,d){const g={};!o&&d[0]&8&&(o=!0,g.value=f[3],_t(()=>o=!1)),r.$set(g)},i(f){s||(oe(r.$$.fragment,f),s=!0)},o(f){ce(r.$$.fragment,f),s=!1},d(f){f&&p(t),$e(r)}}}function za(e){let t,n,l,i,r,o,s;function a(f){e[34](f)}let u={};return e[4]!==void 0&&(u.value=e[4]),r=new Qi({props:u}),gt.push(()=>mt(r,"value",a)),{c(){t=b("div"),n=X("Color for 'effect size down': "),l=b("i"),i=k(),Je(r.$$.fragment),this.h()},l(f){t=w(f,"DIV",{style:!0});var d=S(t);n=W(d,"Color for 'effect size down': "),l=w(d,"I",{class:!0,style:!0,"data-tooltip":!0}),S(l).forEach(p),i=R(d),xe(r.$$.fragment,d),d.forEach(p),this.h()},h(){h(l,"class","helpicon"),O(l,"margin-left","2px"),O(l,"float","right"),h(l,"data-tooltip",wn.BARPLOT_COLOR_ESDOWN),O(t,"margin-left","50px"),O(t,"display","inline-block")},m(f,d){A(f,t,d),c(t,n),c(t,l),c(t,i),Qe(r,t,null),s=!0},p(f,d){const g={};!o&&d[0]&16&&(o=!0,g.value=f[4],_t(()=>o=!1)),r.$set(g)},i(f){s||(oe(r.$$.fragment,f),s=!0)},o(f){ce(r.$$.fragment,f),s=!1},d(f){f&&p(t),$e(r)}}}function Fa(e){let t,n,l,i,r,o,s;function a(f){e[35](f)}let u={};return e[5]!==void 0&&(u.value=e[5]),r=new Qi({props:u}),gt.push(()=>mt(r,"value",a)),{c(){t=b("div"),n=X("Color for 'effect size abs': "),l=b("i"),i=k(),Je(r.$$.fragment),this.h()},l(f){t=w(f,"DIV",{style:!0});var d=S(t);n=W(d,"Color for 'effect size abs': "),l=w(d,"I",{class:!0,style:!0,"data-tooltip":!0}),S(l).forEach(p),i=R(d),xe(r.$$.fragment,d),d.forEach(p),this.h()},h(){h(l,"class","helpicon"),O(l,"margin-left","2px"),O(l,"float","right"),h(l,"data-tooltip",wn.BARPLOT_COLOR_ESABS),O(t,"margin-left","50px"),O(t,"display","inline-block")},m(f,d){A(f,t,d),c(t,n),c(t,l),c(t,i),Qe(r,t,null),s=!0},p(f,d){const g={};!o&&d[0]&32&&(o=!0,g.value=f[5],_t(()=>o=!1)),r.$set(g)},i(f){s||(oe(r.$$.fragment,f),s=!0)},o(f){ce(r.$$.fragment,f),s=!1},d(f){f&&p(t),$e(r)}}}function hh(e){let t,n,l=`Use the interactive tool below to create a customized barplot visualization of significant gene sets. Hover your mouse\r
		cursor over the question mark symbols for further details.`,i,r,o,s,a,u,f,d,g,m="Barplot",_,v,y,C,E,P,D="Lollipop chart",T,M,q,V,N,z,H,G,B,Y,le,Ce,ve,j,pe,se,we,ye,ue,F,de,x,Ie,be,Xe=e[1][0]+"",Ye,Be,ae,ct,Oe,Se,vt,J,he,$,ge,ze,_e,Le,et,St,Ke,rt,dt,Me,tt,ke,lt,it="download",I,ee,De,U,Te,ne=`Limit to topN:
					<i class="helpicon" style="margin-left: 2px; float: right;" data-tooltip="${wn.BARPLOT_TOPN}"></i>`,Fe,Ne,K,Z,Re,at=e[18].has("pvalue"),je,Q=e[18].has("effectsize_up"),Ee,Pe=e[18].has("effectsize_down"),bt,wt=e[18].has("effectsize_abs"),st,yt,nt,zt="Grid:",qt,Ut,Pt,Xt,pn,Jt,kt,Hn,nn;function yn(re){e[24](re)}let fn={min:100,max:600,step:25,pipstep:5,pips:!0,first:"label",last:"label",rest:"pip"};e[9]!==void 0&&(fn.values=e[9]),z=new jt({props:fn}),gt.push(()=>mt(z,"values",yn));function ln(re){e[25](re)}let Sl={min:10,max:30,step:1,pipstep:5,pips:!0,first:"label",last:"label",rest:"pip"};e[10]!==void 0&&(Sl.values=e[10]),ve=new jt({props:Sl}),gt.push(()=>mt(ve,"values",ln));function Cl(re){e[26](re)}let kl={min:3,max:8,step:1,pipstep:1,pips:!0,first:"label",last:"label",rest:"pip"};e[11]!==void 0&&(kl.values=e[11]),F=new jt({props:kl}),gt.push(()=>mt(F,"values",Cl));function Sn(re){e[27](re)}let Rl={min:20,max:100,step:1,pipstep:10,pips:!0,first:"label",last:"label",rest:"pip"};e[1]!==void 0&&(Rl.values=e[1]),ae=new jt({props:Rl}),gt.push(()=>mt(ae,"values",Sn));function xl(re){e[28](re)}let Ln={min:10,max:25,step:1,pipstep:3,pips:!0,first:"label",last:"label",rest:"pip"};e[12]!==void 0&&(Ln.values=e[12]),$=new jt({props:Ln}),gt.push(()=>mt($,"values",xl));function _i(re){e[29](re)}let El={min:10,max:25,step:1,pipstep:3,pips:!0,first:"label",last:"label",rest:"pip"};e[13]!==void 0&&(El.values=e[13]),Ke=new jt({props:El}),gt.push(()=>mt(Ke,"values",_i));let rn=me(e[16]),Tt=[];for(let re=0;re<rn.length;re+=1)Tt[re]=Ta(Da(e,rn,re));let Et=at&&Va(e),ht=Q&&Pa(e),ft=Pe&&za(e),pt=wt&&Fa(e);return Jt=new fh({props:{selectedSourceIndex:e[0],barplotData:e[6],maxGenesetSize:e[15],barplotType:e[8],colors:e[17],widthPlotArea:e[9][0],xScalefactor:e[11][0],showGrid:e[14],barHeight:e[10][0],textSize:e[12][0],labelSize:e[13][0],topn:e[20]}}),{c(){t=b("div"),n=b("div"),n.textContent=l,i=k(),r=b("div"),o=b("div"),s=b("div"),a=b("div"),u=b("input"),d=k(),g=b("label"),g.textContent=m,_=k(),v=b("div"),y=b("input"),E=k(),P=b("label"),P.textContent=D,T=k(),M=b("div"),q=X("Plot width: "),V=X(e[9]),N=k(),Je(z.$$.fragment),G=k(),B=b("div"),Y=X("Row height: "),le=X(e[10]),Ce=k(),Je(ve.$$.fragment),pe=k(),se=b("div"),we=X("X-axis ticks: "),ye=X(e[11]),ue=k(),Je(F.$$.fragment),x=k(),Ie=b("div"),be=X("Max. text length: "),Ye=X(Xe),Be=k(),Je(ae.$$.fragment),Oe=k(),Se=b("div"),vt=X("Geneset name size: "),J=X(e[12]),he=k(),Je($.$$.fragment),ze=k(),_e=b("div"),Le=X("X-axis label size: "),et=X(e[13]),St=k(),Je(Ke.$$.fragment),dt=k(),Me=b("div"),tt=b("div"),ke=b("div"),lt=b("button"),lt.textContent=it,I=k(),ee=b("i"),De=k(),U=b("div"),Te=b("div"),Te.innerHTML=ne,Fe=k(),Ne=b("br"),K=k(),Z=b("select");for(let re=0;re<Tt.length;re+=1)Tt[re].c();Re=k(),Et&&Et.c(),je=k(),ht&&ht.c(),Ee=k(),ft&&ft.c(),bt=k(),pt&&pt.c(),st=k(),yt=b("div"),nt=b("div"),nt.textContent=zt,qt=k(),Ut=b("div"),Pt=b("input"),Xt=k(),pn=b("div"),Je(Jt.$$.fragment),this.h()},l(re){t=w(re,"DIV",{style:!0});var Ae=S(t);n=w(Ae,"DIV",{style:!0,"data-svelte-h":!0}),fe(n)!=="svelte-mrj3ld"&&(n.textContent=l),i=R(Ae),r=w(Ae,"DIV",{style:!0});var Wt=S(r);o=w(Wt,"DIV",{style:!0});var It=S(o);s=w(It,"DIV",{});var Cn=S(s);a=w(Cn,"DIV",{});var Lt=S(a);u=w(Lt,"INPUT",{type:!0,id:!0,name:!0}),d=R(Lt),g=w(Lt,"LABEL",{for:!0,"data-svelte-h":!0}),fe(g)!=="svelte-njryio"&&(g.textContent=m),Lt.forEach(p),_=R(Cn),v=w(Cn,"DIV",{});var kn=S(v);y=w(kn,"INPUT",{type:!0,id:!0,name:!0}),E=R(kn),P=w(kn,"LABEL",{for:!0,"data-svelte-h":!0}),fe(P)!=="svelte-18ebw30"&&(P.textContent=D),kn.forEach(p),Cn.forEach(p),T=R(It),M=w(It,"DIV",{});var _n=S(M);q=W(_n,"Plot width: "),V=W(_n,e[9]),N=R(_n),xe(z.$$.fragment,_n),_n.forEach(p),G=R(It),B=w(It,"DIV",{});var Rt=S(B);Y=W(Rt,"Row height: "),le=W(Rt,e[10]),Ce=R(Rt),xe(ve.$$.fragment,Rt),Rt.forEach(p),pe=R(It),se=w(It,"DIV",{});var Mt=S(se);we=W(Mt,"X-axis ticks: "),ye=W(Mt,e[11]),ue=R(Mt),xe(F.$$.fragment,Mt),Mt.forEach(p),x=R(It),Ie=w(It,"DIV",{});var mn=S(Ie);be=W(mn,"Max. text length: "),Ye=W(mn,Xe),Be=R(mn),xe(ae.$$.fragment,mn),mn.forEach(p),Oe=R(It),Se=w(It,"DIV",{});var dn=S(Se);vt=W(dn,"Geneset name size: "),J=W(dn,e[12]),he=R(dn),xe($.$$.fragment,dn),dn.forEach(p),ze=R(It),_e=w(It,"DIV",{});var $n=S(_e);Le=W($n,"X-axis label size: "),et=W($n,e[13]),St=R($n),xe(Ke.$$.fragment,$n),$n.forEach(p),It.forEach(p),dt=R(Wt),Me=w(Wt,"DIV",{style:!0});var Ft=S(Me);tt=w(Ft,"DIV",{style:!0});var Rn=S(tt);ke=w(Rn,"DIV",{style:!0});var xn=S(ke);lt=w(xn,"BUTTON",{"data-svelte-h":!0}),fe(lt)!=="svelte-12bxta8"&&(lt.textContent=it),I=R(xn),ee=w(xn,"I",{class:!0,style:!0,"data-tooltip":!0}),S(ee).forEach(p),xn.forEach(p),Rn.forEach(p),De=R(Ft),U=w(Ft,"DIV",{style:!0});var zn=S(U);Te=w(zn,"DIV",{style:!0,"data-svelte-h":!0}),fe(Te)!=="svelte-15shk1y"&&(Te.innerHTML=ne),Fe=R(zn),Ne=w(zn,"BR",{}),K=R(zn),Z=w(zn,"SELECT",{});var Al=S(Z);for(let rl=0;rl<Tt.length;rl+=1)Tt[rl].l(Al);Al.forEach(p),zn.forEach(p),Re=R(Ft),Et&&Et.l(Ft),je=R(Ft),ht&&ht.l(Ft),Ee=R(Ft),ft&&ft.l(Ft),bt=R(Ft),pt&&pt.l(Ft),st=R(Ft),yt=w(Ft,"DIV",{style:!0});var Qt=S(yt);nt=w(Qt,"DIV",{"data-svelte-h":!0}),fe(nt)!=="svelte-j81zj8"&&(nt.textContent=zt),qt=R(Qt),Ut=w(Qt,"DIV",{style:!0});var Fn=S(Ut);Pt=w(Fn,"INPUT",{id:!0,type:!0}),Fn.forEach(p),Qt.forEach(p),Ft.forEach(p),Wt.forEach(p),Xt=R(Ae),pn=w(Ae,"DIV",{});var ei=S(pn);xe(Jt.$$.fragment,ei),ei.forEach(p),Ae.forEach(p),this.h()},h(){O(n,"margin-bottom","10px"),O(n,"border-bottom","1px solid grey"),O(n,"padding-bottom","20px"),h(u,"type","radio"),h(u,"id","rdioBarplot"),h(u,"name","rdioPlottype"),u.checked=f=e[8]=="barplot",h(g,"for","rdioBarplot"),h(y,"type","radio"),h(y,"id","rdioLollipop"),h(y,"name","rdioPlottype"),y.checked=C=e[8]=="lollipop",h(P,"for","rdioLollipop"),O(o,"display","flex"),O(o,"justify-content","space-between"),h(ee,"class","helpicon"),O(ee,"margin-left","5px"),h(ee,"data-tooltip",wn.DOWNLOAD),O(ke,"display","flex"),O(tt,"align-self","flex-end"),O(Te,"display","inline-block"),e[19]===void 0&&Qn(()=>e[31].call(Z)),O(U,"margin-left","80px"),h(Pt,"id","chkShowGrid"),h(Pt,"type","checkbox"),O(Ut,"margin-top","5px"),O(yt,"margin-left","80px"),O(Me,"display","flex"),O(Me,"justify-content","start"),O(r,"margin-bottom","50px"),O(r,"border-bottom","1px solid grey"),O(r,"padding-bottom","20px"),O(t,"min-height","900px")},m(re,Ae){A(re,t,Ae),c(t,n),c(t,i),c(t,r),c(r,o),c(o,s),c(s,a),c(a,u),c(a,d),c(a,g),c(s,_),c(s,v),c(v,y),c(v,E),c(v,P),c(o,T),c(o,M),c(M,q),c(M,V),c(M,N),Qe(z,M,null),c(o,G),c(o,B),c(B,Y),c(B,le),c(B,Ce),Qe(ve,B,null),c(o,pe),c(o,se),c(se,we),c(se,ye),c(se,ue),Qe(F,se,null),c(o,x),c(o,Ie),c(Ie,be),c(Ie,Ye),c(Ie,Be),Qe(ae,Ie,null),c(o,Oe),c(o,Se),c(Se,vt),c(Se,J),c(Se,he),Qe($,Se,null),c(o,ze),c(o,_e),c(_e,Le),c(_e,et),c(_e,St),Qe(Ke,_e,null),c(r,dt),c(r,Me),c(Me,tt),c(tt,ke),c(ke,lt),c(ke,I),c(ke,ee),c(Me,De),c(Me,U),c(U,Te),c(U,Fe),c(U,Ne),c(U,K),c(U,Z);for(let Wt=0;Wt<Tt.length;Wt+=1)Tt[Wt]&&Tt[Wt].m(Z,null);an(Z,e[19],!0),c(Me,Re),Et&&Et.m(Me,null),c(Me,je),ht&&ht.m(Me,null),c(Me,Ee),ft&&ft.m(Me,null),c(Me,bt),pt&&pt.m(Me,null),c(Me,st),c(Me,yt),c(yt,nt),c(yt,qt),c(yt,Ut),c(Ut,Pt),Pt.checked=e[14],c(t,Xt),c(t,pn),Qe(Jt,pn,null),kt=!0,Hn||(nn=[ie(u,"change",e[22]),ie(y,"change",e[23]),ie(lt,"click",e[30]),ie(Z,"change",e[31]),ie(Pt,"change",e[36])],Hn=!0)},p(re,Ae){(!kt||Ae[0]&256&&f!==(f=re[8]=="barplot"))&&(u.checked=f),(!kt||Ae[0]&256&&C!==(C=re[8]=="lollipop"))&&(y.checked=C),(!kt||Ae[0]&512)&&Ve(V,re[9]);const Wt={};!H&&Ae[0]&512&&(H=!0,Wt.values=re[9],_t(()=>H=!1)),z.$set(Wt),(!kt||Ae[0]&1024)&&Ve(le,re[10]);const It={};!j&&Ae[0]&1024&&(j=!0,It.values=re[10],_t(()=>j=!1)),ve.$set(It),(!kt||Ae[0]&2048)&&Ve(ye,re[11]);const Cn={};!de&&Ae[0]&2048&&(de=!0,Cn.values=re[11],_t(()=>de=!1)),F.$set(Cn),(!kt||Ae[0]&2)&&Xe!==(Xe=re[1][0]+"")&&Ve(Ye,Xe);const Lt={};!ct&&Ae[0]&2&&(ct=!0,Lt.values=re[1],_t(()=>ct=!1)),ae.$set(Lt),(!kt||Ae[0]&4096)&&Ve(J,re[12]);const kn={};!ge&&Ae[0]&4096&&(ge=!0,kn.values=re[12],_t(()=>ge=!1)),$.$set(kn),(!kt||Ae[0]&8192)&&Ve(et,re[13]);const _n={};if(!rt&&Ae[0]&8192&&(rt=!0,_n.values=re[13],_t(()=>rt=!1)),Ke.$set(_n),Ae[0]&65536){rn=me(re[16]);let Mt;for(Mt=0;Mt<rn.length;Mt+=1){const mn=Da(re,rn,Mt);Tt[Mt]?Tt[Mt].p(mn,Ae):(Tt[Mt]=Ta(mn),Tt[Mt].c(),Tt[Mt].m(Z,null))}for(;Mt<Tt.length;Mt+=1)Tt[Mt].d(1);Tt.length=rn.length}Ae[0]&589824&&an(Z,re[19]),Ae[0]&262144&&(at=re[18].has("pvalue")),at?Et?(Et.p(re,Ae),Ae[0]&262144&&oe(Et,1)):(Et=Va(re),Et.c(),oe(Et,1),Et.m(Me,je)):Et&&(Ot(),ce(Et,1,1,()=>{Et=null}),Ht()),Ae[0]&262144&&(Q=re[18].has("effectsize_up")),Q?ht?(ht.p(re,Ae),Ae[0]&262144&&oe(ht,1)):(ht=Pa(re),ht.c(),oe(ht,1),ht.m(Me,Ee)):ht&&(Ot(),ce(ht,1,1,()=>{ht=null}),Ht()),Ae[0]&262144&&(Pe=re[18].has("effectsize_down")),Pe?ft?(ft.p(re,Ae),Ae[0]&262144&&oe(ft,1)):(ft=za(re),ft.c(),oe(ft,1),ft.m(Me,bt)):ft&&(Ot(),ce(ft,1,1,()=>{ft=null}),Ht()),Ae[0]&262144&&(wt=re[18].has("effectsize_abs")),wt?pt?(pt.p(re,Ae),Ae[0]&262144&&oe(pt,1)):(pt=Fa(re),pt.c(),oe(pt,1),pt.m(Me,st)):pt&&(Ot(),ce(pt,1,1,()=>{pt=null}),Ht()),Ae[0]&16384&&(Pt.checked=re[14]);const Rt={};Ae[0]&1&&(Rt.selectedSourceIndex=re[0]),Ae[0]&64&&(Rt.barplotData=re[6]),Ae[0]&32768&&(Rt.maxGenesetSize=re[15]),Ae[0]&256&&(Rt.barplotType=re[8]),Ae[0]&131072&&(Rt.colors=re[17]),Ae[0]&512&&(Rt.widthPlotArea=re[9][0]),Ae[0]&2048&&(Rt.xScalefactor=re[11][0]),Ae[0]&16384&&(Rt.showGrid=re[14]),Ae[0]&1024&&(Rt.barHeight=re[10][0]),Ae[0]&4096&&(Rt.textSize=re[12][0]),Ae[0]&8192&&(Rt.labelSize=re[13][0]),Jt.$set(Rt)},i(re){kt||(oe(z.$$.fragment,re),oe(ve.$$.fragment,re),oe(F.$$.fragment,re),oe(ae.$$.fragment,re),oe($.$$.fragment,re),oe(Ke.$$.fragment,re),oe(Et),oe(ht),oe(ft),oe(pt),oe(Jt.$$.fragment,re),kt=!0)},o(re){ce(z.$$.fragment,re),ce(ve.$$.fragment,re),ce(F.$$.fragment,re),ce(ae.$$.fragment,re),ce($.$$.fragment,re),ce(Ke.$$.fragment,re),ce(Et),ce(ht),ce(ft),ce(pt),ce(Jt.$$.fragment,re),kt=!1},d(re){re&&p(t),$e(z),$e(ve),$e(F),$e(ae),$e($),$e(Ke),ot(Tt,re),Et&&Et.d(),ht&&ht.d(),ft&&ft.d(),pt&&pt.d(),$e(Jt),Hn=!1,Kt(nn)}}}function ph(e,t,n){let l,i,r,o,s,a,u,f;Dt(e,un,x=>n(7,u=x));function d(x,Ie,be,Xe){if(typeof x=="object"&&Array.isArray(x.genesets)&&x.genesets.length>Ie){let Be=x.genesets[Ie].genesets.filter(ae=>ae.signif===!0).map(ae=>({id:ae.id,name:xr(ae.name,Xe),size:ae.ngenes,score_type:ae.score_type,ngenes:ae.ngenes,pvalue_adjust:ae.pvalue_adjust,value:-1*Math.log10(ae.pvalue_adjust)}));return Be.sort((ae,ct)=>ae.value-ct.value),Jl(be)>0&&(Be=Be.slice(-Jl(be))),Be}return[]}let{selectedSourceIndex:g=0}=t,m="barplot",_=[300],v=[20],y=[5],C=[16],E=[60],P=[20];const D=gn(0);Dt(e,D,x=>n(19,f=x));let T=!0,M="#5E7ABC",q="#E57373",V="#5E7ABC",N="#5E7ABC";const z=[{key:0,label:"all significant"},{key:100,label:"top 100"},{key:75,label:"top 75"},{key:50,label:"top 50"},{key:40,label:"top 40"},{key:30,label:"top 30"},{key:25,label:"top 25"},{key:20,label:"top 20"},{key:15,label:"top 15"},{key:10,label:"top 10"}],H=x=>{n(8,m="barplot")},G=x=>{n(8,m="lollipop")};function B(x){_=x,n(9,_)}function Y(x){v=x,n(10,v)}function le(x){y=x,n(11,y)}function Ce(x){E=x,n(1,E)}function ve(x){C=x,n(12,C)}function j(x){P=x,n(13,P)}const pe=()=>Ji("mybarplot","GOAT-online__barplot_"+u.genesets[g].source);function se(){f=Ql(this),D.set(f),n(16,s),n(21,o),n(6,l),n(7,u),n(0,g),n(1,E)}function we(x){M=x,n(2,M)}function ye(x){q=x,n(3,q)}function ue(x){V=x,n(4,V)}function F(x){N=x,n(5,N)}function de(){T=this.checked,n(14,T)}return e.$$set=x=>{"selectedSourceIndex"in x&&n(0,g=x.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty[0]&131&&n(6,l=d(u,g,D,[E])),e.$$.dirty[0]&64&&n(18,i=new Set(l.map(x=>x.score_type))),e.$$.dirty[0]&60&&n(17,r={pvalue:M,effectsize_up:q,effectsize_down:V,effectsize_abs:N}),e.$$.dirty[0]&193&&n(21,o=Array.isArray(l)&&l.length>0&&u.genesets[g].stats.signif_count||0),e.$$.dirty[0]&2097152&&n(16,s=z.filter(x=>x.key===0||x.key<o)),e.$$.dirty[0]&1&&D.update(x=>0),e.$$.dirty[0]&128&&n(15,a=typeof u=="object"&&typeof u.genesetStats=="object"&&Math.max(100,Math.min(1e3,u.genesetStats.signif_max_ngenes||0))||100)},[g,E,M,q,V,N,l,u,m,_,v,y,C,P,T,a,s,r,i,f,D,o,H,G,B,Y,le,Ce,ve,j,pe,se,we,ye,ue,F,de]}class _h extends Zt{constructor(t){super(),tn(this,t,ph,hh,en,{selectedSourceIndex:0},null,[-1,-1])}}async function vf(e,t){const n=Jl(un);if(n===void 0||!Array.isArray(n.genesets)||typeof n.genesets[e]!="object"||n.dag[e]===!1||n.dag[e]!==null&&typeof n.dag[e]=="object")return;t.update(r=>!0);const l=mh(n,e);if(l===void 0){n.dag[e]=!1,un.update(r=>n),t.update(r=>!1);return}vh(l),l.linksNested=Ga(l.nodes,l.links,l.root),l.linksTree=wh(l.links),l.linksTreeNested=Ga(l.nodes,l.linksTree,l.root),n.dag[e]=l,un.update(r=>n),await(r=>new Promise(o=>setTimeout(o,r)))(100),t.update(r=>!1)}function mh(e,t){const n=Date.now();if(typeof e!="object"||!Array.isArray(e.genesets)||e.genesets.length<=t||e.hasDag!==!0||!Array.isArray(e.genesets[t].genesets)||!Array.isArray(e.genelist))return;const l=e.genesets[t].genesets,i=l.filter(M=>M.signif===!0),r=i.length;if(r===0)return;const o=i.reduce((M,q)=>(M[q.id]=q,M),{}),s=Object.keys(o),a=l.reduce((M,q)=>(M[q.id]=q.parents,M),{}),u={},f=Object.keys(e.genelist[0]),d=["score_pvalue","score_effectsize_up","score_effectsize_down","score_effectsize_abs"].filter(M=>f.indexOf(M)!==-1),g=d.length;if(g===0){console.error(e.genelist),console.error("no score columns in genelist");return}const m=e.genelist.length;let _,v;for(let M=0;M<g;M++){_=d[M].replace("score_",""),v={};for(let q=0;q<m;q++)v[e.genelist[q].gene]=e.genelist[q][d[M]];u[_]=v}let y=0,C="",E;const P=new Set,D=[],T=[];for(let M=0;M<r;M++)if(E=[],bf(i[M].id,E,a,s),y=E.length,y===0)D.push(i[M].id);else for(let q=0;q<y;q++)C=i[M].id+" "+E[q],P.has(C)===!1&&(T.push({id:C,source:i[M].id,target:E[q],scoreType:i[M].score_type,weight:bh(i[M].genes,o[E[q]].genes,u[i[M].score_type])}),P.add(C));if(D.length===0){console.error("invalid input edgelist; not a DAG because the graph is circular (i.e. every parent is a child of another parent)");return}return console.log("genesetDAG() took; "+(Date.now()-n)+"ms"),{nodes:i,links:T,roots:D}}function vh(e){const t=e.roots.length;if(t>1||t===1&&e.links.length===0){const n="__root__"+Date.now();e.root=n,e.nodes.push({id:n,name:"root",isMock:!0});for(let l=0;l<t;l++)e.links.push({id:e.roots[l]+" "+n,source:e.roots[l],target:n,scoreType:"",weight:0,isMock:!0});e.nodes=e.nodes,e.links=e.links}else e.root=e.roots[0]}function bf(e,t,n,l){const i=n[e];if(Array.isArray(i)&&i.length!==0){const r=i.length;for(let o=0;o<r;o++)l.indexOf(i[o])!==-1?t.push(i[o]):bf(i[o],t,n,l)}}function bh(e,t,n){const l=e.filter(o=>t.indexOf(o)!==-1);if(l.length===0)return 0;const i=l.reduce((o,s)=>(o+=n[s]||0,o),0),r=t.reduce((o,s)=>(o+=n[s]||0,o),0);return i/r}function wh(e){if(!Array.isArray(e)||e.length===0)return;const t=[],n=new Set;e.sort((i,r)=>i.weight-r.weight);const l=e.length;for(let i=0;i<l;i++)n.has(e[i].source)===!1&&(t.push(e[i]),n.add(e[i].source));return t}function wf(e,t,n){e.level=e.level||0,e.children=[];const l=n[e.id]||[],i=l.length;for(let r=0;r<i;r++){const o=t[l[r].source];if(o===void 0)console.error(l[r]),console.error("unknown child ID in this edge, cannot find '"+l[r].source+"' in nodesLookup");else{const s={id:o.id,name:o.name,ngenes:o.ngenes,ngenes_input:o.ngenes_input,ngenes_signif:o.ngenes_signif,pvalue:o.pvalue,pvalue_adjust:o.pvalue_adjust,signif:o.signif,score_type:o.score_type,level:e.level+1,weight:l[r].weight};e.children.push(wf(s,t,n))}}return e}function Ga(e,t,n){let l={};if(!Array.isArray(t)||t.length===0)return l;const i=e.reduce((s,a)=>(s[a.id]=a,s),{}),r=t.reduce((s,a)=>(s[a.target]===void 0?s[a.target]=[a]:s[a.target]=s[a.target].concat(a),s),{}),o=i[n];if(o===void 0){console.error("Cannot find root in node lookup; "+n),console.error(i);return}return l=o,l.level=0,l.weight=o.weight||0,l.ngenes=o.ngenes||0,l=wf(l,i,r),l}function yh(e){const t=[];return yf(e,t,0,-1,[]),Sh(t),t}function yf(e,t,n,l,i){const r=Array.isArray(e.children)?e.children.length:0;for(let o=0;o<r;o++){const s=e.children[o],a=Array.isArray(s.children)?s.children.length:0,u=l===-1?[]:i.concat(l);s.name=s.label||s.name,s.value=s.hasOwnProperty("weight")?s.weight:s.value,t.push({id:s.id,name:s.name,value:s.value,pvalue_adjust:s.pvalue_adjust,displayName:s.name,siblingCount:r,parentIndex:l,parentIndexRecursive:u,childIndexRecursive:[],childCount:a,childCountRecursive:0,isLastChild:o===r-1,level:n+1,isCollapsed:!1}),yf(s,t,n+1,t.length-1,u)}}function Sh(e){const t=e.length;let n=0;for(let l=0;l<t;l++){n=e[l].parentIndexRecursive.length;for(let i=0;i<n;i++)e[e[l].parentIndexRecursive[i]].childIndexRecursive.push(l)}for(let l=0;l<t;l++)e[l].childCountRecursive=e[l].childIndexRecursive.length,e[l].parentID=e[l].parentIndex===-1?"":e[e[l].parentIndex].id}function Ch(e,t){if(Array.isArray(e)){const r=e.length;let o;for(let s=0;s<r;s++)e[s].isCollapsed=!1,e[s].remove=!1;for(let s=0;s<r;s++)if(t.has(e[s].id)&&(e[s].isCollapsed=!0,Array.isArray(e[s].childIndexRecursive))){o=e[s].childIndexRecursive.length;for(let a=0;a<o;a++)e[e[s].childIndexRecursive[a]].remove=!0}}const n=e.filter(r=>r.remove!==!0),l=n.map(r=>r.id),i=n.length;for(let r=0;r<i;r++)n[r].parentIndex=n[r].parentID===void 0?-1:l.indexOf(n[r].parentID),n[r].parentIndexRecursive=void 0,n[r].childIndexRecursive=[];return n}function kh(e,t,n,l){if(!Array.isArray(e))return;const i=e.length,r=n+"px sans-serif";let o=0;for(let s=0;s<i;s++)e[s].displayName=(e[s].isCollapsed===!0?"*":"")+xr(e[s].name,t)+(e[s].isCollapsed===!0?" (c="+e[s].childCountRecursive+")":"")+(l===!0&&e[s].pvalue_adjust!==void 0?" (p = "+ji(e[s].pvalue_adjust)+")":""),o=Math.max(o,pi(e[s].displayName,r));return o}function Oa(e,t,n){const l=e.slice();return l[25]=t[n],l[27]=n,l}function Ha(e,t,n){const l=e.slice();return l[25]=t[n],l[27]=n,l}function Rh(e){let t,n=`Use the interactive tool below to create a customized ontology tree visualization. Each node\r
			in the tree is a significant gene set from your GOAT results. The tree structure was inferred\r
			from the parent/child relations that are encoded in the selected gene set database. You can\r
			click nodes in the tree to (un)collapse them. Collapsed nodes are depicted with a * before\r
			their name, the "(c=N)" notation after the gene set name describes the number of child terms\r
			that were collapsed. Hover your mouse cursor over the question mark symbols for further\r
			details.`,l,i,r,o,s,a=e[3][0]+"",u,f,d,g,m,_,v,y=e[1][0]+"",C,E,P,D,T,M,q,V=e[2][0]+"",N,z,H,G,B,Y,le,Ce,ve,j,pe,se,we,ye,ue="download",F,de,x,Ie,be,Xe,Ye;function Be(ge){e[17](ge)}let ae={min:4,max:30,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[3]!==void 0&&(ae.values=e[3]),d=new jt({props:ae}),gt.push(()=>mt(d,"values",Be));function ct(ge){e[18](ge)}let Oe={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[1]!==void 0&&(Oe.values=e[1]),P=new jt({props:Oe}),gt.push(()=>mt(P,"values",ct));function Se(ge){e[19](ge)}let vt={min:20,max:100,step:1,pipstep:10,pips:!0,first:"label",last:"label",rest:"pip"};e[2]!==void 0&&(vt.values=e[2]),H=new jt({props:vt}),gt.push(()=>mt(H,"values",Se));function J(ge,ze){return ge[5]!==void 0?Mh:Ih}let he=J(e),$=he(e);return{c(){t=b("div"),t.textContent=n,l=k(),i=b("div"),r=b("div"),o=b("div"),s=X("Row height: "),u=X(a),f=k(),Je(d.$$.fragment),m=k(),_=b("div"),v=X("Geneset name size: "),C=X(y),E=k(),Je(P.$$.fragment),T=k(),M=b("div"),q=X("Max. text length: "),N=X(V),z=k(),Je(H.$$.fragment),B=k(),Y=b("div"),le=b("input"),Ce=X(" Show"),ve=b("br"),j=X("adjusted p-values"),pe=k(),se=b("div"),we=b("div"),ye=b("button"),ye.textContent=ue,F=k(),de=b("i"),x=k(),Ie=b("div"),$.c(),this.h()},l(ge){t=w(ge,"DIV",{style:!0,"data-svelte-h":!0}),fe(t)!=="svelte-5p8e24"&&(t.textContent=n),l=R(ge),i=w(ge,"DIV",{style:!0});var ze=S(i);r=w(ze,"DIV",{style:!0});var _e=S(r);o=w(_e,"DIV",{});var Le=S(o);s=W(Le,"Row height: "),u=W(Le,a),f=R(Le),xe(d.$$.fragment,Le),Le.forEach(p),m=R(_e),_=w(_e,"DIV",{});var et=S(_);v=W(et,"Geneset name size: "),C=W(et,y),E=R(et),xe(P.$$.fragment,et),et.forEach(p),T=R(_e),M=w(_e,"DIV",{});var St=S(M);q=W(St,"Max. text length: "),N=W(St,V),z=R(St),xe(H.$$.fragment,St),St.forEach(p),B=R(_e),Y=w(_e,"DIV",{});var Ke=S(Y);le=w(Ke,"INPUT",{type:!0}),Ce=W(Ke," Show"),ve=w(Ke,"BR",{}),j=W(Ke,"adjusted p-values"),Ke.forEach(p),_e.forEach(p),pe=R(ze),se=w(ze,"DIV",{style:!0});var rt=S(se);we=w(rt,"DIV",{style:!0});var dt=S(we);ye=w(dt,"BUTTON",{"data-svelte-h":!0}),fe(ye)!=="svelte-11womkd"&&(ye.textContent=ue),F=R(dt),de=w(dt,"I",{class:!0,style:!0,"data-tooltip":!0}),S(de).forEach(p),dt.forEach(p),rt.forEach(p),ze.forEach(p),x=R(ge),Ie=w(ge,"DIV",{});var Me=S(Ie);$.l(Me),Me.forEach(p),this.h()},h(){O(t,"margin-bottom","10px"),O(t,"border-bottom","1px solid grey"),O(t,"padding-bottom","20px"),h(le,"type","checkbox"),O(r,"display","flex"),O(r,"justify-content","space-between"),h(de,"class","helpicon"),O(de,"margin-left","5px"),h(de,"data-tooltip",wn.DOWNLOAD),O(we,"display","flex"),O(se,"align-self","flex-end"),O(i,"margin-bottom","50px"),O(i,"border-bottom","1px solid grey"),O(i,"padding-bottom","20px")},m(ge,ze){A(ge,t,ze),A(ge,l,ze),A(ge,i,ze),c(i,r),c(r,o),c(o,s),c(o,u),c(o,f),Qe(d,o,null),c(r,m),c(r,_),c(_,v),c(_,C),c(_,E),Qe(P,_,null),c(r,T),c(r,M),c(M,q),c(M,N),c(M,z),Qe(H,M,null),c(r,B),c(r,Y),c(Y,le),le.checked=e[4],c(Y,Ce),c(Y,ve),c(Y,j),c(i,pe),c(i,se),c(se,we),c(we,ye),c(we,F),c(we,de),A(ge,x,ze),A(ge,Ie,ze),$.m(Ie,null),be=!0,Xe||(Ye=[ie(le,"change",e[20]),ie(ye,"click",e[21])],Xe=!0)},p(ge,ze){(!be||ze&8)&&a!==(a=ge[3][0]+"")&&Ve(u,a);const _e={};!g&&ze&8&&(g=!0,_e.values=ge[3],_t(()=>g=!1)),d.$set(_e),(!be||ze&2)&&y!==(y=ge[1][0]+"")&&Ve(C,y);const Le={};!D&&ze&2&&(D=!0,Le.values=ge[1],_t(()=>D=!1)),P.$set(Le),(!be||ze&4)&&V!==(V=ge[2][0]+"")&&Ve(N,V);const et={};!G&&ze&4&&(G=!0,et.values=ge[2],_t(()=>G=!1)),H.$set(et),ze&16&&(le.checked=ge[4]),he===(he=J(ge))&&$?$.p(ge,ze):($.d(1),$=he(ge),$&&($.c(),$.m(Ie,null)))},i(ge){be||(oe(d.$$.fragment,ge),oe(P.$$.fragment,ge),oe(H.$$.fragment,ge),be=!0)},o(ge){ce(d.$$.fragment,ge),ce(P.$$.fragment,ge),ce(H.$$.fragment,ge),be=!1},d(ge){ge&&(p(t),p(l),p(i),p(x),p(Ie)),$e(d),$e(P),$e(H),$.d(),Xe=!1,Kt(Ye)}}}function Eh(e){let t,n,l,i,r;function o(a){e[16](a)}let s={colour:"black",size:"1.5em"};return e[8]!==void 0&&(s.show=e[8]),n=new Jn({props:s}),gt.push(()=>mt(n,"show",o)),{c(){t=b("div"),Je(n.$$.fragment),i=X(`\r
			computing...`)},l(a){t=w(a,"DIV",{});var u=S(t);xe(n.$$.fragment,u),i=W(u,`\r
			computing...`),u.forEach(p)},m(a,u){A(a,t,u),Qe(n,t,null),c(t,i),r=!0},p(a,u){const f={};!l&&u&256&&(l=!0,f.show=a[8],_t(()=>l=!1)),n.$set(f)},i(a){r||(oe(n.$$.fragment,a),r=!0)},o(a){ce(n.$$.fragment,a),r=!1},d(a){a&&p(t),$e(n)}}}function Ah(e){let t,n=`The gene set database does not incorporate parent-child relations; visualization of tree-structure is not\r
			available.`;return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),fe(t)!=="svelte-1j746nr"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:ut,i:ut,o:ut,d(l){l&&p(t)}}}function Ih(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),fe(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:ut,d(l){l&&p(t)}}}function Mh(e){let t,n,l,i,r,o,s,a=me(e[5]),u=[];for(let g=0;g<a.length;g+=1)u[g]=La(Ha(e,a,g));let f=me(e[5]),d=[];for(let g=0;g<f.length;g+=1)d[g]=Ba(Oa(e,f,g));return{c(){t=b("div"),n=qe("svg"),l=qe("g");for(let g=0;g<u.length;g+=1)u[g].c();i=qe("g");for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){t=w(g,"DIV",{id:!0});var m=S(t);n=Ue(m,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var _=S(n);l=Ue(_,"g",{});var v=S(l);for(let C=0;C<u.length;C+=1)u[C].l(v);v.forEach(p),i=Ue(_,"g",{});var y=S(i);for(let C=0;C<d.length;C+=1)d[C].l(y);y.forEach(p),_.forEach(p),m.forEach(p),this.h()},h(){h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",r=e[9]+2*Ct),h(n,"height",o=e[10]+2*Ct),h(n,"viewBox",s="0 0 "+(e[9]+2*Ct)+" "+(e[10]+2*Ct)),h(t,"id","mytree")},m(g,m){A(g,t,m),c(t,n),c(n,l);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(l,null);c(n,i);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(i,null)},p(g,m){if(m&10282){a=me(g[5]);let _;for(_=0;_<a.length;_+=1){const v=Ha(g,a,_);u[_]?u[_].p(v,m):(u[_]=La(v),u[_].c(),u[_].m(l,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=a.length}if(m&8232){f=me(g[5]);let _;for(_=0;_<f.length;_+=1){const v=Oa(g,f,_);d[_]?d[_].p(v,m):(d[_]=Ba(v),d[_].c(),d[_].m(i,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=f.length}m&512&&r!==(r=g[9]+2*Ct)&&h(n,"width",r),m&1024&&o!==(o=g[10]+2*Ct)&&h(n,"height",o),m&1536&&s!==(s="0 0 "+(g[9]+2*Ct)+" "+(g[10]+2*Ct))&&h(n,"viewBox",s)},d(g){g&&p(t),ot(u,g),ot(d,g)}}}function La(e){let t,n=e[25].displayName+"",l,i,r,o,s,a;function u(...f){return e[22](e[25],...f)}return{c(){t=qe("text"),l=X(n),this.h()},l(f){t=Ue(f,"text",{"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,x:!0,y:!0,cursor:!0});var d=S(t);l=W(d,n),d.forEach(p),this.h()},h(){h(t,"font-size",i=e[1][0]+"px"),h(t,"text-anchor","begin"),h(t,"dominant-baseline","middle"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"x",r=Math.ceil((e[25].level+.5)*Vn)+3+Ct),h(t,"y",o=e[13]+e[27]*e[3][0]+Ct),h(t,"cursor","pointer")},m(f,d){A(f,t,d),c(t,l),s||(a=ie(t,"click",u),s=!0)},p(f,d){e=f,d&32&&n!==(n=e[25].displayName+"")&&Ve(l,n),d&2&&i!==(i=e[1][0]+"px")&&h(t,"font-size",i),d&32&&r!==(r=Math.ceil((e[25].level+.5)*Vn)+3+Ct)&&h(t,"x",r),d&8&&o!==(o=e[13]+e[27]*e[3][0]+Ct)&&h(t,"y",o)},d(f){f&&p(t),s=!1,a()}}}function Na(e){let t,n,l,i,r;return{c(){t=qe("line"),this.h()},l(o){t=Ue(o,"line",{"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),this.h()},h(){h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"x1",n=(e[25].level-1)*Vn+Ct),h(t,"y1",l=e[13]+Math.max(0,e[25].parentIndex)*e[3][0]+Ct),h(t,"x2",i=(e[25].level-1)*Vn+Ct),h(t,"y2",r=e[13]+e[27]*e[3][0]+Ct)},m(o,s){A(o,t,s)},p(o,s){s&32&&n!==(n=(o[25].level-1)*Vn+Ct)&&h(t,"x1",n),s&40&&l!==(l=o[13]+Math.max(0,o[25].parentIndex)*o[3][0]+Ct)&&h(t,"y1",l),s&32&&i!==(i=(o[25].level-1)*Vn+Ct)&&h(t,"x2",i),s&8&&r!==(r=o[13]+o[27]*o[3][0]+Ct)&&h(t,"y2",r)},d(o){o&&p(t)}}}function Ba(e){let t,n,l,i,r,o,s=e[25].isLastChild===!0&&Na(e);return{c(){t=qe("line"),s&&s.c(),o=He(),this.h()},l(a){t=Ue(a,"line",{"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),s&&s.l(a),o=He(),this.h()},h(){h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"x1",n=(e[25].level-1)*Vn+Ct),h(t,"y1",l=e[13]+e[27]*e[3][0]+Ct),h(t,"x2",i=Math.ceil((e[25].level+.5)*Vn)+Ct),h(t,"y2",r=e[13]+e[27]*e[3][0]+Ct)},m(a,u){A(a,t,u),s&&s.m(a,u),A(a,o,u)},p(a,u){u&32&&n!==(n=(a[25].level-1)*Vn+Ct)&&h(t,"x1",n),u&8&&l!==(l=a[13]+a[27]*a[3][0]+Ct)&&h(t,"y1",l),u&32&&i!==(i=Math.ceil((a[25].level+.5)*Vn)+Ct)&&h(t,"x2",i),u&8&&r!==(r=a[13]+a[27]*a[3][0]+Ct)&&h(t,"y2",r),a[25].isLastChild===!0?s?s.p(a,u):(s=Na(a),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(a){a&&(p(t),p(o)),s&&s.d(a)}}}function Dh(e){let t,n,l,i;const r=[Ah,Eh,Rh],o=[];function s(a,u){return a[6]!==!0?0:a[8]===!0?1:2}return n=s(e),l=o[n]=r[n](e),{c(){t=b("div"),l.c(),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);l.l(u),u.forEach(p),this.h()},h(){O(t,"min-height","900px")},m(a,u){A(a,t,u),o[n].m(t,null),i=!0},p(a,[u]){let f=n;n=s(a),n===f?o[n].p(a,u):(Ot(),ce(o[f],1,1,()=>{o[f]=null}),Ht(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),oe(l,1),l.m(t,null))},i(a){i||(oe(l),i=!0)},o(a){ce(l),i=!1},d(a){a&&p(t),o[n].d()}}}const Vn=15,Ct=10;function Th(e,t,n){let l,i,r,o,s,a;Dt(e,un,G=>n(7,s=G));function u(G,B,Y,le,Ce,ve,j){const pe=Ch(yh(s.dag[G].linksTreeNested),B),se=kh(pe,Y,le,Ce),we=pe.reduce((ye,ue)=>Math.max(ue.level,ye),0);return n(9,E=se+we*ve+10),pe}function f(G){P.has(G)?P.delete(G):P.add(G),n(14,D=!D)}const d=gn(!1);Dt(e,d,G=>n(8,a=G));let{selectedSourceIndex:g=0}=t,m=[14],_=[60],v=[20],y=!0;const C=Math.ceil(v[0]/2);let E=200;const P=new Set;let D=!1;function T(G){a=G,d.set(a)}function M(G){v=G,n(3,v)}function q(G){m=G,n(1,m)}function V(G){_=G,n(2,_)}function N(){y=this.checked,n(4,y)}const z=()=>Ji("mytree","GOAT-online__tree_"+s.genesets[g].source),H=(G,B)=>f(G.id);return e.$$set=G=>{"selectedSourceIndex"in G&&n(0,g=G.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty&128&&n(6,i=typeof s=="object"&&s.hasDag===!0),e.$$.dirty&449&&n(15,r=()=>i&&a===!1&&typeof s=="object"&&Array.isArray(s.dag)&&s.dag.length>g&&!!s.dag[g]),e.$$.dirty&49175&&n(5,o=r()===!0?u(g,P,_[0],m[0],y,Vn):void 0),e.$$.dirty&40&&n(10,l=v[0]*(Array.isArray(o)?o.length:0)),e.$$.dirty&65&&i&&vf(g,d)},[g,m,_,v,y,o,i,s,a,E,l,f,d,C,D,r,T,M,q,V,N,z,H]}class Vh extends Zt{constructor(t){super(),tn(this,t,Th,Dh,en,{selectedSourceIndex:0})}}function Ph(e,t,n){const i=Jl(un);if((typeof i=="object"&&Array.isArray(i.dag)&&i.dag.length>e&&!!i.dag[e])!==!0)return;typeof t!="string"&&(t="none"),typeof n!="number"&&(n=0);const o=i.dag[e],s=o.nodes,a=o.links,u=o.linksNested,f=o.root;let d=new Set;const g=a.length;if(t==="leaf_only"){const q=new Set,V=new Set;for(let N=0;N<g;N++)q.add(a[N].source),V.add(a[N].target);d=Tr(q,V)}else if(t==="prune_singletons"){const q=s.reduce((z,H)=>(z[H.id]=0,z),{});for(let z=0;z<g;z++)q[a[z].target]=q[a[z].target]+1;const V=Object.keys(q),N=V.length;for(let z=0;z<N;z++)q[V[z]]!==1&&d.add(V[z])}else d=new Set(s.map(q=>q.id));const m=Sf(u,d),_=[],v=new Set,y=m.children.length;for(let q=0;q<y;q++){let V=[];Cf(m.children[q],n,V);let N=V.length;for(let z=0;z<N;z++)v.has(V[z].id)===!1&&(_.push(V[z]),v.add(V[z].id))}const C=_.length;_.sort((q,V)=>(V.ngenes||99999)-(q.ngenes||99999));const E=s.find(q=>q.id===f);if(E===void 0){console.error("treemapData(); cannot find root in nodes array; "+f),console.error(s);return}const P=[],D=new Set;for(let q=0;q<C&&d.size!==D.size;q++){let V=_[q],N,z,H=!1;if(D.has(V.id)===!1&&(d.has(V.id)?(N=V,N.recursiveChildrenShortlist_length>0?z=new Set(N.recursiveChildrenShortlist):z=new Set,z.add(N.id),H=!0,z=Tr(z,D)):V.recursiveChildrenShortlist_length>0&&(z=Tr(new Set(V.recursiveChildrenShortlist),D),z.size>0&&(N=kf(V))),z!==void 0&&z.size>0)){let G=Array.from(z);P.push({id:N.id,name:N.name,ngenes:N.ngenes,shortlistNodes:G,shortlistHasLevel1:H}),G.forEach(B=>{D.add(B)})}}const T=ls(E);T.ngenes=T.ngenes||0,T.group=0,T.children=[];const M=P.length;for(let q=0;q<M;q++){let V=P[q];V.group=q,V.value=Math.sqrt(V.ngenes),V.children=[],V.shortlistNodes.forEach(B=>{const Y=s.find(le=>le.id===B);V.children.push(ls(Y))}),V.children.sort((B,Y)=>Y.ngenes-B.ngenes||B.pvalue-Y.pvalue);const N=V.shortlistNodes.length;let z=0;for(let B=0;B<N;B++)V.children[B].isLeading=B===0,V.children[B].siblingCount=N,V.children[B].parent_id=V.id,V.children[B].parent_name=V.name,V.children[B].group=q,V.children[B].value=Math.sqrt(V.children[B].ngenes),V.children[B].value>z&&(z=V.children[B].value);let H=z/5,G=0;for(let B=0;B<N;B++)V.children[B].value<H&&(V.children[B].value=H),G+=V.children[B].value;for(let B=0;B<N;B++)V.children[B].value=V.children[B].value/G*V.value;N>0&&(V.value=0),T.children.push(V)}return T}function Sf(e,t){if(e.recursiveChildren=[],e.recursiveChildrenShortlist=[],e.recursiveChildren_length=0,e.recursiveChildrenShortlist_length=0,Array.isArray(e.children)&&e.children.length>0){const n=e.children.length;for(let i=0;i<n;i++)e.children[i]=Sf(e.children[i],t),e.recursiveChildren.push(e.children[i].id),e.recursiveChildren=e.recursiveChildren.concat(e.children[i].recursiveChildren);const l=new Set(e.recursiveChildren);e.recursiveChildren=Array.from(l),e.recursiveChildren_length=e.recursiveChildren.length,e.recursiveChildrenShortlist=Array.from(Xf(l,t)),e.recursiveChildrenShortlist_length=e.recursiveChildrenShortlist.length}return e}function Cf(e,t,n){if(t===0||!Array.isArray(e.children)||e.children.length==0||e.ngenes>0&&e.ngenes<=t){n.push(e);return}const l=e.children.length;for(let i=0;i<l;i++)Cf(e.children[i],t,n)}function kf(e){if(typeof e.ngenes=="number"&&e.ngenes>0&&Array.isArray(e.children)&&e.children.length>0){const t=e.children.find(n=>n.ngenes===e.ngenes);if(t!==void 0)return kf(t)}return e}function zh(e,t,n,l,i,r){function o(d,g){g.push({id:d.data.id,name:d.data.name,group:d.data.group,childCount:Array.isArray(d.children)?d.children.length:0,isLeading:d.data.isLeading,siblingCount:d.data.siblingCount,parent_id:d.data.parent_id,parent_name:d.data.parent_name,ngenes:d.data.ngenes,ngenes_input:d.data.ngenes_input,ngenes_signif:d.data.ngenes_signif,pvalue_adjust:d.data.pvalue_adjust,value:d.value,depth:d.depth,x0:d.x0,x1:d.x1,y0:d.y0,y1:d.y1});const m=Array.isArray(d.children)?d.children.length:0;for(let _=0;_<m;_++)o(d.children[_],g)}const s=lo(e);s.sum(d=>d.value),s.sort((d,g)=>Qu(d.value,g.value));const a=(d=>(g,m,_,v,y)=>{d(g,m/l,_,v/l,y);for(const C of g.children)C.x0*=l,C.x1*=l})(rf.ratio(1)),u=Ac().tile(a).size([t,n]).paddingInner(i).paddingTop(r).paddingRight(r).paddingBottom(r).paddingLeft(r).round(!0)(s),f=[];return o(u,f),f}function Fh(e,t){const n=pi(" ",t+"px sans-serif"),l=e.labelString,i=t;if(typeof l!="string"||l==="")return;const r=[],o=l.split(" "),s=o.length;for(let m=0;m<s;m++){let _=o[m].split("-"),v=_.length;if(v>1){for(let y=0;y<v-1;y++)r.push(_[y]+"-");r.push(_[v-1])}else r.push(_[0])}const a=r.length;if(a<2)return r;const u=Math.floor(e.height/t+.2),f=r.map(m=>pi(m,t+"px sans-serif")),d=[r[0]],g=[f[0]];for(let m=1;m<a;m++){if(d.length===u){d[d.length-1]+="…";break}g[d.length-1]+f[m]<=e.width-i?(d[d.length-1]=d[d.length-1]+(d[d.length-1].slice(-1)==="-"?"":" ")+r[m],g[d.length-1]=g[d.length-1]+n+f[m]):(d.push(r[m]),g[d.length-1]=f[m])}return d}function Gh(e,t){const n=/^[A-Z]+:0*/;return t==="name"?e.childCount===0?e.name:"":t==="none"?"":t==="toplevelName"?e.depth===1?e.name:"":t==="leadingName"?e.childCount===0&e.isLeading===!0?e.name:"":t==="leadingNameAndId"?e.childCount===0?e.isLeading===!0?e.name:e.id.replace(n,""):"":e.childCount===0?e.id.replace(n,""):""}function Oh(e,t,n){if(!Array.isArray(e))return;const l="#BBBBBB",i=e.map(a=>a.group||0),r=i.reduce((a,u)=>Math.max(a,u),0),o=Wf(i,r+1),s=e.length;for(let a=0;a<s;a++)e[a].tooltip=e[a].name+`
ngenes: `+e[a].ngenes+" signif: "+e[a].ngenes_signif+`
adj. p-value: `+ji(e[a].pvalue_adjust),e[a].color=o[a]||l,e[a].width=e[a].x1-e[a].x0,e[a].height=e[a].y1-e[a].y0,e[a].centerX=(e[a].x1-e[a].x0)/2,e[a].centerY=(e[a].y1-e[a].y0)/2,e[a].labels=void 0,e[a].labelString=Gh(e[a],t),e[a].labelString!==""&&(e[a].labelSplit=Fh(e[a],n),e[a].labelSplit!==void 0&&(e[a].labels=e[a].labelSplit.map((u,f)=>({label:u,x:e[a].centerX,y:Hh(e[a].labelSplit.length,f,e[a].height,e[a].centerY,n)}))));return e}function Hh(e,t,n,l,i){const r=(e-1)/-2;return e>1&&e*i>n?i/2+i*t:l+(r+t)*i}function ja(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function qa(e,t,n){const l=e.slice();return l[15]=t[n],l[17]=n,l}function Ua(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function Xa(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function Lh(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),fe(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:ut,d(l){l&&p(t)}}}function Nh(e){let t,n,l,i,r,o,s=me(e[5]),a=[];for(let _=0;_<s.length;_+=1)a[_]=Wa(Xa(e,s,_));let u=e[3]!==void 0&&Ya(e),f=me(e[5]),d=[];for(let _=0;_<f.length;_+=1)d[_]=Ja(Ua(e,f,_));let g=me(e[5]),m=[];for(let _=0;_<g.length;_+=1)m[_]=xa(ja(e,g,_));return{c(){t=b("div"),n=qe("svg"),l=qe("defs");for(let _=0;_<a.length;_+=1)a[_].c();u&&u.c(),i=qe("g");for(let _=0;_<d.length;_+=1)d[_].c();r=qe("g");for(let _=0;_<m.length;_+=1)m[_].c();this.h()},l(_){t=w(_,"DIV",{id:!0});var v=S(t);n=Ue(v,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var y=S(n);l=Ue(y,"defs",{});var C=S(l);for(let D=0;D<a.length;D+=1)a[D].l(C);C.forEach(p),u&&u.l(y),i=Ue(y,"g",{});var E=S(i);for(let D=0;D<d.length;D+=1)d[D].l(E);E.forEach(p),r=Ue(y,"g",{});var P=S(r);for(let D=0;D<m.length;D+=1)m[D].l(P);P.forEach(p),y.forEach(p),v.forEach(p),this.h()},h(){h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",e[0]),h(n,"height",e[1]),h(n,"viewBox",o="0 0 "+e[0]+" "+e[1]),h(t,"id","mytreemap")},m(_,v){A(_,t,v),c(t,n),c(n,l);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(l,null);u&&u.m(n,null),c(n,i);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(i,null);c(n,r);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(r,null)},p(_,v){if(v&32){s=me(_[5]);let y;for(y=0;y<s.length;y+=1){const C=Xa(_,s,y);a[y]?a[y].p(C,v):(a[y]=Wa(C),a[y].c(),a[y].m(l,null))}for(;y<a.length;y+=1)a[y].d(1);a.length=s.length}if(_[3]!==void 0?u?u.p(_,v):(u=Ya(_),u.c(),u.m(n,i)):u&&(u.d(1),u=null),v&40){f=me(_[5]);let y;for(y=0;y<f.length;y+=1){const C=Ua(_,f,y);d[y]?d[y].p(C,v):(d[y]=Ja(C),d[y].c(),d[y].m(i,null))}for(;y<d.length;y+=1)d[y].d(1);d.length=f.length}if(v&36){g=me(_[5]);let y;for(y=0;y<g.length;y+=1){const C=ja(_,g,y);m[y]?m[y].p(C,v):(m[y]=xa(C),m[y].c(),m[y].m(r,null))}for(;y<m.length;y+=1)m[y].d(1);m.length=g.length}v&1&&h(n,"width",_[0]),v&2&&h(n,"height",_[1]),v&3&&o!==(o="0 0 "+_[0]+" "+_[1])&&h(n,"viewBox",o)},d(_){_&&p(t),ot(a,_),u&&u.d(),ot(d,_),ot(m,_)}}}function Wa(e){let t,n,l,i,r,o;return{c(){t=qe("clipPath"),n=qe("rect"),this.h()},l(s){t=Ue(s,"clipPath",{id:!0});var a=S(t);n=Ue(a,"rect",{x:!0,y:!0,width:!0,height:!0}),S(n).forEach(p),a.forEach(p),this.h()},h(){h(n,"x",l=e[12].x0),h(n,"y",i=e[12].y0),h(n,"width",r=e[12].width),h(n,"height",o=e[12].height),h(t,"id","clipid-"+e[14])},m(s,a){A(s,t,a),c(t,n)},p(s,a){a&32&&l!==(l=s[12].x0)&&h(n,"x",l),a&32&&i!==(i=s[12].y0)&&h(n,"y",i),a&32&&r!==(r=s[12].width)&&h(n,"width",r),a&32&&o!==(o=s[12].height)&&h(n,"height",o)},d(s){s&&p(t)}}}function Ya(e){let t,n,l,i,r;return{c(){t=qe("rect"),this.h()},l(o){t=Ue(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0});var s=S(t);s.forEach(p),this.h()},h(){h(t,"x",n=e[4]*2),h(t,"y",l=e[4]*2),h(t,"width",i=e[0]-4*e[4]),h(t,"height",r=e[1]-4*e[4]),h(t,"fill",e[3])},m(o,s){A(o,t,s)},p(o,s){s&16&&n!==(n=o[4]*2)&&h(t,"x",n),s&16&&l!==(l=o[4]*2)&&h(t,"y",l),s&17&&i!==(i=o[0]-4*o[4])&&h(t,"width",i),s&18&&r!==(r=o[1]-4*o[4])&&h(t,"height",r),s&8&&h(t,"fill",o[3])},d(o){o&&p(t)}}}function Ka(e){let t,n,l=e[12].tooltip+"",i,r,o,s,a,u,f=e[3]!==void 0&&Za(e);return{c(){f&&f.c(),t=qe("rect"),n=qe("title"),i=X(l),this.h()},l(d){f&&f.l(d),t=Ue(d,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"fill-opacity":!0});var g=S(t);n=Ue(g,"title",{});var m=S(n);i=W(m,l),m.forEach(p),g.forEach(p),this.h()},h(){h(t,"x",r=e[12].x0),h(t,"y",o=e[12].y0),h(t,"width",s=e[12].width),h(t,"height",a=e[12].height),h(t,"fill",u=e[12].color),h(t,"fill-opacity","0.6")},m(d,g){f&&f.m(d,g),A(d,t,g),c(t,n),c(n,i)},p(d,g){d[3]!==void 0?f?f.p(d,g):(f=Za(d),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),g&32&&l!==(l=d[12].tooltip+"")&&Ve(i,l),g&32&&r!==(r=d[12].x0)&&h(t,"x",r),g&32&&o!==(o=d[12].y0)&&h(t,"y",o),g&32&&s!==(s=d[12].width)&&h(t,"width",s),g&32&&a!==(a=d[12].height)&&h(t,"height",a),g&32&&u!==(u=d[12].color)&&h(t,"fill",u)},d(d){d&&p(t),f&&f.d(d)}}}function Za(e){let t,n,l,i,r;return{c(){t=qe("rect"),this.h()},l(o){t=Ue(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0});var s=S(t);s.forEach(p),this.h()},h(){h(t,"x",n=e[12].x0),h(t,"y",l=e[12].y0),h(t,"width",i=e[12].width),h(t,"height",r=e[12].height),h(t,"fill","#ffffff")},m(o,s){A(o,t,s)},p(o,s){s&32&&n!==(n=o[12].x0)&&h(t,"x",n),s&32&&l!==(l=o[12].y0)&&h(t,"y",l),s&32&&i!==(i=o[12].width)&&h(t,"width",i),s&32&&r!==(r=o[12].height)&&h(t,"height",r)},d(o){o&&p(t)}}}function Ja(e){let t,n=e[12].childCount===0&&Ka(e);return{c(){n&&n.c(),t=He()},l(l){n&&n.l(l),t=He()},m(l,i){n&&n.m(l,i),A(l,t,i)},p(l,i){l[12].childCount===0?n?n.p(l,i):(n=Ka(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&p(t),n&&n.d(l)}}}function Qa(e){let t,n,l,i,r=me(e[12].labels),o=[];for(let s=0;s<r.length;s+=1)o[s]=$a(qa(e,r,s));return{c(){t=qe("text");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=Ue(s,"text",{"font-size":!0,"font-family":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,"clip-path":!0});var a=S(t);for(let u=0;u<o.length;u+=1)o[u].l(a);a.forEach(p),this.h()},h(){h(t,"font-size",n=e[2]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"text-anchor","middle"),h(t,"dominant-baseline","middle"),h(t,"x",l=e[12].x0),h(t,"y",i=e[12].y0),h(t,"fill","black"),h(t,"clip-path","url(#clipid-"+e[14]+")")},m(s,a){A(s,t,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null)},p(s,a){if(a&32){r=me(s[12].labels);let u;for(u=0;u<r.length;u+=1){const f=qa(s,r,u);o[u]?o[u].p(f,a):(o[u]=$a(f),o[u].c(),o[u].m(t,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}a&4&&n!==(n=s[2]+"px")&&h(t,"font-size",n),a&32&&l!==(l=s[12].x0)&&h(t,"x",l),a&32&&i!==(i=s[12].y0)&&h(t,"y",i)},d(s){s&&p(t),ot(o,s)}}}function $a(e){let t,n=e[15].label+"",l,i,r;return{c(){t=qe("tspan"),l=X(n),this.h()},l(o){t=Ue(o,"tspan",{x:!0,y:!0});var s=S(t);l=W(s,n),s.forEach(p),this.h()},h(){h(t,"x",i=e[12].x0+e[15].x),h(t,"y",r=e[12].y0+e[15].y)},m(o,s){A(o,t,s),c(t,l)},p(o,s){s&32&&n!==(n=o[15].label+"")&&Ve(l,n),s&32&&i!==(i=o[12].x0+o[15].x)&&h(t,"x",i),s&32&&r!==(r=o[12].y0+o[15].y)&&h(t,"y",r)},d(o){o&&p(t)}}}function xa(e){let t=Array.isArray(e[12].labels)&&e[12].labels.length>0,n,l=t&&Qa(e);return{c(){l&&l.c(),n=He()},l(i){l&&l.l(i),n=He()},m(i,r){l&&l.m(i,r),A(i,n,r)},p(i,r){r&32&&(t=Array.isArray(i[12].labels)&&i[12].labels.length>0),t?l?l.p(i,r):(l=Qa(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){i&&p(n),l&&l.d(i)}}}function Bh(e){let t;function n(r,o){return r[5]!==void 0?Nh:Lh}let l=n(e),i=l(e);return{c(){i.c(),t=He()},l(r){i.l(r),t=He()},m(r,o){i.m(r,o),A(r,t,o)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(t.parentNode,t)))},i:ut,o:ut,d(r){r&&p(t),i.d(r)}}}function jh(e,t,n){let l,i,r,o,{selectedSourceIndex:s=0}=t,{width:a=500}=t,{height:u=500}=t,{ratio:f=3}=t,{textSize:d=14}=t,{labelType:g="name"}=t,{backgroundColor:m="#eaeaea"}=t,{simplifyMethod:_="none"}=t;return e.$$set=v=>{"selectedSourceIndex"in v&&n(6,s=v.selectedSourceIndex),"width"in v&&n(0,a=v.width),"height"in v&&n(1,u=v.height),"ratio"in v&&n(7,f=v.ratio),"textSize"in v&&n(2,d=v.textSize),"labelType"in v&&n(8,g=v.labelType),"backgroundColor"in v&&n(3,m=v.backgroundColor),"simplifyMethod"in v&&n(9,_=v.simplifyMethod)},e.$$.update=()=>{e.$$.dirty&3&&n(4,l=Math.min(a,u)<300?1:Math.min(a,u)<500?2:3),e.$$.dirty&576&&n(11,i=Ph(s,_)),e.$$.dirty&2195&&n(10,r=i?zh(i,a,u,f,1,l):void 0),e.$$.dirty&1284&&n(5,o=r!==void 0?Oh(r,g,d):void 0)},[a,u,d,m,l,o,s,f,g,_,r,i]}class qh extends Zt{constructor(t){super(),tn(this,t,jh,Bh,en,{selectedSourceIndex:6,width:0,height:1,ratio:7,textSize:2,labelType:8,backgroundColor:3,simplifyMethod:9})}}function eu(e,t,n){const l=e.slice();return l[21]=t[n],l}function tu(e,t,n){const l=e.slice();return l[21]=t[n],l}function Uh(e){let t,n=`<div>Use the interactive tool below to create a customized treemap visualization. Each tile is a
				significant gene set from your GOAT results. The tree structure was inferred from the
				parent/child relations that are encoded in the selected gene set database. Only 2
				hierarchical levels/nestings are encoded, with parents encoded by color (change the &quot;label
				style&quot; to &quot;parent name&quot; to view parent names). Hover your mouse cursor over the question
				mark symbols for further details.</div> <div>Hover the tiles to view details for each gene set (full name, number of genes, adjusted
				p-value).</div>`,l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,E,P,D,T,M,q,V,N,z,H,G,B,Y,le,Ce,ve,j,pe,se,we,ye,ue,F,de,x,Ie,be,Xe,Ye="download",Be,ae,ct,Oe,Se,vt=`simplify: <i class="helpicon" style="margin-left: 5px; margin-bottom: 4px;" data-tooltip="${wn.TREEMAP_SIMPLIFY}"></i>`,J,he,$,ge,ze,_e,Le,et;function St(U){e[14](U)}let Ke={min:100,max:1200,step:10,pipstep:50,pips:!0,first:"label",last:"label",rest:"pip"};e[3]!==void 0&&(Ke.values=e[3]),f=new jt({props:Ke}),gt.push(()=>mt(f,"values",St));function rt(U){e[15](U)}let dt={min:100,max:1200,step:10,pipstep:50,pips:!0,first:"label",last:"label",rest:"pip"};e[4]!==void 0&&(dt.values=e[4]),C=new jt({props:dt}),gt.push(()=>mt(C,"values",rt));function Me(U){e[16](U)}let tt={min:1,max:5,step:1,pipstep:1,pips:!0,first:"label",last:"label",rest:"pip"};e[5]!==void 0&&(tt.values=e[5]),V=new jt({props:tt}),gt.push(()=>mt(V,"values",Me));function ke(U){e[17](U)}let lt={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[6]!==void 0&&(lt.values=e[6]),le=new jt({props:lt}),gt.push(()=>mt(le,"values",ke));let it=me(Object.keys(e[11])),I=[];for(let U=0;U<it.length;U+=1)I[U]=nu(tu(e,it,U));let ee=me(Object.keys(e[12])),De=[];for(let U=0;U<ee.length;U+=1)De[U]=lu(eu(e,ee,U));return ze=new qh({props:{selectedSourceIndex:e[0],width:e[3][0],height:e[4][0],ratio:e[5][0],textSize:e[6][0],labelType:e[7],simplifyMethod:e[8]}}),{c(){t=b("div"),t.innerHTML=n,l=k(),i=b("div"),r=b("div"),o=b("div"),s=X("Plot width: "),a=X(e[3]),u=k(),Je(f.$$.fragment),g=k(),m=b("div"),_=X("Plot height: "),v=X(e[4]),y=k(),Je(C.$$.fragment),P=k(),D=b("div"),T=X("Tile ratio: "),M=X(e[5]),q=k(),Je(V.$$.fragment),z=k(),H=b("div"),G=X("Geneset name size: "),B=X(e[6]),Y=k(),Je(le.$$.fragment),ve=k(),j=b("div"),pe=X("Label style: "),se=b("i"),we=k(),ye=b("br"),ue=k(),F=b("select");for(let U=0;U<I.length;U+=1)I[U].c();de=k(),x=b("div"),Ie=b("div"),be=b("div"),Xe=b("button"),Xe.textContent=Ye,Be=k(),ae=b("i"),ct=k(),Oe=b("div"),Se=b("div"),Se.innerHTML=vt,J=k(),he=b("select");for(let U=0;U<De.length;U+=1)De[U].c();$=k(),ge=b("div"),Je(ze.$$.fragment),this.h()},l(U){t=w(U,"DIV",{style:!0,"data-svelte-h":!0}),fe(t)!=="svelte-ivy8cf"&&(t.innerHTML=n),l=R(U),i=w(U,"DIV",{style:!0});var Te=S(i);r=w(Te,"DIV",{style:!0});var ne=S(r);o=w(ne,"DIV",{});var Fe=S(o);s=W(Fe,"Plot width: "),a=W(Fe,e[3]),u=R(Fe),xe(f.$$.fragment,Fe),Fe.forEach(p),g=R(ne),m=w(ne,"DIV",{});var Ne=S(m);_=W(Ne,"Plot height: "),v=W(Ne,e[4]),y=R(Ne),xe(C.$$.fragment,Ne),Ne.forEach(p),P=R(ne),D=w(ne,"DIV",{});var K=S(D);T=W(K,"Tile ratio: "),M=W(K,e[5]),q=R(K),xe(V.$$.fragment,K),K.forEach(p),z=R(ne),H=w(ne,"DIV",{});var Z=S(H);G=W(Z,"Geneset name size: "),B=W(Z,e[6]),Y=R(Z),xe(le.$$.fragment,Z),Z.forEach(p),ve=R(ne),j=w(ne,"DIV",{style:!0});var Re=S(j);pe=W(Re,"Label style: "),se=w(Re,"I",{class:!0,style:!0,"data-tooltip":!0}),S(se).forEach(p),we=R(Re),ye=w(Re,"BR",{}),ue=R(Re),F=w(Re,"SELECT",{});var at=S(F);for(let st=0;st<I.length;st+=1)I[st].l(at);at.forEach(p),Re.forEach(p),ne.forEach(p),de=R(Te),x=w(Te,"DIV",{style:!0});var je=S(x);Ie=w(je,"DIV",{style:!0});var Q=S(Ie);be=w(Q,"DIV",{style:!0});var Ee=S(be);Xe=w(Ee,"BUTTON",{"data-svelte-h":!0}),fe(Xe)!=="svelte-1f0phuj"&&(Xe.textContent=Ye),Be=R(Ee),ae=w(Ee,"I",{class:!0,style:!0,"data-tooltip":!0}),S(ae).forEach(p),Ee.forEach(p),Q.forEach(p),ct=R(je),Oe=w(je,"DIV",{style:!0});var Pe=S(Oe);Se=w(Pe,"DIV",{style:!0,"data-svelte-h":!0}),fe(Se)!=="svelte-2fifuj"&&(Se.innerHTML=vt),J=R(Pe),he=w(Pe,"SELECT",{});var bt=S(he);for(let st=0;st<De.length;st+=1)De[st].l(bt);bt.forEach(p),Pe.forEach(p),je.forEach(p),Te.forEach(p),$=R(U),ge=w(U,"DIV",{});var wt=S(ge);xe(ze.$$.fragment,wt),wt.forEach(p),this.h()},h(){O(t,"margin-bottom","10px"),O(t,"border-bottom","1px solid grey"),O(t,"padding-bottom","20px"),h(se,"class","helpicon"),O(se,"margin-right","2px"),O(se,"float","left"),h(se,"data-tooltip",wn.TREEMAP_LABELS),e[7]===void 0&&Qn(()=>e[18].call(F)),O(j,"display","inline-block"),O(r,"display","flex"),O(r,"justify-content","space-between"),h(ae,"class","helpicon"),O(ae,"margin-left","5px"),h(ae,"data-tooltip",wn.DOWNLOAD),O(be,"display","flex"),O(Ie,"align-self","flex-end"),O(Se,"display","flex"),O(Se,"align-items","center"),e[8]===void 0&&Qn(()=>e[20].call(he)),O(Oe,"margin-left","80px"),O(x,"display","flex"),O(x,"justify-content","start"),O(i,"margin-bottom","50px"),O(i,"border-bottom","1px solid grey"),O(i,"padding-bottom","20px")},m(U,Te){A(U,t,Te),A(U,l,Te),A(U,i,Te),c(i,r),c(r,o),c(o,s),c(o,a),c(o,u),Qe(f,o,null),c(r,g),c(r,m),c(m,_),c(m,v),c(m,y),Qe(C,m,null),c(r,P),c(r,D),c(D,T),c(D,M),c(D,q),Qe(V,D,null),c(r,z),c(r,H),c(H,G),c(H,B),c(H,Y),Qe(le,H,null),c(r,ve),c(r,j),c(j,pe),c(j,se),c(j,we),c(j,ye),c(j,ue),c(j,F);for(let ne=0;ne<I.length;ne+=1)I[ne]&&I[ne].m(F,null);an(F,e[7],!0),c(i,de),c(i,x),c(x,Ie),c(Ie,be),c(be,Xe),c(be,Be),c(be,ae),c(x,ct),c(x,Oe),c(Oe,Se),c(Oe,J),c(Oe,he);for(let ne=0;ne<De.length;ne+=1)De[ne]&&De[ne].m(he,null);an(he,e[8],!0),A(U,$,Te),A(U,ge,Te),Qe(ze,ge,null),_e=!0,Le||(et=[ie(F,"change",e[18]),ie(Xe,"click",e[19]),ie(he,"change",e[20])],Le=!0)},p(U,Te){(!_e||Te&8)&&Ve(a,U[3]);const ne={};!d&&Te&8&&(d=!0,ne.values=U[3],_t(()=>d=!1)),f.$set(ne),(!_e||Te&16)&&Ve(v,U[4]);const Fe={};!E&&Te&16&&(E=!0,Fe.values=U[4],_t(()=>E=!1)),C.$set(Fe),(!_e||Te&32)&&Ve(M,U[5]);const Ne={};!N&&Te&32&&(N=!0,Ne.values=U[5],_t(()=>N=!1)),V.$set(Ne),(!_e||Te&64)&&Ve(B,U[6]);const K={};if(!Ce&&Te&64&&(Ce=!0,K.values=U[6],_t(()=>Ce=!1)),le.$set(K),Te&2048){it=me(Object.keys(U[11]));let Re;for(Re=0;Re<it.length;Re+=1){const at=tu(U,it,Re);I[Re]?I[Re].p(at,Te):(I[Re]=nu(at),I[Re].c(),I[Re].m(F,null))}for(;Re<I.length;Re+=1)I[Re].d(1);I.length=it.length}if(Te&2176&&an(F,U[7]),Te&4096){ee=me(Object.keys(U[12]));let Re;for(Re=0;Re<ee.length;Re+=1){const at=eu(U,ee,Re);De[Re]?De[Re].p(at,Te):(De[Re]=lu(at),De[Re].c(),De[Re].m(he,null))}for(;Re<De.length;Re+=1)De[Re].d(1);De.length=ee.length}Te&4352&&an(he,U[8]);const Z={};Te&1&&(Z.selectedSourceIndex=U[0]),Te&8&&(Z.width=U[3][0]),Te&16&&(Z.height=U[4][0]),Te&32&&(Z.ratio=U[5][0]),Te&64&&(Z.textSize=U[6][0]),Te&128&&(Z.labelType=U[7]),Te&256&&(Z.simplifyMethod=U[8]),ze.$set(Z)},i(U){_e||(oe(f.$$.fragment,U),oe(C.$$.fragment,U),oe(V.$$.fragment,U),oe(le.$$.fragment,U),oe(ze.$$.fragment,U),_e=!0)},o(U){ce(f.$$.fragment,U),ce(C.$$.fragment,U),ce(V.$$.fragment,U),ce(le.$$.fragment,U),ce(ze.$$.fragment,U),_e=!1},d(U){U&&(p(t),p(l),p(i),p($),p(ge)),$e(f),$e(C),$e(V),$e(le),ot(I,U),ot(De,U),$e(ze),Le=!1,Kt(et)}}}function Xh(e){let t,n,l,i,r;function o(a){e[13](a)}let s={colour:"black",size:"1.5em"};return e[9]!==void 0&&(s.show=e[9]),n=new Jn({props:s}),gt.push(()=>mt(n,"show",o)),{c(){t=b("div"),Je(n.$$.fragment),i=X(`\r
			computing...`)},l(a){t=w(a,"DIV",{});var u=S(t);xe(n.$$.fragment,u),i=W(u,`\r
			computing...`),u.forEach(p)},m(a,u){A(a,t,u),Qe(n,t,null),c(t,i),r=!0},p(a,u){const f={};!l&&u&512&&(l=!0,f.show=a[9],_t(()=>l=!1)),n.$set(f)},i(a){r||(oe(n.$$.fragment,a),r=!0)},o(a){ce(n.$$.fragment,a),r=!1},d(a){a&&p(t),$e(n)}}}function Wh(e){let t,n=`The gene set database does not incorporate parent-child relations; visualization of\r
			tree-structure is not available.`;return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),fe(t)!=="svelte-bsqo89"&&(t.textContent=n)},m(l,i){A(l,t,i)},p:ut,i:ut,o:ut,d(l){l&&p(t)}}}function nu(e){let t,n=e[11][e[21]]+"",l,i;return{c(){t=b("option"),l=X(n),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=W(o,n),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[21],Bt(t,t.__value)},m(r,o){A(r,t,o),c(t,l),c(t,i)},p:ut,d(r){r&&p(t)}}}function lu(e){let t,n=e[12][e[21]]+"",l,i;return{c(){t=b("option"),l=X(n),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=W(o,n),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[21],Bt(t,t.__value)},m(r,o){A(r,t,o),c(t,l),c(t,i)},p:ut,d(r){r&&p(t)}}}function Yh(e){let t,n,l,i;const r=[Wh,Xh,Uh],o=[];function s(a,u){return a[1]!==!0?0:a[9]===!0?1:2}return n=s(e),l=o[n]=r[n](e),{c(){t=b("div"),l.c(),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);l.l(u),u.forEach(p),this.h()},h(){O(t,"min-height","900px")},m(a,u){A(a,t,u),o[n].m(t,null),i=!0},p(a,[u]){let f=n;n=s(a),n===f?o[n].p(a,u):(Ot(),ce(o[f],1,1,()=>{o[f]=null}),Ht(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),oe(l,1),l.m(t,null))},i(a){i||(oe(l),i=!0)},o(a){ce(l),i=!1},d(a){a&&p(t),o[n].d()}}}function Kh(e,t,n){let l,i,r;Dt(e,un,V=>n(2,i=V));const o=gn(!1);Dt(e,o,V=>n(9,r=V));let{selectedSourceIndex:s=0}=t,a=[800],u=[400],f=[3],d=[14],g="name",m="none";const _={name:"name",id:"ID",leadingName:"1 name per branch",leadingNameAndId:"1 name per branch + IDs",toplevelName:"parent name",none:"no labels"},v={none:"disable",prune_singletons:"prune singletons",leaf_only:"only leaf nodes"};function y(V){r=V,o.set(r)}function C(V){a=V,n(3,a)}function E(V){u=V,n(4,u)}function P(V){f=V,n(5,f)}function D(V){d=V,n(6,d)}function T(){g=Ql(this),n(7,g),n(11,_)}const M=()=>Ji("mytreemap","GOAT-online__treemap_"+i.genesets[s].source);function q(){m=Ql(this),n(8,m),n(12,v)}return e.$$set=V=>{"selectedSourceIndex"in V&&n(0,s=V.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty&4&&n(1,l=typeof i=="object"&&i.hasDag===!0),e.$$.dirty&3&&l&&vf(s,o)},[s,l,i,a,u,f,d,g,m,r,o,_,v,y,C,E,P,D,T,M,q]}class Zh extends Zt{constructor(t){super(),tn(this,t,Kh,Yh,en,{selectedSourceIndex:0})}}function iu(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function ru(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function ou(e,t,n){const l=e.slice();return l[23]=t[n],l[21]=n,l}function su(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function au(e,t,n){const l=e.slice();return l[26]=t[n],l[28]=n,l}function uu(e,t,n){const l=e.slice();return l[23]=t[n],l[21]=n,l}function fu(e,t,n){const l=e.slice();return l[23]=t[n],l[21]=n,l}function Jh(e){let t,n,l,i;return{c(){t=b("div"),n=X("This analysis requires at least 3 and at most "),l=X(e[6]),i=X(` (significant) genesets. If you identified\r
		a huge number of genesets for the currently selected GO domain, consider a more stringent setting\r
		for the adjusted p-value threshold (i.e. reduce the number of significant genesets which concentrates\r
		downstream interpretation on top results).`)},l(r){t=w(r,"DIV",{});var o=S(t);n=W(o,"This analysis requires at least 3 and at most "),l=W(o,e[6]),i=W(o,` (significant) genesets. If you identified\r
		a huge number of genesets for the currently selected GO domain, consider a more stringent setting\r
		for the adjusted p-value threshold (i.e. reduce the number of significant genesets which concentrates\r
		downstream interpretation on top results).`),o.forEach(p)},m(r,o){A(r,t,o),c(t,n),c(t,l),c(t,i)},p(r,o){o&64&&Ve(l,r[6])},d(r){r&&p(t)}}}function Qh(e){let t,n,l,i,r,o,s,a,u,f=me(e[8].sortedIndices),d=[];for(let y=0;y<f.length;y+=1)d[y]=du(fu(e,f,y));let g=e[2]!==""&&cu(e),m=me(e[8].sortedIndices),_=[];for(let y=0;y<m.length;y+=1)_[y]=pu(su(e,m,y));let v=e[10]!==0&&_u(e);return{c(){t=b("div"),n=qe("svg"),l=qe("g");for(let y=0;y<d.length;y+=1)d[y].c();i=He(),g&&g.c(),r=qe("g");for(let y=0;y<_.length;y+=1)_[y].c();o=He(),v&&v.c(),this.h()},l(y){t=w(y,"DIV",{id:!0});var C=S(t);n=Ue(C,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var E=S(n);l=Ue(E,"g",{});var P=S(l);for(let T=0;T<d.length;T+=1)d[T].l(P);i=He(),g&&g.l(P),P.forEach(p),r=Ue(E,"g",{});var D=S(r);for(let T=0;T<_.length;T+=1)_[T].l(D);o=He(),v&&v.l(D),D.forEach(p),E.forEach(p),C.forEach(p),this.h()},h(){h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",s=e[14]+2*Ge),h(n,"height",a=e[13]+2*Ge),h(n,"viewBox",u="0 0 "+(e[14]+2*Ge)+" "+(e[13]+2*Ge)),h(t,"id","myheatmap")},m(y,C){A(y,t,C),c(t,n),c(n,l);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(l,null);c(l,i),g&&g.m(l,null),c(n,r);for(let E=0;E<_.length;E+=1)_[E]&&_[E].m(r,null);c(r,o),v&&v.m(r,null)},p(y,C){if(C&771){f=me(y[8].sortedIndices);let E;for(E=0;E<f.length;E+=1){const P=fu(y,f,E);d[E]?d[E].p(P,C):(d[E]=du(P),d[E].c(),d[E].m(l,i))}for(;E<d.length;E+=1)d[E].d(1);d.length=f.length}if(y[2]!==""?g?g.p(y,C):(g=cu(y),g.c(),g.m(l,null)):g&&(g.d(1),g=null),C&1930){m=me(y[8].sortedIndices);let E;for(E=0;E<m.length;E+=1){const P=su(y,m,E);_[E]?_[E].p(P,C):(_[E]=pu(P),_[E].c(),_[E].m(r,o))}for(;E<_.length;E+=1)_[E].d(1);_.length=m.length}y[10]!==0?v?v.p(y,C):(v=_u(y),v.c(),v.m(r,null)):v&&(v.d(1),v=null),C&16384&&s!==(s=y[14]+2*Ge)&&h(n,"width",s),C&8192&&a!==(a=y[13]+2*Ge)&&h(n,"height",a),C&24576&&u!==(u="0 0 "+(y[14]+2*Ge)+" "+(y[13]+2*Ge))&&h(n,"viewBox",u)},d(y){y&&p(t),ot(d,y),g&&g.d(),ot(_,y),v&&v.d()}}}function du(e){let t,n=e[8].genesets[e[23]].nameTruncated+"",l,i,r,o;return{c(){t=qe("text"),l=X(n),this.h()},l(s){t=Ue(s,"text",{"font-size":!0,"font-family":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0});var a=S(t);l=W(a,n),a.forEach(p),this.h()},h(){h(t,"font-size",i=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",r=e[9]-Math.ceil(e[1]/2)+Ge),h(t,"y",o=Math.ceil(e[1]/2)+e[21]*e[1]+Ge),h(t,"fill","black")},m(s,a){A(s,t,a),c(t,l)},p(s,a){a&256&&n!==(n=s[8].genesets[s[23]].nameTruncated+"")&&Ve(l,n),a&1&&i!==(i=s[0]+"px")&&h(t,"font-size",i),a&514&&r!==(r=s[9]-Math.ceil(s[1]/2)+Ge)&&h(t,"x",r),a&2&&o!==(o=Math.ceil(s[1]/2)+s[21]*s[1]+Ge)&&h(t,"y",o)},d(s){s&&p(t)}}}function cu(e){let t,n=me(e[7]?e[8].sortedIndices:e[8].sortedIndicesColumns),l=[];for(let i=0;i<n.length;i+=1)l[i]=gu(uu(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=He()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=He()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r&1927){n=me(i[7]?i[8].sortedIndices:i[8].sortedIndicesColumns);let o;for(o=0;o<n.length;o+=1){const s=uu(i,n,o);l[o]?l[o].p(s,r):(l[o]=gu(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),ot(l,i)}}}function gu(e){let t,n=e[8].genesets[e[23]].nameTruncated+"",l,i,r,o,s;return{c(){t=qe("text"),l=X(n),this.h()},l(a){t=Ue(a,"text",{"font-size":!0,"font-family":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,transform:!0});var u=S(t);l=W(u,n),u.forEach(p),this.h()},h(){h(t,"font-size",i=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",r=e[9]+e[21]*e[1]+Math.ceil(e[1]/2)+e[10]+Ge),h(t,"y",o=e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Ge),h(t,"fill","black"),h(t,"transform",s="rotate("+e[2]+","+(e[9]+e[21]*e[1]+Math.ceil(e[1]/2)+e[10]+Ge)+","+(e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Ge)+")")},m(a,u){A(a,t,u),c(t,l)},p(a,u){u&384&&n!==(n=a[8].genesets[a[23]].nameTruncated+"")&&Ve(l,n),u&1&&i!==(i=a[0]+"px")&&h(t,"font-size",i),u&1538&&r!==(r=a[9]+a[21]*a[1]+Math.ceil(a[1]/2)+a[10]+Ge)&&h(t,"x",r),u&258&&o!==(o=a[8].genesets.length*a[1]+Math.ceil(a[1]/2)+Ge)&&h(t,"y",o),u&1798&&s!==(s="rotate("+a[2]+","+(a[9]+a[21]*a[1]+Math.ceil(a[1]/2)+a[10]+Ge)+","+(a[8].genesets.length*a[1]+Math.ceil(a[1]/2)+Ge)+")")&&h(t,"transform",s)},d(a){a&&p(t)}}}function $h(e){let t="row: "+e[8].genesets[e[19]].name+`
column: `+e[8].genesets[e[26]].name+`
similarity score (column is superset of row): `+e[8].dist[e[19]][e[26]].toPrecision(2)+`
gene count for row: `+e[8].genesets[e[19]].ngenes+"  column: "+ +e[8].genesets[e[26]].ngenes,n;return{c(){n=X(t)},l(l){n=W(l,t)},m(l,i){A(l,n,i)},p(l,i){i&384&&t!==(t="row: "+l[8].genesets[l[19]].name+`
column: `+l[8].genesets[l[26]].name+`
similarity score (column is superset of row): `+l[8].dist[l[19]][l[26]].toPrecision(2)+`
gene count for row: `+l[8].genesets[l[19]].ngenes+"  column: "+ +l[8].genesets[l[26]].ngenes)&&Ve(n,t)},d(l){l&&p(n)}}}function xh(e){let t="diagonal: "+e[8].genesets[e[19]].name+`
gene count: `+e[8].genesets[e[19]].ngenes,n;return{c(){n=X(t)},l(l){n=W(l,t)},m(l,i){A(l,n,i)},p(l,i){i&256&&t!==(t="diagonal: "+l[8].genesets[l[19]].name+`
gene count: `+l[8].genesets[l[19]].ngenes)&&Ve(n,t)},d(l){l&&p(n)}}}function hu(e){let t,n,l,i,r,o;function s(f,d){return f[7]&&f[19]===f[26]?xh:$h}let a=s(e),u=a(e);return{c(){t=qe("rect"),n=qe("title"),u.c(),this.h()},l(f){t=Ue(f,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0});var d=S(t);n=Ue(d,"title",{});var g=S(n);u.l(g),g.forEach(p),d.forEach(p),this.h()},h(){h(t,"x",l=e[9]+e[28]*e[1]+e[10]+Ge),h(t,"y",i=e[21]*e[1]+1+Ge),h(t,"width",e[1]),h(t,"height",e[1]),h(t,"fill",r=is(e[8].dist[e[19]][e[26]],e[3])),h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width",o=e[1]>=8?1:.5),h(t,"stroke-miterlimit","10")},m(f,d){A(f,t,d),c(t,n),u.m(n,null)},p(f,d){a===(a=s(f))&&u?u.p(f,d):(u.d(1),u=a(f),u&&(u.c(),u.m(n,null))),d&1538&&l!==(l=f[9]+f[28]*f[1]+f[10]+Ge)&&h(t,"x",l),d&2&&i!==(i=f[21]*f[1]+1+Ge)&&h(t,"y",i),d&2&&h(t,"width",f[1]),d&2&&h(t,"height",f[1]),d&392&&r!==(r=is(f[8].dist[f[19]][f[26]],f[3]))&&h(t,"fill",r),d&2&&o!==(o=f[1]>=8?1:.5)&&h(t,"stroke-width",o)},d(f){f&&p(t),u.d()}}}function pu(e){let t,n=me(e[7]?e[8].sortedIndices:e[8].sortedIndicesColumns),l=[];for(let i=0;i<n.length;i+=1)l[i]=hu(au(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=He()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=He()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r&1930){n=me(i[7]?i[8].sortedIndices:i[8].sortedIndicesColumns);let o;for(o=0;o<n.length;o+=1){const s=au(i,n,o);l[o]?l[o].p(s,r):(l[o]=hu(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),ot(l,i)}}}function _u(e){let t,n,l,i,r=e[5]===!0&&mu(e),o=me(e[8].sortedIndices),s=[];for(let f=0;f<o.length;f+=1)s[f]=wu(ru(e,o,f));let a=e[2]!==""&&yu(e),u=e[4]===!0&&Su(e);return{c(){r&&r.c(),t=He();for(let f=0;f<s.length;f+=1)s[f].c();n=He(),a&&a.c(),l=He(),u&&u.c(),i=He()},l(f){r&&r.l(f),t=He();for(let d=0;d<s.length;d+=1)s[d].l(f);n=He(),a&&a.l(f),l=He(),u&&u.l(f),i=He()},m(f,d){r&&r.m(f,d),A(f,t,d);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(f,d);A(f,n,d),a&&a.m(f,d),A(f,l,d),u&&u.m(f,d),A(f,i,d)},p(f,d){if(f[5]===!0?r?r.p(f,d):(r=mu(f),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),d&35618){o=me(f[8].sortedIndices);let g;for(g=0;g<o.length;g+=1){const m=ru(f,o,g);s[g]?s[g].p(m,d):(s[g]=wu(m),s[g].c(),s[g].m(n.parentNode,n))}for(;g<s.length;g+=1)s[g].d(1);s.length=o.length}f[2]!==""?a?a.p(f,d):(a=yu(f),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),f[4]===!0?u?u.p(f,d):(u=Su(f),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},d(f){f&&(p(t),p(n),p(l),p(i)),r&&r.d(f),ot(s,f),a&&a.d(f),u&&u.d(f)}}}function mu(e){let t,n,l=me(e[8].sortedIndices),i=[];for(let o=0;o<l.length;o+=1)i[o]=vu(ou(e,l,o));let r=e[2]!==""&&bu(e);return{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=He(),r&&r.c(),n=He()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);t=He(),r&&r.l(o),n=He()},m(o,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,s);A(o,t,s),r&&r.m(o,s),A(o,n,s)},p(o,s){if(s&2818){l=me(o[8].sortedIndices);let a;for(a=0;a<l.length;a+=1){const u=ou(o,l,a);i[a]?i[a].p(u,s):(i[a]=vu(u),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=l.length}o[2]!==""?r?r.p(o,s):(r=bu(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){o&&(p(t),p(n)),ot(i,o),r&&r.d(o)}}}function vu(e){let t,n,l,i,r;return{c(){t=qe("rect"),this.h()},l(o){t=Ue(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),S(t).forEach(p),this.h()},h(){h(t,"x",n=e[9]+Ge),h(t,"y",l=e[21]*e[1]+1+Ge),h(t,"width",e[11]),h(t,"height",e[1]),h(t,"fill",i=Ru(e[8].genesets[e[23]].score_type)),h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width",r=e[1]>=8?1:.5),h(t,"stroke-miterlimit","10")},m(o,s){A(o,t,s)},p(o,s){s&512&&n!==(n=o[9]+Ge)&&h(t,"x",n),s&2&&l!==(l=o[21]*o[1]+1+Ge)&&h(t,"y",l),s&2048&&h(t,"width",o[11]),s&2&&h(t,"height",o[1]),s&256&&i!==(i=Ru(o[8].genesets[o[23]].score_type))&&h(t,"fill",i),s&2&&r!==(r=o[1]>=8?1:.5)&&h(t,"stroke-width",r)},d(o){o&&p(t)}}}function bu(e){let t,n,l,i,r,o;return{c(){t=qe("text"),n=X(`score type\r
							`),this.h()},l(s){t=Ue(s,"text",{"font-size":!0,"font-family":!0,"font-weight":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,transform:!0});var a=S(t);n=W(a,`score type\r
							`),a.forEach(p),this.h()},h(){h(t,"font-size",l=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"font-weight","bold"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",i=e[9]+Ge+Math.round(e[11]/4)),h(t,"y",r=e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Ge),h(t,"fill","black"),h(t,"transform",o="rotate("+e[2]+","+(e[9]+Ge+Math.round(e[11]/4))+","+(e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Ge)+")")},m(s,a){A(s,t,a),c(t,n)},p(s,a){a&1&&l!==(l=s[0]+"px")&&h(t,"font-size",l),a&2560&&i!==(i=s[9]+Ge+Math.round(s[11]/4))&&h(t,"x",i),a&258&&r!==(r=s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Ge)&&h(t,"y",r),a&2822&&o!==(o="rotate("+s[2]+","+(s[9]+Ge+Math.round(s[11]/4))+","+(s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Ge)+")")&&h(t,"transform",o)},d(s){s&&p(t)}}}function wu(e){let t,n,l,i,r;return{c(){t=qe("rect"),this.h()},l(o){t=Ue(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),S(t).forEach(p),this.h()},h(){h(t,"x",n=e[9]+Ge+(e[5]?e[11]:0)),h(t,"y",l=e[21]*e[1]+1+Ge),h(t,"width",e[11]),h(t,"height",e[1]),h(t,"fill",i=e[8].clusters[e[15]-2].index2clusterColor[e[19]]),h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width",r=e[1]>=8?1:.5),h(t,"stroke-miterlimit","10")},m(o,s){A(o,t,s)},p(o,s){s&2592&&n!==(n=o[9]+Ge+(o[5]?o[11]:0))&&h(t,"x",n),s&2&&l!==(l=o[21]*o[1]+1+Ge)&&h(t,"y",l),s&2048&&h(t,"width",o[11]),s&2&&h(t,"height",o[1]),s&33024&&i!==(i=o[8].clusters[o[15]-2].index2clusterColor[o[19]])&&h(t,"fill",i),s&2&&r!==(r=o[1]>=8?1:.5)&&h(t,"stroke-width",r)},d(o){o&&p(t)}}}function yu(e){let t,n,l,i,r,o;return{c(){t=qe("text"),n=X(`cluster\r
						`),this.h()},l(s){t=Ue(s,"text",{"font-size":!0,"font-family":!0,"font-weight":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,transform:!0});var a=S(t);n=W(a,`cluster\r
						`),a.forEach(p),this.h()},h(){h(t,"font-size",l=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"font-weight","bold"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",i=e[9]+Ge+Math.round(e[11]/2)+(e[5]?e[11]:0)),h(t,"y",r=e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Ge),h(t,"fill","black"),h(t,"transform",o="rotate("+e[2]+","+(e[9]+Ge+Math.round(e[11]/2)+(e[5]?e[11]:0))+","+(e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Ge)+")")},m(s,a){A(s,t,a),c(t,n)},p(s,a){a&1&&l!==(l=s[0]+"px")&&h(t,"font-size",l),a&2592&&i!==(i=s[9]+Ge+Math.round(s[11]/2)+(s[5]?s[11]:0))&&h(t,"x",i),a&258&&r!==(r=s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Ge)&&h(t,"y",r),a&2854&&o!==(o="rotate("+s[2]+","+(s[9]+Ge+Math.round(s[11]/2)+(s[5]?s[11]:0))+","+(s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Ge)+")")&&h(t,"transform",o)},d(s){s&&p(t)}}}function Su(e){let t,n=me(e[8].sortedIndices),l=[];for(let i=0;i<n.length;i+=1)l[i]=ku(iu(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=He()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=He()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);A(i,t,r)},p(i,r){if(r&33538){n=me(i[8].sortedIndices);let o;for(o=0;o<n.length;o+=1){const s=iu(i,n,o);l[o]?l[o].p(s,r):(l[o]=ku(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),ot(l,i)}}}function Cu(e){let t,n,l,i,r;return{c(){t=qe("line"),this.h()},l(o){t=Ue(o,"line",{"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),this.h()},h(){h(t,"shape-rendering","crispEdges"),h(t,"stroke","green"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"x1",n=e[1]+Ge),h(t,"y1",l=e[21]*e[1]+Ge-1),h(t,"x2",i=e[9]+Ge),h(t,"y2",r=e[21]*e[1]+Ge-1)},m(o,s){A(o,t,s)},p(o,s){s&2&&n!==(n=o[1]+Ge)&&h(t,"x1",n),s&2&&l!==(l=o[21]*o[1]+Ge-1)&&h(t,"y1",l),s&512&&i!==(i=o[9]+Ge)&&h(t,"x2",i),s&2&&r!==(r=o[21]*o[1]+Ge-1)&&h(t,"y2",r)},d(o){o&&p(t)}}}function ku(e){let t,n=e[21]!==0&&e[8].clusters[e[15]-2].index2cluster[e[19]]!==e[8].clusters[e[15]-2].index2cluster[e[8].sortedIndices[e[21]-1]]&&Cu(e);return{c(){n&&n.c(),t=He()},l(l){n&&n.l(l),t=He()},m(l,i){n&&n.m(l,i),A(l,t,i)},p(l,i){l[21]!==0&&l[8].clusters[l[15]-2].index2cluster[l[19]]!==l[8].clusters[l[15]-2].index2cluster[l[8].sortedIndices[l[21]-1]]?n?n.p(l,i):(n=Cu(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&p(t),n&&n.d(l)}}}function e1(e){let t;function n(r,o){if(r[8]!==void 0)return Qh;if(r[12]===!1)return Jh}let l=n(e),i=l&&l(e);return{c(){i&&i.c(),t=He()},l(r){i&&i.l(r),t=He()},m(r,o){i&&i.m(r,o),A(r,t,o)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i&&i.d(1),i=l&&l(r),i&&(i.c(),i.m(t.parentNode,t)))},i:ut,o:ut,d(r){r&&p(t),i&&i.d(r)}}}const Ge=10;function Ru(e){return e==="effectsize_down"?"#5E7ABC":e==="effectsize_up"?"#E57373":"#78909C"}function t1(e,t,n){let l,i,r,o,s,a,u,f,d;Dt(e,un,M=>n(18,d=M));let{selectedSourceIndex:g=0}=t,{textSize:m=8}=t,{rowHeight:_=8}=t,{labelRotate:v="-45"}=t,{clusterCount:y=8}=t,{colors:C=void 0}=t,{showClusterMarker:E=!0}=t,{showAnnotationScoretype:P=!0}=t,{maxGenesetCount:D=400}=t,{showSymmetricHeatmap:T=!1}=t;return e.$$set=M=>{"selectedSourceIndex"in M&&n(16,g=M.selectedSourceIndex),"textSize"in M&&n(0,m=M.textSize),"rowHeight"in M&&n(1,_=M.rowHeight),"labelRotate"in M&&n(2,v=M.labelRotate),"clusterCount"in M&&n(17,y=M.clusterCount),"colors"in M&&n(3,C=M.colors),"showClusterMarker"in M&&n(4,E=M.showClusterMarker),"showAnnotationScoretype"in M&&n(5,P=M.showAnnotationScoretype),"maxGenesetCount"in M&&n(6,D=M.maxGenesetCount),"showSymmetricHeatmap"in M&&n(7,T=M.showSymmetricHeatmap)},e.$$.update=()=>{e.$$.dirty&327680&&n(12,l=typeof d=="object"&&Array.isArray(d.genesetDistances)&&d.genesetDistances.length>g&&!!d.genesetDistances[g]&&d.genesets[g].stats.signif_count>2&&Array.isArray(d.genesetDistances[g].clusters)),e.$$.dirty&331776&&n(8,i=l&&d.genesetDistances[g]?d.genesetDistances[g]:void 0),e.$$.dirty&258&&n(9,r=i!==void 0?i.maxLabelWidth+_:0),e.$$.dirty&131328&&n(15,o=y<2||i===void 0?2:Math.max(0,Math.min(y,i.clusters[i.clusters.length-1].size))),e.$$.dirty&2&&n(11,s=Math.max(4,Math.ceil(_*.75))),e.$$.dirty&133152&&n(10,a=(y!==0?s:0)+(P?s:0)+(y!==0||P?Math.ceil(s/2):0)),e.$$.dirty&1794&&n(14,u=i!==void 0?r+a+_*i.genesets.length+1:200),e.$$.dirty&774&&n(13,f=i!==void 0?(v===""?1:r*(v==="-45"?.75:1))+_*i.genesets.length:200)},[m,_,v,C,E,P,D,T,i,r,a,s,l,f,u,o,g,y,d]}class n1 extends Zt{constructor(t){super(),tn(this,t,t1,e1,en,{selectedSourceIndex:16,textSize:0,rowHeight:1,labelRotate:2,clusterCount:17,colors:3,showClusterMarker:4,showAnnotationScoretype:5,maxGenesetCount:6,showSymmetricHeatmap:7})}}function l1(){return new Worker(""+new URL("../workers/WorkerGenesetDistances-5597ad90.js",import.meta.url).href)}function Eu(e,t,n){const l=e.slice();return l[31]=t[n],l}function Au(e,t,n){const l=e.slice();return l[31]=t[n],l}function i1(e){let t,n=`<div>Use the interactive tool below to create a customized heatmap visualization of significant
				gene sets. A gene set similarity matrix is computed from the (gene score weighted)
				proportion of overlap between each pair of gene sets. After hierarchical clustering it is
				visualized below. Hover your mouse cursor over the question mark symbols for further
				details. Hover your mouse cursor over the question mark symbols for further details.</div> <div>Hover any gene set in the heatmap to view details (full name of respective gene sets in row and column,
				gene set sizes / gene constituent count, similarity score; 1 is perfect overlap and 0 is no overlap).</div>`,l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,E,P,D,T,M,q,V,N,z,H,G,B,Y,le,Ce,ve,j,pe,se,we,ye,ue,F,de,x,Ie,be,Xe,Ye,Be,ae,ct,Oe,Se,vt,J,he,$,ge,ze,_e,Le,et,St="download",Ke,rt,dt,Me,tt,ke,lt,it;function I(Q){e[18](Q)}let ee={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[5]!==void 0&&(ee.values=e[5]),f=new jt({props:ee}),gt.push(()=>mt(f,"values",I));function De(Q){e[19](Q)}let U={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[2]!==void 0&&(U.values=e[2]),C=new jt({props:U}),gt.push(()=>mt(C,"values",De));function Te(Q){e[20](Q)}let ne={min:20,max:100,step:1,pipstep:10,pips:!0,first:"label",last:"label",rest:"pip"};e[3]!==void 0&&(ne.values=e[3]),V=new jt({props:ne}),gt.push(()=>mt(V,"values",Te));let Fe=me(Object.keys(e[15])),Ne=[];for(let Q=0;Q<Fe.length;Q+=1)Ne[Q]=Iu(Au(e,Fe,Q));let K=me(Object.keys(zi)),Z=[];for(let Q=0;Q<K.length;Q+=1)Z[Q]=Mu(Eu(e,K,Q));function Re(Q){e[24](Q)}let at={min:2,max:e[12],step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[7]!==void 0&&(at.values=e[7]),Oe=new jt({props:at}),gt.push(()=>mt(Oe,"values",Re));let je=e[1]==="effectsize"&&Du(e);return tt=new n1({props:{selectedSourceIndex:e[0],textSize:e[2][0],rowHeight:e[5][0],labelRotate:e[6],clusterCount:e[7][0],colors:zi[e[8]],showClusterMarker:e[9],showAnnotationScoretype:e[11]&&e[1]==="effectsize",maxGenesetCount:Rf,showSymmetricHeatmap:e[10]}}),{c(){t=b("div"),t.innerHTML=n,l=k(),i=b("div"),r=b("div"),o=b("div"),s=X("Cell size: "),a=X(e[5]),u=k(),Je(f.$$.fragment),g=k(),m=b("div"),_=X("Geneset name size: "),v=X(e[2]),y=k(),Je(C.$$.fragment),P=k(),D=b("div"),T=X("Max. text length: "),M=X(e[3]),q=k(),Je(V.$$.fragment),z=k(),H=b("div"),G=X(`x-axis labels:\r
					`),B=b("br"),Y=k(),le=b("select");for(let Q=0;Q<Ne.length;Q+=1)Ne[Q].c();Ce=k(),ve=b("div"),j=X(`Color palette:\r
					`),pe=b("br"),se=k(),we=b("select");for(let Q=0;Q<Z.length;Q+=1)Z[Q].c();ye=k(),ue=b("div"),F=b("input"),de=X(" Cluster"),x=b("br"),Ie=X("delimiter line"),be=k(),Xe=b("div"),Ye=b("div"),Be=X("Cluster count: "),ae=X(e[7]),ct=k(),Je(Oe.$$.fragment),vt=k(),J=b("div"),he=b("input"),$=X(" Symmetric matrix"),ge=k(),je&&je.c(),ze=k(),_e=b("div"),Le=b("div"),et=b("button"),et.textContent=St,Ke=k(),rt=b("i"),dt=k(),Me=b("div"),Je(tt.$$.fragment),this.h()},l(Q){t=w(Q,"DIV",{style:!0,"data-svelte-h":!0}),fe(t)!=="svelte-5cmtrb"&&(t.innerHTML=n),l=R(Q),i=w(Q,"DIV",{style:!0});var Ee=S(i);r=w(Ee,"DIV",{style:!0});var Pe=S(r);o=w(Pe,"DIV",{style:!0});var bt=S(o);s=W(bt,"Cell size: "),a=W(bt,e[5]),u=R(bt),xe(f.$$.fragment,bt),bt.forEach(p),g=R(Pe),m=w(Pe,"DIV",{});var wt=S(m);_=W(wt,"Geneset name size: "),v=W(wt,e[2]),y=R(wt),xe(C.$$.fragment,wt),wt.forEach(p),P=R(Pe),D=w(Pe,"DIV",{});var st=S(D);T=W(st,"Max. text length: "),M=W(st,e[3]),q=R(st),xe(V.$$.fragment,st),st.forEach(p),z=R(Pe),H=w(Pe,"DIV",{});var yt=S(H);G=W(yt,`x-axis labels:\r
					`),B=w(yt,"BR",{}),Y=R(yt),le=w(yt,"SELECT",{});var nt=S(le);for(let nn=0;nn<Ne.length;nn+=1)Ne[nn].l(nt);nt.forEach(p),yt.forEach(p),Ce=R(Pe),ve=w(Pe,"DIV",{});var zt=S(ve);j=W(zt,`Color palette:\r
					`),pe=w(zt,"BR",{}),se=R(zt),we=w(zt,"SELECT",{});var qt=S(we);for(let nn=0;nn<Z.length;nn+=1)Z[nn].l(qt);qt.forEach(p),zt.forEach(p),ye=R(Pe),ue=w(Pe,"DIV",{});var Ut=S(ue);F=w(Ut,"INPUT",{type:!0}),de=W(Ut," Cluster"),x=w(Ut,"BR",{}),Ie=W(Ut,"delimiter line"),Ut.forEach(p),Pe.forEach(p),be=R(Ee),Xe=w(Ee,"DIV",{style:!0});var Pt=S(Xe);Ye=w(Pt,"DIV",{style:!0});var Xt=S(Ye);Be=W(Xt,"Cluster count: "),ae=W(Xt,e[7]),ct=R(Xt),xe(Oe.$$.fragment,Xt),Xt.forEach(p),vt=R(Pt),J=w(Pt,"DIV",{style:!0});var pn=S(J);he=w(pn,"INPUT",{type:!0}),$=W(pn," Symmetric matrix"),pn.forEach(p),ge=R(Pt),je&&je.l(Pt),Pt.forEach(p),ze=R(Ee),_e=w(Ee,"DIV",{style:!0});var Jt=S(_e);Le=w(Jt,"DIV",{style:!0});var kt=S(Le);et=w(kt,"BUTTON",{"data-svelte-h":!0}),fe(et)!=="svelte-c2a3ob"&&(et.textContent=St),Ke=R(kt),rt=w(kt,"I",{class:!0,style:!0,"data-tooltip":!0}),S(rt).forEach(p),kt.forEach(p),Jt.forEach(p),Ee.forEach(p),dt=R(Q),Me=w(Q,"DIV",{});var Hn=S(Me);xe(tt.$$.fragment,Hn),Hn.forEach(p),this.h()},h(){O(t,"margin-bottom","10px"),O(t,"border-bottom","1px solid grey"),O(t,"padding-bottom","20px"),O(o,"min-width","120px"),e[6]===void 0&&Qn(()=>e[21].call(le)),e[8]===void 0&&Qn(()=>e[22].call(we)),h(F,"type","checkbox"),O(r,"display","flex"),O(r,"justify-content","space-between"),O(Ye,"min-width","120px"),h(he,"type","checkbox"),O(J,"margin-left","40px"),O(J,"align-self","center"),O(Xe,"display","flex"),O(Xe,"justify-content","start"),h(rt,"class","helpicon"),O(rt,"margin-left","5px"),h(rt,"data-tooltip",wn.DOWNLOAD),O(Le,"display","flex"),O(_e,"align-self","flex-end"),O(i,"margin-bottom","50px"),O(i,"border-bottom","1px solid grey"),O(i,"padding-bottom","20px")},m(Q,Ee){A(Q,t,Ee),A(Q,l,Ee),A(Q,i,Ee),c(i,r),c(r,o),c(o,s),c(o,a),c(o,u),Qe(f,o,null),c(r,g),c(r,m),c(m,_),c(m,v),c(m,y),Qe(C,m,null),c(r,P),c(r,D),c(D,T),c(D,M),c(D,q),Qe(V,D,null),c(r,z),c(r,H),c(H,G),c(H,B),c(H,Y),c(H,le);for(let Pe=0;Pe<Ne.length;Pe+=1)Ne[Pe]&&Ne[Pe].m(le,null);an(le,e[6],!0),c(r,Ce),c(r,ve),c(ve,j),c(ve,pe),c(ve,se),c(ve,we);for(let Pe=0;Pe<Z.length;Pe+=1)Z[Pe]&&Z[Pe].m(we,null);an(we,e[8],!0),c(r,ye),c(r,ue),c(ue,F),F.checked=e[9],c(ue,de),c(ue,x),c(ue,Ie),c(i,be),c(i,Xe),c(Xe,Ye),c(Ye,Be),c(Ye,ae),c(Ye,ct),Qe(Oe,Ye,null),c(Xe,vt),c(Xe,J),c(J,he),he.checked=e[10],c(J,$),c(Xe,ge),je&&je.m(Xe,null),c(i,ze),c(i,_e),c(_e,Le),c(Le,et),c(Le,Ke),c(Le,rt),A(Q,dt,Ee),A(Q,Me,Ee),Qe(tt,Me,null),ke=!0,lt||(it=[ie(le,"change",e[21]),ie(we,"change",e[22]),ie(F,"change",e[23]),ie(he,"change",e[25]),ie(et,"click",e[27])],lt=!0)},p(Q,Ee){(!ke||Ee[0]&32)&&Ve(a,Q[5]);const Pe={};!d&&Ee[0]&32&&(d=!0,Pe.values=Q[5],_t(()=>d=!1)),f.$set(Pe),(!ke||Ee[0]&4)&&Ve(v,Q[2]);const bt={};!E&&Ee[0]&4&&(E=!0,bt.values=Q[2],_t(()=>E=!1)),C.$set(bt),(!ke||Ee[0]&8)&&Ve(M,Q[3]);const wt={};if(!N&&Ee[0]&8&&(N=!0,wt.values=Q[3],_t(()=>N=!1)),V.$set(wt),Ee[0]&32768){Fe=me(Object.keys(Q[15]));let nt;for(nt=0;nt<Fe.length;nt+=1){const zt=Au(Q,Fe,nt);Ne[nt]?Ne[nt].p(zt,Ee):(Ne[nt]=Iu(zt),Ne[nt].c(),Ne[nt].m(le,null))}for(;nt<Ne.length;nt+=1)Ne[nt].d(1);Ne.length=Fe.length}if(Ee[0]&32832&&an(le,Q[6]),Ee&0){K=me(Object.keys(zi));let nt;for(nt=0;nt<K.length;nt+=1){const zt=Eu(Q,K,nt);Z[nt]?Z[nt].p(zt,Ee):(Z[nt]=Mu(zt),Z[nt].c(),Z[nt].m(we,null))}for(;nt<Z.length;nt+=1)Z[nt].d(1);Z.length=K.length}Ee[0]&256&&an(we,Q[8]),Ee[0]&512&&(F.checked=Q[9]),(!ke||Ee[0]&128)&&Ve(ae,Q[7]);const st={};Ee[0]&4096&&(st.max=Q[12]),!Se&&Ee[0]&128&&(Se=!0,st.values=Q[7],_t(()=>Se=!1)),Oe.$set(st),Ee[0]&1024&&(he.checked=Q[10]),Q[1]==="effectsize"?je?je.p(Q,Ee):(je=Du(Q),je.c(),je.m(Xe,null)):je&&(je.d(1),je=null);const yt={};Ee[0]&1&&(yt.selectedSourceIndex=Q[0]),Ee[0]&4&&(yt.textSize=Q[2][0]),Ee[0]&32&&(yt.rowHeight=Q[5][0]),Ee[0]&64&&(yt.labelRotate=Q[6]),Ee[0]&128&&(yt.clusterCount=Q[7][0]),Ee[0]&256&&(yt.colors=zi[Q[8]]),Ee[0]&512&&(yt.showClusterMarker=Q[9]),Ee[0]&2050&&(yt.showAnnotationScoretype=Q[11]&&Q[1]==="effectsize"),Ee[0]&1024&&(yt.showSymmetricHeatmap=Q[10]),tt.$set(yt)},i(Q){ke||(oe(f.$$.fragment,Q),oe(C.$$.fragment,Q),oe(V.$$.fragment,Q),oe(Oe.$$.fragment,Q),oe(tt.$$.fragment,Q),ke=!0)},o(Q){ce(f.$$.fragment,Q),ce(C.$$.fragment,Q),ce(V.$$.fragment,Q),ce(Oe.$$.fragment,Q),ce(tt.$$.fragment,Q),ke=!1},d(Q){Q&&(p(t),p(l),p(i),p(dt),p(Me)),$e(f),$e(C),$e(V),ot(Ne,Q),ot(Z,Q),$e(Oe),je&&je.d(),$e(tt),lt=!1,Kt(it)}}}function r1(e){let t,n,l,i,r;function o(a){e[17](a)}let s={colour:"black",size:"1.5em"};return e[13]!==void 0&&(s.show=e[13]),n=new Jn({props:s}),gt.push(()=>mt(n,"show",o)),{c(){t=b("div"),Je(n.$$.fragment),i=X(`\r
			computing...`)},l(a){t=w(a,"DIV",{});var u=S(t);xe(n.$$.fragment,u),i=W(u,`\r
			computing...`),u.forEach(p)},m(a,u){A(a,t,u),Qe(n,t,null),c(t,i),r=!0},p(a,u){const f={};!l&&u[0]&8192&&(l=!0,f.show=a[13],_t(()=>l=!1)),n.$set(f)},i(a){r||(oe(n.$$.fragment,a),r=!0)},o(a){ce(n.$$.fragment,a),r=!1},d(a){a&&p(t),$e(n)}}}function Iu(e){let t,n=e[15][e[31]]+"",l,i;return{c(){t=b("option"),l=X(n),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=W(o,n),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[31],Bt(t,t.__value)},m(r,o){A(r,t,o),c(t,l),c(t,i)},p:ut,d(r){r&&p(t)}}}function Mu(e){let t,n=e[31]+"",l,i;return{c(){t=b("option"),l=X(n),i=k(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=W(o,n),i=R(o),o.forEach(p),this.h()},h(){t.__value=e[31],Bt(t,t.__value)},m(r,o){A(r,t,o),c(t,l),c(t,i)},p:ut,d(r){r&&p(t)}}}function Du(e){let t,n,l,i,r,o,s,a,u="annotation sidebar",f,d;return{c(){t=b("div"),n=b("div"),l=b("div"),i=b("input"),r=X(` score type\r
								`),o=b("i"),s=k(),a=b("div"),a.textContent=u,this.h()},l(g){t=w(g,"DIV",{style:!0});var m=S(t);n=w(m,"DIV",{});var _=S(n);l=w(_,"DIV",{style:!0});var v=S(l);i=w(v,"INPUT",{type:!0}),r=W(v,` score type\r
								`),o=w(v,"I",{class:!0,style:!0,"data-tooltip":!0}),S(o).forEach(p),v.forEach(p),s=R(_),a=w(_,"DIV",{"data-svelte-h":!0}),fe(a)!=="svelte-qorfh7"&&(a.textContent=u),_.forEach(p),m.forEach(p),this.h()},h(){h(i,"type","checkbox"),h(o,"class","helpicon"),O(o,"margin-left","5px"),h(o,"data-tooltip",wn.HEATMAP_SCORETYPE),O(l,"display","flex"),O(t,"margin-left","40px"),O(t,"align-self","center")},m(g,m){A(g,t,m),c(t,n),c(n,l),c(l,i),i.checked=e[11],c(l,r),c(l,o),c(n,s),c(n,a),f||(d=ie(i,"change",e[26]),f=!0)},p(g,m){m[0]&2048&&(i.checked=g[11])},d(g){g&&p(t),f=!1,d()}}}function o1(e){let t,n,l,i;const r=[r1,i1],o=[];function s(a,u){return a[13]===!0?0:1}return n=s(e),l=o[n]=r[n](e),{c(){t=b("div"),l.c(),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);l.l(u),u.forEach(p),this.h()},h(){O(t,"min-height","900px")},m(a,u){A(a,t,u),o[n].m(t,null),i=!0},p(a,u){let f=n;n=s(a),n===f?o[n].p(a,u):(Ot(),ce(o[f],1,1,()=>{o[f]=null}),Ht(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),oe(l,1),l.m(t,null))},i(a){i||(oe(l),i=!0)},o(a){ce(l),i=!1},d(a){a&&p(t),o[n].d()}}}const Rf=400;function s1(e,t,n){let l,i,r,o;Dt(e,un,j=>n(4,r=j));const s=new l1;s.onmessage=function(j){if(f.update(pe=>!1),j&&typeof j=="object"&&typeof j.data=="object"){const pe=j.data;un.set(a(pe,d,_,m))}else console.error("heatmap worker error;"),console.error(j)};function a(j,pe,se,we){const ye=j&&Array.isArray(j.genesetDistances)&&j.genesetDistances[pe]||void 0;if(ye===void 0)return j;const ue=we+"px sans-serif";let F=0;const de=ye.genesets.length;for(let x=0;x<de;x++)ye.genesets[x].nameTruncated=xr(ye.genesets[x].name,se),F=Math.max(F,pi(ye.genesets[x].nameTruncated,ue));return ye.maxLabelWidth=Math.ceil(F)||400,j.genesetDistances[pe]=ye,j}function u(){typeof r=="object"&&Array.isArray(r.genesets)&&r.genesets[d].stats.signif_count<=Rf&&Array.isArray(r.genesetDistances)&&!r.genesetDistances[d]&&(f.update(j=>!0),s.postMessage(JSON.stringify({selectedSourceIndex:d,data:r})))}const f=gn(!1);Dt(e,f,j=>n(13,o=j));let{selectedSourceIndex:d=0}=t,{scoreType:g="pvalue"}=t,m=[12],_=[40],v=[12],y="-45",C=[6],E="Viridis",P=!0,D=!1,T=!0;const M={"-45":"Diagonal","-90":"Vertical","":"hide"};function q(j){o=j,f.set(o)}function V(j){v=j,n(5,v)}function N(j){m=j,n(2,m)}function z(j){_=j,n(3,_)}function H(){y=Ql(this),n(6,y),n(15,M)}function G(){E=Ql(this),n(8,E)}function B(){P=this.checked,n(9,P)}function Y(j){C=j,n(7,C)}function le(){D=this.checked,n(10,D)}function Ce(){T=this.checked,n(11,T)}const ve=()=>Ji("myheatmap","GOAT-online__heatmap_"+r.genesets[d].source);return e.$$set=j=>{"selectedSourceIndex"in j&&n(0,d=j.selectedSourceIndex),"scoreType"in j&&n(1,g=j.scoreType)},e.$$.update=()=>{e.$$.dirty[0]&1&&u(),e.$$.dirty[0]&29&&un.set(a(r,d,_,m)),e.$$.dirty[0]&17&&n(16,l=typeof r=="object"&&Array.isArray(r.genesetDistances)&&r.genesetDistances.length>d&&!!r.genesetDistances[d]&&r.genesets[d].stats.signif_count>2),e.$$.dirty[0]&65553&&n(12,i=l&&Math.min(Math.ceil(r.genesets[d].stats.signif_count/2),50)||0)},[d,g,m,_,r,v,y,C,E,P,D,T,i,o,f,M,l,q,V,N,z,H,G,B,Y,le,Ce,ve]}class a1 extends Zt{constructor(t){super(),tn(this,t,s1,o1,en,{selectedSourceIndex:0,scoreType:1},null,[-1,-1])}}const{document:jr}=Qf;function Tu(e,t,n){const l=e.slice();return l[76]=t[n],l[78]=n,l}function Vu(e,t,n){const l=e.slice();return l[76]=t[n],l}function Pu(e,t,n){const l=e.slice();return l[76]=t[n],l[78]=n,l}function u1(e){let t,n="status:",l,i,r,o,s="no gene list loaded yet";return{c(){t=b("b"),t.textContent=n,l=k(),i=b("br"),r=k(),o=b("div"),o.textContent=s,this.h()},l(a){t=w(a,"B",{"data-svelte-h":!0}),fe(t)!=="svelte-jrlymk"&&(t.textContent=n),l=R(a),i=w(a,"BR",{}),r=R(a),o=w(a,"DIV",{class:!0,"data-svelte-h":!0}),fe(o)!=="svelte-10sgbjm"&&(o.textContent=s),this.h()},h(){h(o,"class","alert")},m(a,u){A(a,t,u),A(a,l,u),A(a,i,u),A(a,r,u),A(a,o,u)},p:ut,d(a){a&&(p(t),p(l),p(i),p(r),p(o))}}}function f1(e){let t,n="file:",l,i=e[5].filename+"",r,o,s,a,u="number of genes:",f,d=e[5].genelist.length+"",g,m,_,v,y="available score types:",C,E=e[5].scoretype_options.join(", ")+"",P,D,T,M=e[5].scoretype_options.indexOf("effectsize")===-1,q,V=M&&zu();return{c(){t=b("b"),t.textContent=n,l=k(),r=X(i),o=b("br"),s=k(),a=b("b"),a.textContent=u,f=k(),g=X(d),m=b("br"),_=k(),v=b("b"),v.textContent=y,C=k(),P=X(E),D=b("br"),T=k(),V&&V.c(),q=He()},l(N){t=w(N,"B",{"data-svelte-h":!0}),fe(t)!=="svelte-12axs8s"&&(t.textContent=n),l=R(N),r=W(N,i),o=w(N,"BR",{}),s=R(N),a=w(N,"B",{"data-svelte-h":!0}),fe(a)!=="svelte-wpkigu"&&(a.textContent=u),f=R(N),g=W(N,d),m=w(N,"BR",{}),_=R(N),v=w(N,"B",{"data-svelte-h":!0}),fe(v)!=="svelte-zasc7m"&&(v.textContent=y),C=R(N),P=W(N,E),D=w(N,"BR",{}),T=R(N),V&&V.l(N),q=He()},m(N,z){A(N,t,z),A(N,l,z),A(N,r,z),A(N,o,z),A(N,s,z),A(N,a,z),A(N,f,z),A(N,g,z),A(N,m,z),A(N,_,z),A(N,v,z),A(N,C,z),A(N,P,z),A(N,D,z),A(N,T,z),V&&V.m(N,z),A(N,q,z)},p(N,z){z[0]&32&&i!==(i=N[5].filename+"")&&Ve(r,i),z[0]&32&&d!==(d=N[5].genelist.length+"")&&Ve(g,d),z[0]&32&&E!==(E=N[5].scoretype_options.join(", ")+"")&&Ve(P,E),z[0]&32&&(M=N[5].scoretype_options.indexOf("effectsize")===-1),M?V||(V=zu(),V.c(),V.m(q.parentNode,q)):V&&(V.d(1),V=null)},d(N){N&&(p(t),p(l),p(r),p(o),p(s),p(a),p(f),p(g),p(m),p(_),p(v),p(C),p(P),p(D),p(T),p(q)),V&&V.d(N)}}}function d1(e){let t,n="error while loading your gene list:",l,i,r;return{c(){t=b("b"),t.textContent=n,l=k(),i=b("div"),r=X(e[13]),this.h()},l(o){t=w(o,"B",{"data-svelte-h":!0}),fe(t)!=="svelte-1au53s9"&&(t.textContent=n),l=R(o),i=w(o,"DIV",{class:!0});var s=S(i);r=W(s,e[13]),s.forEach(p),this.h()},h(){h(i,"class","alert")},m(o,s){A(o,t,s),A(o,l,s),A(o,i,s),c(i,r)},p(o,s){s[0]&8192&&Ve(r,o[13])},d(o){o&&(p(t),p(l),p(i))}}}function zu(e){let t,n="no effectsize column found in your genelist.";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-1kp58o5"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function c1(e){let t,n="status:",l,i,r,o,s="no gene sets loaded yet";return{c(){t=b("b"),t.textContent=n,l=k(),i=b("br"),r=k(),o=b("div"),o.textContent=s,this.h()},l(a){t=w(a,"B",{"data-svelte-h":!0}),fe(t)!=="svelte-jrlymk"&&(t.textContent=n),l=R(a),i=w(a,"BR",{}),r=R(a),o=w(a,"DIV",{class:!0,"data-svelte-h":!0}),fe(o)!=="svelte-10qe6gp"&&(o.textContent=s),this.h()},h(){h(o,"class","alert")},m(a,u){A(a,t,u),A(a,l,u),A(a,i,u),A(a,r,u),A(a,o,u)},p:ut,d(a){a&&(p(t),p(l),p(i),p(r),p(o))}}}function g1(e){let t,n="version:",l,i=e[19].source_version+"",r,o,s,a,u="gene set count:",f,d=e[19].length+"",g,m,_,v,y="gene set sources:",C,E=e[19].sources.join(", ")+"",P,D;return{c(){t=b("b"),t.textContent=n,l=k(),r=X(i),o=b("br"),s=k(),a=b("b"),a.textContent=u,f=k(),g=X(d),m=b("br"),_=k(),v=b("b"),v.textContent=y,C=k(),P=X(E),D=b("br")},l(T){t=w(T,"B",{"data-svelte-h":!0}),fe(t)!=="svelte-9p3di"&&(t.textContent=n),l=R(T),r=W(T,i),o=w(T,"BR",{}),s=R(T),a=w(T,"B",{"data-svelte-h":!0}),fe(a)!=="svelte-12y9d9s"&&(a.textContent=u),f=R(T),g=W(T,d),m=w(T,"BR",{}),_=R(T),v=w(T,"B",{"data-svelte-h":!0}),fe(v)!=="svelte-1iuw5f"&&(v.textContent=y),C=R(T),P=W(T,E),D=w(T,"BR",{})},m(T,M){A(T,t,M),A(T,l,M),A(T,r,M),A(T,o,M),A(T,s,M),A(T,a,M),A(T,f,M),A(T,g,M),A(T,m,M),A(T,_,M),A(T,v,M),A(T,C,M),A(T,P,M),A(T,D,M)},p(T,M){M[0]&524288&&i!==(i=T[19].source_version+"")&&Ve(r,i),M[0]&524288&&d!==(d=T[19].length+"")&&Ve(g,d),M[0]&524288&&E!==(E=T[19].sources.join(", ")+"")&&Ve(P,E)},d(T){T&&(p(t),p(l),p(r),p(o),p(s),p(a),p(f),p(g),p(m),p(_),p(v),p(C),p(P),p(D))}}}function h1(e){let t,n="error while loading genesets:",l,i,r;return{c(){t=b("b"),t.textContent=n,l=k(),i=b("div"),r=X(e[14]),this.h()},l(o){t=w(o,"B",{"data-svelte-h":!0}),fe(t)!=="svelte-1w6f4n1"&&(t.textContent=n),l=R(o),i=w(o,"DIV",{class:!0});var s=S(i);r=W(s,e[14]),s.forEach(p),this.h()},h(){h(i,"class","alert")},m(o,s){A(o,t,s),A(o,l,s),A(o,i,s),c(i,r)},p(o,s){s[0]&16384&&Ve(r,o[14])},d(o){o&&(p(t),p(l),p(i))}}}function Fu(e){let t,n=e[76]+"",l,i;return{c(){t=b("option"),l=X(n),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=W(o,n),o.forEach(p),this.h()},h(){t.__value=i=e[76],Bt(t,t.__value)},m(r,o){A(r,t,o),c(t,l)},p(r,o){o[0]&131072&&n!==(n=r[76]+"")&&Ve(l,n),o[0]&131072&&i!==(i=r[76])&&(t.__value=i,Bt(t,t.__value))},d(r){r&&p(t)}}}function p1(e){let t,n="cannot start until invalid settings have been updated";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-1z0i07v"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function _1(e){let t,n="cannot start until the gene list and gene sets are loaded";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-je3mti"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function Gu(e){let t,n,l="error:",i,r,o;return{c(){t=b("div"),n=b("b"),n.textContent=l,i=k(),r=b("div"),o=X(e[15]),this.h()},l(s){t=w(s,"DIV",{});var a=S(t);n=w(a,"B",{"data-svelte-h":!0}),fe(n)!=="svelte-c5n4b4"&&(n.textContent=l),i=R(a),r=w(a,"DIV",{class:!0});var u=S(r);o=W(u,e[15]),u.forEach(p),a.forEach(p),this.h()},h(){h(r,"class","alert")},m(s,a){A(s,t,a),c(t,n),c(t,i),c(t,r),c(r,o)},p(s,a){a[0]&32768&&Ve(o,s[15])},d(s){s&&p(t)}}}function Ou(e){let t,n,l="<h2>Result summary</h2>",i,r,o=`<h3>Overview of gene sets that meet your filtering criteria (min/max overlap with your gene
					list).</h3>`,s,a,u,f,d,g,m="<tr><th>source</th> <th>tested genesets</th> <th>significant</th></tr>",_,v,y,C,E,P,D,T="download all results as a table",M,q,V,N,z,H=`Click the above button to download, in ZIP format;
						<ol><li>an Excel table with all tested gene sets and their GOAT-estimated p-values (<a href="docs#GOATresults" target="_blank">documentation</a>)</li> <li>Methods text that details your analysis, tailored to the settings and gene set
								database used here</li></ol>`,G,B,Y,le,Ce="<h2>Data analysis</h2>",ve,j,pe="<h3>Interactive visualizations of your GOAT results.</h3>",se,we,ye,ue,F,de,x="TABLE",Ie,be,Xe="BARPLOT",Ye,Be,ae="TREE",ct,Oe,Se="TREEMAP",vt,J,he="HEATMAP",$,ge,ze,_e,Le,et,St,Ke,rt,dt,Me=e[18]===!0&&Hu(),tt=me(e[6].genesets),ke=[];for(let ne=0;ne<tt.length;ne+=1)ke[ne]=Lu(Vu(e,tt,ne));let lt=e[6].genelist.length>4e3&&Nu(),it=!!e[16]&&Bu(e),I=e[18]===!0&&ju(),ee=e[6].genesets.length>1&&qu(e);const De=[y1,w1,b1,v1,m1],U=[];function Te(ne,Fe){return ne[8]==="table"?0:ne[8]==="barplot"?1:ne[8]==="tree"?2:ne[8]==="heatmap"?3:ne[8]==="treemap"?4:-1}return~(_e=Te(e))&&(Le=U[_e]=De[_e](e)),{c(){t=b("div"),n=b("div"),n.innerHTML=l,i=k(),r=b("div"),r.innerHTML=o,s=k(),Me&&Me.c(),a=k(),u=b("div"),f=b("div"),d=b("table"),g=b("thead"),g.innerHTML=m,_=k(),v=b("tbody");for(let ne=0;ne<ke.length;ne+=1)ke[ne].c();y=k(),C=b("div"),E=b("br"),P=k(),D=b("button"),D.textContent=T,M=k(),lt&&lt.c(),q=k(),V=b("br"),N=k(),z=b("div"),z.innerHTML=H,G=k(),it&&it.c(),B=k(),Y=b("div"),le=b("div"),le.innerHTML=Ce,ve=k(),j=b("div"),j.innerHTML=pe,se=k(),I&&I.c(),we=k(),ye=b("div"),ue=b("div"),F=b("div"),de=b("button"),de.textContent=x,Ie=k(),be=b("button"),be.textContent=Xe,Ye=k(),Be=b("button"),Be.textContent=ae,ct=k(),Oe=b("button"),Oe.textContent=Se,vt=k(),J=b("button"),J.textContent=he,$=k(),ee&&ee.c(),ge=k(),ze=b("div"),Le&&Le.c(),et=k(),St=b("br"),this.h()},l(ne){t=w(ne,"DIV",{id:!0,class:!0});var Fe=S(t);n=w(Fe,"DIV",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-1jt2cwt"&&(n.innerHTML=l),i=R(Fe),r=w(Fe,"DIV",{class:!0,"data-svelte-h":!0}),fe(r)!=="svelte-1ih3b40"&&(r.innerHTML=o),s=R(Fe),Me&&Me.l(Fe),a=R(Fe),u=w(Fe,"DIV",{class:!0});var Ne=S(u);f=w(Ne,"DIV",{});var K=S(f);d=w(K,"TABLE",{class:!0});var Z=S(d);g=w(Z,"THEAD",{"data-svelte-h":!0}),fe(g)!=="svelte-wua3i5"&&(g.innerHTML=m),_=R(Z),v=w(Z,"TBODY",{});var Re=S(v);for(let wt=0;wt<ke.length;wt+=1)ke[wt].l(Re);Re.forEach(p),Z.forEach(p),K.forEach(p),y=R(Ne),C=w(Ne,"DIV",{});var at=S(C);E=w(at,"BR",{}),P=R(at),D=w(at,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(D)!=="svelte-1e0e5zh"&&(D.textContent=T),M=R(at),lt&&lt.l(at),q=R(at),V=w(at,"BR",{}),N=R(at),z=w(at,"DIV",{"data-svelte-h":!0}),fe(z)!=="svelte-1el46an"&&(z.innerHTML=H),at.forEach(p),G=R(Ne),it&&it.l(Ne),Ne.forEach(p),Fe.forEach(p),B=R(ne),Y=w(ne,"DIV",{class:!0,style:!0});var je=S(Y);le=w(je,"DIV",{class:!0,"data-svelte-h":!0}),fe(le)!=="svelte-k86l10"&&(le.innerHTML=Ce),ve=R(je),j=w(je,"DIV",{class:!0,"data-svelte-h":!0}),fe(j)!=="svelte-plebw3"&&(j.innerHTML=pe),se=R(je),I&&I.l(je),we=R(je),ye=w(je,"DIV",{class:!0,style:!0});var Q=S(ye);ue=w(Q,"DIV",{style:!0});var Ee=S(ue);F=w(Ee,"DIV",{style:!0});var Pe=S(F);de=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),fe(de)!=="svelte-jqhuth"&&(de.textContent=x),Ie=R(Pe),be=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),fe(be)!=="svelte-4t1ddz"&&(be.textContent=Xe),Ye=R(Pe),Be=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),fe(Be)!=="svelte-sp826l"&&(Be.textContent=ae),ct=R(Pe),Oe=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),fe(Oe)!=="svelte-1kz16gz"&&(Oe.textContent=Se),vt=R(Pe),J=w(Pe,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),fe(J)!=="svelte-itqn71"&&(J.textContent=he),Pe.forEach(p),$=R(Ee),ee&&ee.l(Ee),Ee.forEach(p),ge=R(Q),ze=w(Q,"DIV",{style:!0});var bt=S(ze);Le&&Le.l(bt),bt.forEach(p),Q.forEach(p),et=R(je),St=w(je,"BR",{}),je.forEach(p),this.h()},h(){h(n,"class","divH2"),h(r,"class","divH3"),h(d,"class","tbl-bordered"),h(D,"class","btn btn-action"),h(u,"class","pnlResults"),h(t,"id","resultsummary"),h(t,"class","containerSettings"),h(le,"class","divH2"),h(j,"class","divH3"),h(de,"class","btn btn-outline-black"),O(de,"margin-left","20px"),te(de,"btn-active",e[8]=="table"),h(be,"class","btn btn-outline-black"),O(be,"margin-left","20px"),te(be,"btn-active",e[8]=="barplot"),h(Be,"class","btn btn-outline-black"),O(Be,"margin-left","20px"),te(Be,"btn-active",e[8]=="tree"),h(Oe,"class","btn btn-outline-black"),O(Oe,"margin-left","20px"),te(Oe,"btn-active",e[8]=="treemap"),h(J,"class","btn btn-outline-black"),O(J,"margin-left","20px"),te(J,"btn-active",e[8]=="heatmap"),O(F,"padding","6px"),O(F,"background-color","#2196f3"),O(ue,"border-bottom","1px solid lightgrey"),O(ze,"margin","50px 20px 20px 20px"),h(ye,"class","pnlResults"),O(ye,"padding","0px"),h(Y,"class","containerSettings"),O(Y,"margin-bottom","100px")},m(ne,Fe){A(ne,t,Fe),c(t,n),c(t,i),c(t,r),c(t,s),Me&&Me.m(t,null),c(t,a),c(t,u),c(u,f),c(f,d),c(d,g),c(d,_),c(d,v);for(let Ne=0;Ne<ke.length;Ne+=1)ke[Ne]&&ke[Ne].m(v,null);c(u,y),c(u,C),c(C,E),c(C,P),c(C,D),c(C,M),lt&&lt.m(C,null),c(C,q),c(C,V),c(C,N),c(C,z),c(u,G),it&&it.m(u,null),A(ne,B,Fe),A(ne,Y,Fe),c(Y,le),c(Y,ve),c(Y,j),c(Y,se),I&&I.m(Y,null),c(Y,we),c(Y,ye),c(ye,ue),c(ue,F),c(F,de),c(F,Ie),c(F,be),c(F,Ye),c(F,Be),c(F,ct),c(F,Oe),c(F,vt),c(F,J),c(ue,$),ee&&ee.m(ue,null),c(ye,ge),c(ye,ze),~_e&&U[_e].m(ze,null),c(Y,et),c(Y,St),Ke=!0,rt||(dt=[ie(D,"click",e[39]),ie(de,"click",e[65]),ie(be,"click",e[66]),ie(Be,"click",e[67]),ie(Oe,"click",e[68]),ie(J,"click",e[69])],rt=!0)},p(ne,Fe){if(ne[18]===!0?Me||(Me=Hu(),Me.c(),Me.m(t,a)):Me&&(Me.d(1),Me=null),Fe[0]&64){tt=me(ne[6].genesets);let K;for(K=0;K<tt.length;K+=1){const Z=Vu(ne,tt,K);ke[K]?ke[K].p(Z,Fe):(ke[K]=Lu(Z),ke[K].c(),ke[K].m(v,null))}for(;K<ke.length;K+=1)ke[K].d(1);ke.length=tt.length}ne[6].genelist.length>4e3?lt||(lt=Nu(),lt.c(),lt.m(C,q)):lt&&(lt.d(1),lt=null),ne[16]?it?it.p(ne,Fe):(it=Bu(ne),it.c(),it.m(u,null)):it&&(it.d(1),it=null),ne[18]===!0?I||(I=ju(),I.c(),I.m(Y,we)):I&&(I.d(1),I=null),(!Ke||Fe[0]&256)&&te(de,"btn-active",ne[8]=="table"),(!Ke||Fe[0]&256)&&te(be,"btn-active",ne[8]=="barplot"),(!Ke||Fe[0]&256)&&te(Be,"btn-active",ne[8]=="tree"),(!Ke||Fe[0]&256)&&te(Oe,"btn-active",ne[8]=="treemap"),(!Ke||Fe[0]&256)&&te(J,"btn-active",ne[8]=="heatmap"),ne[6].genesets.length>1?ee?ee.p(ne,Fe):(ee=qu(ne),ee.c(),ee.m(ue,null)):ee&&(ee.d(1),ee=null);let Ne=_e;_e=Te(ne),_e===Ne?~_e&&U[_e].p(ne,Fe):(Le&&(Ot(),ce(U[Ne],1,1,()=>{U[Ne]=null}),Ht()),~_e?(Le=U[_e],Le?Le.p(ne,Fe):(Le=U[_e]=De[_e](ne),Le.c()),oe(Le,1),Le.m(ze,null)):Le=null)},i(ne){Ke||(oe(Le),Ke=!0)},o(ne){ce(Le),Ke=!1},d(ne){ne&&(p(t),p(B),p(Y)),Me&&Me.d(),ot(ke,ne),lt&&lt.d(),it&&it.d(),I&&I.d(),ee&&ee.d(),~_e&&U[_e].d(),rt=!1,Kt(dt)}}}function Hu(e){let t,n='Settings were updated; click "START" to re-run GOAT and update below results';return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-18fiddo"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function Lu(e){let t,n,l=e[76].source+"",i,r,o,s=e[76].genesets.length+"",a,u,f,d=e[76].stats.signif_count+"",g,m;return{c(){t=b("tr"),n=b("td"),i=X(l),r=k(),o=b("td"),a=X(s),u=k(),f=b("td"),g=X(d),m=k()},l(_){t=w(_,"TR",{});var v=S(t);n=w(v,"TD",{});var y=S(n);i=W(y,l),y.forEach(p),r=R(v),o=w(v,"TD",{});var C=S(o);a=W(C,s),C.forEach(p),u=R(v),f=w(v,"TD",{});var E=S(f);g=W(E,d),E.forEach(p),m=R(v),v.forEach(p)},m(_,v){A(_,t,v),c(t,n),c(n,i),c(t,r),c(t,o),c(o,a),c(t,u),c(t,f),c(f,g),c(t,m)},p(_,v){v[0]&64&&l!==(l=_[76].source+"")&&Ve(i,l),v[0]&64&&s!==(s=_[76].genesets.length+"")&&Ve(a,s),v[0]&64&&d!==(d=_[76].stats.signif_count+"")&&Ve(g,d)},d(_){_&&p(t)}}}function Nu(e){let t,n="this might take a few seconds for large gene lists";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-10tb5i9"&&(t.textContent=n),this.h()},h(){h(t,"class","helpText")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function Bu(e){let t,n="error on download:",l,i,r;return{c(){t=b("b"),t.textContent=n,l=k(),i=b("div"),r=X(e[16]),this.h()},l(o){t=w(o,"B",{"data-svelte-h":!0}),fe(t)!=="svelte-yesmo3"&&(t.textContent=n),l=R(o),i=w(o,"DIV",{class:!0});var s=S(i);r=W(s,e[16]),s.forEach(p),this.h()},h(){h(i,"class","alert")},m(o,s){A(o,t,s),A(o,l,s),A(o,i,s),c(i,r)},p(o,s){s[0]&65536&&Ve(r,o[16])},d(o){o&&(p(t),p(l),p(i))}}}function ju(e){let t,n='Settings were updated; click "START" to re-run GOAT and update below results';return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-18fiddo"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){A(l,t,i)},d(l){l&&p(t)}}}function qu(e){let t,n=me(e[6].genesets),l=[];for(let i=0;i<n.length;i+=1)l[i]=Uu(Tu(e,n,i));return{c(){t=b("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){t=w(i,"DIV",{style:!0});var r=S(t);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(p),this.h()},h(){O(t,"padding","6px"),O(t,"background-color","#90caf9")},m(i,r){A(i,t,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null)},p(i,r){if(r[0]&576){n=me(i[6].genesets);let o;for(o=0;o<n.length;o+=1){const s=Tu(i,n,o);l[o]?l[o].p(s,r):(l[o]=Uu(s),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),ot(l,i)}}}function Uu(e){let t,n=e[76].source+"",l,i,r,o;function s(){return e[70](e[78])}return{c(){t=b("button"),l=X(n),i=k(),this.h()},l(a){t=w(a,"BUTTON",{class:!0,style:!0});var u=S(t);l=W(u,n),i=R(u),u.forEach(p),this.h()},h(){h(t,"class","btn btn-outline-grey"),O(t,"margin-left","20px"),te(t,"btn-active",e[9]==e[78])},m(a,u){A(a,t,u),c(t,l),c(t,i),r||(o=ie(t,"click",s),r=!0)},p(a,u){e=a,u[0]&64&&n!==(n=e[76].source+"")&&Ve(l,n),u[0]&512&&te(t,"btn-active",e[9]==e[78])},d(a){a&&p(t),r=!1,o()}}}function m1(e){let t,n;return t=new Zh({props:{selectedSourceIndex:e[9]}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function v1(e){let t,n;return t=new a1({props:{selectedSourceIndex:e[9],scoreType:e[6].settings.scoreType}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),i[0]&64&&(r.scoreType=l[6].settings.scoreType),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function b1(e){let t,n;return t=new Vh({props:{selectedSourceIndex:e[9]}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function w1(e){let t,n;return t=new _h({props:{selectedSourceIndex:e[9]}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function y1(e){let t,n;return t=new Kg({props:{selectedSourceIndex:e[9]}}),{c(){Je(t.$$.fragment)},l(l){xe(t.$$.fragment,l)},m(l,i){Qe(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(oe(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){$e(t,l)}}}function S1(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,E,P,D,T,M,q=`<h1>Online gene set enrichment analysis tool for the GOAT algorithm</h1> <div style="margin: 0px 150px 0px 150px; text-align: center;"><h3>Identify enriched gene sets using GOAT and inspect your results using interactive tables and
				data visualizations.</h3></div>`,V,N,z,H="<h2>Gene list</h2>",G,B,Y="<h3>Load your input data; a table of genes and their p-values / effect sizes.</h3>",le,Ce,ve,j,pe,se,we,ye,ue,F,de,x="drag&drop a gene list file or click to open a file dialog",Ie,be,Xe,Ye,Be,ae,ct,Oe,Se,vt,J,he,$,ge,ze,_e,Le,et,St=`<li>File format: either CSV, TSV, or Excel (.xlsx file, data on the first sheet)</li> <li>Required columns (column names must match exactly)</li> <ol><li><b>gene</b>: Human Entrez (NCBI) gene IDs</li> <li><b>symbol</b>: gene symbol</li> <li><b>effectsize</b>: effect size or log2 foldchange</li> <li><b>pvalue</b>: gene p-value (preferably un-adjusted)</li> <li><b>signif</b>: was the adjusted p-value significant?
											<br/>(boolean values, i.e. &#39;true&#39; or &#39;false&#39;)</li></ol> <li>No missing/empty values in any of these columns</li>`,Ke,rt,dt,Me,tt,ke,lt,it,I,ee,De,U,Te,ne,Fe,Ne="<h2>Gene sets</h2>",K,Z,Re="<h3>Select the gene set database that should be used for GOAT analyses.</h3>",at,je,Q,Ee,Pe,bt,wt,st,yt,nt,zt,qt,Ut,Pt,Xt,pn=" ",Jt,kt,Hn=`the Gene Ontology (GO) database (typical use of this tool). Click to load the gene
								sets; the database version and gene set count will be shown below.`,nn,yn,fn,ln,Sl,Cl,kl,Sn,Rl,xl,Ln,_i=" ",El,rn,Tt=`an expert-curated knowledgebase of synaptic genes that can be used to interrogate
								your dataset in synaptic context (<a href="https://www.syngoportal.org" target="_blank" rel="nofollow">reference</a>)`,Et,ht,ft,pt,re,Ae,Wt,It,Cn,Lt,kn,_n,Rt,Mt=" ",mn,dn,$n=`upload any gene set database in the GMT file format (select a file from your
								computer). Further details and resources to obtain GMT files are available in the <a href="docs#GMTgenesets" target="_blank">documentation</a>`,Ft,Rn,xn,zn,Al,Qt,Fn,ei="<h2>GOAT analysis</h2>",rl,ol,uo="<h3>Settings &amp; apply algorithm.</h3>",$i,En,ti,$t,Nn,sl,fo="gene score type:",xi,ni,Gn,er,On,tr,nr,lr,el,ir,rr,or,Bn,al,co="gene set size, minimum:",sr,li,An,ar,ul,go="must be at least 10, recommended to leave at default (10)",ur,jn,fl,ho="gene set size, maximum:",fr,ii,In,dr,dl,po=`threshold on gene set size, i.e. intersection of the input gene set from the selected
							database and your gene list. Typically set to 1500, recommended to leave at default.
							The largest allowed gene set size is [50% of the gene list], GOAT will
							automatically discard larger gene sets`,cr,cl,gl,_o="p-value adjustment:",gr,tl,hl,qn,mi,hr,pl,mo="Bonferroni",pr,_l,Un,vi,_r,ml,vo="FDR",mr,Xn,vl,bo="adj. p-value threshold:",vr,ri,Mn,br,bl,wo=`gene sets with adjusted p-value ≤ this threshold are considered significant. Must
							be a numeric value between 0 and 1`,wr,Wn,Il,yo=" ",yr,Yn,on,Sr,bi,Cr,Kn,kr,Rr,wl,Er,Ar,Ir=e[6]!==void 0&&Array.isArray(e[6].genesets),wi,Ml,At,Mr,So;function Ef(L){e[44](L)}let Co={colour:"black",size:"2.5em"};e[20]!==void 0&&(Co.show=e[20]),ae=new Jn({props:Co}),gt.push(()=>mt(ae,"show",Ef));function ko(L,We){return L[13]?d1:typeof L[5]=="object"&&L[5].ok===!0?f1:u1}let yi=ko(e),Dn=yi(e);function Af(L){e[50](L)}let Ro={colour:"black",size:"1.5em"};e[21]!==void 0&&(Ro.show=e[21]),ke=new Jn({props:Ro}),gt.push(()=>mt(ke,"show",Af));function If(L){e[51](L)}let Eo={colour:"black",size:"1.5em"};e[22]!==void 0&&(Eo.show=e[22]),qt=new Jn({props:Eo}),gt.push(()=>mt(qt,"show",If));function Mf(L){e[52](L)}let Ao={colour:"black",size:"1.5em"};e[23]!==void 0&&(Ao.show=e[23]),Sn=new Jn({props:Ao}),gt.push(()=>mt(Sn,"show",Mf));function Df(L){e[54](L)}let Io={colour:"black",size:"1.5em"};e[24]!==void 0&&(Io.show=e[24]),Lt=new Jn({props:Io}),gt.push(()=>mt(Lt,"show",Df));function Mo(L,We){return L[14]?h1:typeof L[19]=="object"&&L[19].ok===!0?g1:c1}let Si=Mo(e),Tn=Si(e),Dl=me(e[17]),Nt=[];for(let L=0;L<Dl.length;L+=1)Nt[L]=Fu(Pu(e,Dl,L));function Tf(L){e[64](L)}let Do={colour:"black",size:"1.5em"};e[25]!==void 0&&(Do.show=e[25]),Kn=new Jn({props:Do}),gt.push(()=>mt(Kn,"show",Tf));function To(L,We){if(!(typeof L[5]=="object"&&L[5].ok===!0&&typeof L[19]=="object"&&L[19].ok===!0))return _1;if(L[10]||L[11]||L[12])return p1}let Tl=To(e),sn=Tl&&Tl(e),Yt=!!e[15]&&Gu(e),Vt=Ir&&Ou(e);return{c(){t=b("meta"),n=k(),l=b("nav"),i=b("div"),r=b("a"),o=b("img"),a=k(),u=b("a"),f=X("Home"),d=k(),g=b("a"),m=X("GOAT online"),_=k(),v=b("a"),y=X("gene ID mapping"),C=k(),E=b("a"),P=X("Documentation"),D=k(),T=b("div"),M=b("div"),M.innerHTML=q,V=k(),N=b("div"),z=b("div"),z.innerHTML=H,G=k(),B=b("div"),B.innerHTML=Y,le=k(),Ce=b("div"),ve=b("table"),j=b("tbody"),pe=b("tr"),se=b("td"),we=b("input"),ye=k(),ue=b("div"),F=b("p"),de=b("i"),de.textContent=x,Ie=k(),be=b("br"),Xe=k(),Ye=b("i"),Be=k(),Je(ae.$$.fragment),Oe=k(),Se=b("div"),vt=b("br"),J=k(),he=b("br"),$=k(),Dn.c(),ge=k(),ze=b("td"),_e=b("div"),Le=X(`Importantly, your input gene list / gene table must be prepared in a format that is
								compatible with this tool. In brief,
								`),et=b("ul"),et.innerHTML=St,Ke=X(`

								Further information and examples are available in the
								`),rt=b("a"),dt=X("documentation"),Me=X(`.

								`),tt=b("div"),Je(ke.$$.fragment),it=k(),I=b("button"),ee=X("click here to load example gene list."),U=X(`
									Instead of preparing and uploading your own gene list, you can immediately try this
									tool using an example gene list from a proteomics study on Alzheimer's disease by Wingo
									et al. (download link and reference available through the documentation section)`),Te=k(),ne=b("div"),Fe=b("div"),Fe.innerHTML=Ne,K=k(),Z=b("div"),Z.innerHTML=Re,at=k(),je=b("div"),Q=b("div"),Ee=b("table"),Pe=b("tbody"),bt=b("tr"),wt=b("td"),st=b("button"),yt=X("Gene Ontology"),zt=k(),Je(qt.$$.fragment),Pt=k(),Xt=b("td"),Xt.textContent=pn,Jt=k(),kt=b("td"),kt.textContent=Hn,nn=k(),yn=b("tr"),fn=b("td"),ln=b("button"),Sl=X("SynGO"),kl=k(),Je(Sn.$$.fragment),xl=k(),Ln=b("td"),Ln.textContent=_i,El=k(),rn=b("td"),rn.innerHTML=Tt,Et=k(),ht=b("tr"),ft=b("td"),pt=b("input"),re=k(),Ae=b("button"),Wt=X("upload GMT file"),Cn=k(),Je(Lt.$$.fragment),_n=k(),Rt=b("td"),Rt.textContent=Mt,mn=k(),dn=b("td"),dn.innerHTML=$n,Ft=k(),Rn=b("div"),xn=b("br"),zn=k(),Tn.c(),Al=k(),Qt=b("div"),Fn=b("div"),Fn.innerHTML=ei,rl=k(),ol=b("div"),ol.innerHTML=uo,$i=k(),En=b("div"),ti=b("table"),$t=b("tbody"),Nn=b("tr"),sl=b("td"),sl.textContent=fo,xi=k(),ni=b("td"),Gn=b("select");for(let L=0;L<Nt.length;L+=1)Nt[L].c();er=k(),On=b("td"),tr=X(`highly recommended to set to "effectsize", if available in your gene list
							`),nr=b("br"),lr=X(`(refer to the
							`),el=b("a"),ir=X("Documentation"),rr=X(`
							for preparing your input data accordingly)`),or=k(),Bn=b("tr"),al=b("td"),al.textContent=co,sr=k(),li=b("td"),An=b("input"),ar=k(),ul=b("td"),ul.textContent=go,ur=k(),jn=b("tr"),fl=b("td"),fl.textContent=ho,fr=k(),ii=b("td"),In=b("input"),dr=k(),dl=b("td"),dl.textContent=po,cr=k(),cl=b("tr"),gl=b("td"),gl.textContent=_o,gr=k(),tl=b("td"),hl=b("div"),qn=b("input"),hr=k(),pl=b("label"),pl.textContent=mo,pr=k(),_l=b("div"),Un=b("input"),_r=k(),ml=b("label"),ml.textContent=vo,mr=k(),Xn=b("tr"),vl=b("td"),vl.textContent=bo,vr=k(),ri=b("td"),Mn=b("input"),br=k(),bl=b("td"),bl.textContent=wo,wr=k(),Wn=b("tr"),Il=b("td"),Il.textContent=yo,yr=k(),Yn=b("td"),on=b("button"),Sr=X("START"),Cr=k(),Je(Kn.$$.fragment),Rr=k(),wl=b("td"),sn&&sn.c(),Er=k(),Yt&&Yt.c(),Ar=k(),Vt&&Vt.c(),wi=k(),Ml=b("canvas"),this.h()},l(L){const We=Nf("svelte-acs5yk",jr.head);t=w(We,"META",{name:!0,content:!0}),We.forEach(p),n=R(L),l=w(L,"NAV",{});var Gt=S(l);i=w(Gt,"DIV",{style:!0});var oi=S(i);r=w(oi,"A",{href:!0});var si=S(r);o=w(si,"IMG",{src:!0,width:!0,height:!0,alt:!0}),si.forEach(p),oi.forEach(p),a=R(Gt),u=w(Gt,"A",{href:!0,style:!0});var ai=S(u);f=W(ai,"Home"),ai.forEach(p),d=R(Gt),g=w(Gt,"A",{href:!0,style:!0,class:!0});var ui=S(g);m=W(ui,"GOAT online"),ui.forEach(p),_=R(Gt),v=w(Gt,"A",{href:!0,style:!0});var fi=S(v);y=W(fi,"gene ID mapping"),fi.forEach(p),C=R(Gt),E=w(Gt,"A",{href:!0,style:!0});var xt=S(E);P=W(xt,"Documentation"),xt.forEach(p),Gt.forEach(p),D=R(L),T=w(L,"DIV",{tabindex:!0,role:!0,"aria-pressed":!0});var cn=S(T);M=w(cn,"DIV",{class:!0,"data-svelte-h":!0}),fe(M)!=="svelte-dmj9cy"&&(M.innerHTML=q),V=R(cn),N=w(cn,"DIV",{class:!0});var Vl=S(N);z=w(Vl,"DIV",{class:!0,"data-svelte-h":!0}),fe(z)!=="svelte-1g6dorf"&&(z.innerHTML=H),G=R(Vl),B=w(Vl,"DIV",{class:!0,"data-svelte-h":!0}),fe(B)!=="svelte-pa339p"&&(B.innerHTML=Y),le=R(Vl),Ce=w(Vl,"DIV",{class:!0});var Vo=S(Ce);ve=w(Vo,"TABLE",{});var Po=S(ve);j=w(Po,"TBODY",{});var zo=S(j);pe=w(zo,"TR",{});var Ci=S(pe);se=w(Ci,"TD",{style:!0});var Pl=S(se);we=w(Pl,"INPUT",{id:!0,type:!0,accept:!0,style:!0}),ye=R(Pl),ue=w(Pl,"DIV",{id:!0,tabindex:!0,role:!0,"aria-pressed":!0});var Fo=S(ue);F=w(Fo,"P",{});var nl=S(F);de=w(nl,"I",{"data-svelte-h":!0}),fe(de)!=="svelte-17z113x"&&(de.textContent=x),Ie=R(nl),be=w(nl,"BR",{}),Xe=R(nl),Ye=w(nl,"I",{class:!0}),S(Ye).forEach(p),Be=R(nl),xe(ae.$$.fragment,nl),nl.forEach(p),Fo.forEach(p),Oe=R(Pl),Se=w(Pl,"DIV",{style:!0});var zl=S(Se);vt=w(zl,"BR",{}),J=R(zl),he=w(zl,"BR",{}),$=R(zl),Dn.l(zl),zl.forEach(p),Pl.forEach(p),ge=R(Ci),ze=w(Ci,"TD",{});var Go=S(ze);_e=w(Go,"DIV",{class:!0});var yl=S(_e);Le=W(yl,`Importantly, your input gene list / gene table must be prepared in a format that is
								compatible with this tool. In brief,
								`),et=w(yl,"UL",{"data-svelte-h":!0}),fe(et)!=="svelte-gy1i3o"&&(et.innerHTML=St),Ke=W(yl,`

								Further information and examples are available in the
								`),rt=w(yl,"A",{href:!0,target:!0,tabindex:!0});var Oo=S(rt);dt=W(Oo,"documentation"),Oo.forEach(p),Me=W(yl,`.

								`),tt=w(yl,"DIV",{style:!0});var di=S(tt);xe(ke.$$.fragment,di),it=R(di),I=w(di,"BUTTON",{class:!0,style:!0});var Ho=S(I);ee=W(Ho,"click here to load example gene list."),Ho.forEach(p),U=W(di,`
									Instead of preparing and uploading your own gene list, you can immediately try this
									tool using an example gene list from a proteomics study on Alzheimer's disease by Wingo
									et al. (download link and reference available through the documentation section)`),di.forEach(p),yl.forEach(p),Go.forEach(p),Ci.forEach(p),zo.forEach(p),Po.forEach(p),Vo.forEach(p),Vl.forEach(p),Te=R(cn),ne=w(cn,"DIV",{class:!0});var Fl=S(ne);Fe=w(Fl,"DIV",{class:!0,"data-svelte-h":!0}),fe(Fe)!=="svelte-nglffe"&&(Fe.innerHTML=Ne),K=R(Fl),Z=w(Fl,"DIV",{class:!0,"data-svelte-h":!0}),fe(Z)!=="svelte-1yu1xgu"&&(Z.innerHTML=Re),at=R(Fl),je=w(Fl,"DIV",{class:!0});var ki=S(je);Q=w(ki,"DIV",{});var Lo=S(Q);Ee=w(Lo,"TABLE",{});var No=S(Ee);Pe=w(No,"TBODY",{});var Gl=S(Pe);bt=w(Gl,"TR",{});var Ol=S(bt);wt=w(Ol,"TD",{style:!0});var Ri=S(wt);st=w(Ri,"BUTTON",{class:!0,style:!0});var Bo=S(st);yt=W(Bo,"Gene Ontology"),Bo.forEach(p),zt=R(Ri),xe(qt.$$.fragment,Ri),Ri.forEach(p),Pt=R(Ol),Xt=w(Ol,"TD",{"data-svelte-h":!0}),fe(Xt)!=="svelte-mcho4g"&&(Xt.textContent=pn),Jt=R(Ol),kt=w(Ol,"TD",{class:!0,"data-svelte-h":!0}),fe(kt)!=="svelte-1f49mr1"&&(kt.textContent=Hn),Ol.forEach(p),nn=R(Gl),yn=w(Gl,"TR",{});var Hl=S(yn);fn=w(Hl,"TD",{style:!0});var Ei=S(fn);ln=w(Ei,"BUTTON",{class:!0,style:!0});var jo=S(ln);Sl=W(jo,"SynGO"),jo.forEach(p),kl=R(Ei),xe(Sn.$$.fragment,Ei),Ei.forEach(p),xl=R(Hl),Ln=w(Hl,"TD",{"data-svelte-h":!0}),fe(Ln)!=="svelte-mcho4g"&&(Ln.textContent=_i),El=R(Hl),rn=w(Hl,"TD",{class:!0,"data-svelte-h":!0}),fe(rn)!=="svelte-1dpxb1k"&&(rn.innerHTML=Tt),Hl.forEach(p),Et=R(Gl),ht=w(Gl,"TR",{});var Ll=S(ht);ft=w(Ll,"TD",{style:!0});var Nl=S(ft);pt=w(Nl,"INPUT",{id:!0,type:!0,accept:!0,style:!0}),re=R(Nl),Ae=w(Nl,"BUTTON",{class:!0,style:!0});var qo=S(Ae);Wt=W(qo,"upload GMT file"),qo.forEach(p),Cn=R(Nl),xe(Lt.$$.fragment,Nl),Nl.forEach(p),_n=R(Ll),Rt=w(Ll,"TD",{"data-svelte-h":!0}),fe(Rt)!=="svelte-mcho4g"&&(Rt.textContent=Mt),mn=R(Ll),dn=w(Ll,"TD",{class:!0,"data-svelte-h":!0}),fe(dn)!=="svelte-10503au"&&(dn.innerHTML=$n),Ll.forEach(p),Gl.forEach(p),No.forEach(p),Lo.forEach(p),Ft=R(ki),Rn=w(ki,"DIV",{});var Ai=S(Rn);xn=w(Ai,"BR",{}),zn=R(Ai),Tn.l(Ai),Ai.forEach(p),ki.forEach(p),Fl.forEach(p),Al=R(cn),Qt=w(cn,"DIV",{class:!0});var Bl=S(Qt);Fn=w(Bl,"DIV",{class:!0,"data-svelte-h":!0}),fe(Fn)!=="svelte-1kt4qpn"&&(Fn.innerHTML=ei),rl=R(Bl),ol=w(Bl,"DIV",{class:!0,"data-svelte-h":!0}),fe(ol)!=="svelte-379imc"&&(ol.innerHTML=uo),$i=R(Bl),En=w(Bl,"DIV",{class:!0});var Ii=S(En);ti=w(Ii,"TABLE",{});var Uo=S(ti);$t=w(Uo,"TBODY",{});var vn=S($t);Nn=w(vn,"TR",{});var jl=S(Nn);sl=w(jl,"TD",{class:!0,"data-svelte-h":!0}),fe(sl)!=="svelte-sanjpb"&&(sl.textContent=fo),xi=R(jl),ni=w(jl,"TD",{});var Xo=S(ni);Gn=w(Xo,"SELECT",{});var Wo=S(Gn);for(let Dr=0;Dr<Nt.length;Dr+=1)Nt[Dr].l(Wo);Wo.forEach(p),Xo.forEach(p),er=R(jl),On=w(jl,"TD",{class:!0});var ql=S(On);tr=W(ql,`highly recommended to set to "effectsize", if available in your gene list
							`),nr=w(ql,"BR",{}),lr=W(ql,`(refer to the
							`),el=w(ql,"A",{href:!0,target:!0,tabindex:!0});var Yo=S(el);ir=W(Yo,"Documentation"),Yo.forEach(p),rr=W(ql,`
							for preparing your input data accordingly)`),ql.forEach(p),jl.forEach(p),or=R(vn),Bn=w(vn,"TR",{});var Ul=S(Bn);al=w(Ul,"TD",{class:!0,"data-svelte-h":!0}),fe(al)!=="svelte-1ubsgke"&&(al.textContent=co),sr=R(Ul),li=w(Ul,"TD",{});var Ko=S(li);An=w(Ko,"INPUT",{class:!0}),Ko.forEach(p),ar=R(Ul),ul=w(Ul,"TD",{class:!0,"data-svelte-h":!0}),fe(ul)!=="svelte-10995iv"&&(ul.textContent=go),Ul.forEach(p),ur=R(vn),jn=w(vn,"TR",{});var Xl=S(jn);fl=w(Xl,"TD",{class:!0,"data-svelte-h":!0}),fe(fl)!=="svelte-xygol8"&&(fl.textContent=ho),fr=R(Xl),ii=w(Xl,"TD",{});var Zo=S(ii);In=w(Zo,"INPUT",{class:!0}),Zo.forEach(p),dr=R(Xl),dl=w(Xl,"TD",{class:!0,"data-svelte-h":!0}),fe(dl)!=="svelte-1vti22m"&&(dl.textContent=po),Xl.forEach(p),cr=R(vn),cl=w(vn,"TR",{});var Mi=S(cl);gl=w(Mi,"TD",{class:!0,"data-svelte-h":!0}),fe(gl)!=="svelte-1qa4fvu"&&(gl.textContent=_o),gr=R(Mi),tl=w(Mi,"TD",{colspan:!0});var Di=S(tl);hl=w(Di,"DIV",{});var Ti=S(hl);qn=w(Ti,"INPUT",{type:!0,id:!0,name:!0}),hr=R(Ti),pl=w(Ti,"LABEL",{for:!0,"data-svelte-h":!0}),fe(pl)!=="svelte-3hf4fz"&&(pl.textContent=mo),Ti.forEach(p),pr=R(Di),_l=w(Di,"DIV",{});var Vi=S(_l);Un=w(Vi,"INPUT",{type:!0,id:!0,name:!0}),_r=R(Vi),ml=w(Vi,"LABEL",{for:!0,"data-svelte-h":!0}),fe(ml)!=="svelte-auc0r"&&(ml.textContent=vo),Vi.forEach(p),Di.forEach(p),Mi.forEach(p),mr=R(vn),Xn=w(vn,"TR",{});var Wl=S(Xn);vl=w(Wl,"TD",{class:!0,"data-svelte-h":!0}),fe(vl)!=="svelte-i0758a"&&(vl.textContent=bo),vr=R(Wl),ri=w(Wl,"TD",{});var Jo=S(ri);Mn=w(Jo,"INPUT",{class:!0}),Jo.forEach(p),br=R(Wl),bl=w(Wl,"TD",{class:!0,"data-svelte-h":!0}),fe(bl)!=="svelte-y3kf5w"&&(bl.textContent=wo),Wl.forEach(p),wr=R(vn),Wn=w(vn,"TR",{});var Yl=S(Wn);Il=w(Yl,"TD",{"data-svelte-h":!0}),fe(Il)!=="svelte-mcho4g"&&(Il.textContent=yo),yr=R(Yl),Yn=w(Yl,"TD",{style:!0});var Pi=S(Yn);on=w(Pi,"BUTTON",{class:!0,style:!0});var Qo=S(on);Sr=W(Qo,"START"),Qo.forEach(p),Cr=R(Pi),xe(Kn.$$.fragment,Pi),Pi.forEach(p),Rr=R(Yl),wl=w(Yl,"TD",{class:!0});var $o=S(wl);sn&&sn.l($o),$o.forEach(p),Yl.forEach(p),vn.forEach(p),Uo.forEach(p),Er=R(Ii),Yt&&Yt.l(Ii),Ii.forEach(p),Bl.forEach(p),Ar=R(cn),Vt&&Vt.l(cn),cn.forEach(p),wi=R(L),Ml=w(L,"CANVAS",{id:!0}),S(Ml).forEach(p),this.h()},h(){jr.title="GOAT: Gene set Ordinal Association Test - online gene set enrichment analyses",h(t,"name","description"),h(t,"content","Gene set enrichment analysis for Gene Ontology (GO) or KEGG pathways using the GOAT algorithm web tool. Online data analysis for your preranked gene list from e.g. proteomics or bulk/scRNAseq gene expression studies"),Bf(o.src,s=e[26]+"android-chrome-192x192.png")||h(o,"src",s),h(o,"width","40"),h(o,"height","40"),h(o,"alt","GOAT"),h(r,"href",e[26]),O(i,"padding","4px"),O(i,"margin-left","20px"),h(u,"href",e[26]),O(u,"margin-left","5px"),h(g,"href",e[26]+"goat"),O(g,"margin-left","40px"),h(g,"class","active"),h(v,"href",e[26]+"genemap"),O(v,"margin-left","40px"),h(E,"href",e[26]+"docs"),O(E,"margin-left","40px"),h(M,"class","divH1"),h(z,"class","divH2"),h(B,"class","divH3"),h(we,"id","genelistFileDialog"),h(we,"type","file"),h(we,"accept",".csv,.tsv,.xlsx"),we.multiple="false",O(we,"display","none"),h(Ye,"class","dropicon"),h(ue,"id","genelist_dropzone"),h(ue,"tabindex","0"),h(ue,"role","button"),h(ue,"aria-pressed","false"),te(ue,"is-dragover",e[7]===!0),h(Se,"style",""),O(se,"vertical-align","top"),O(se,"width","300px"),h(rt,"href",e[26]+"docs"),h(rt,"target","_blank"),h(rt,"tabindex","-1"),h(I,"class","hrefUIaction"),O(I,"font-weight","700"),I.disabled=De=e[21]===!0,O(tt,"margin-top","20px"),h(_e,"class","helpSettings"),h(Ce,"class","pnlSettings"),te(Ce,"ok",typeof e[5]=="object"&&e[5].ok===!0),h(N,"class","containerSettings"),h(Fe,"class","divH2"),h(Z,"class","divH3"),h(st,"class","btn btn-outline-blue"),O(st,"margin-right","5px"),st.disabled=nt=e[22]||e[23]||e[24],te(st,"btn-active",typeof e[19]=="object"&&e[19].type==="go"),O(wt,"display","flex"),O(wt,"width","180px"),h(kt,"class","helpSettings"),h(ln,"class","btn btn-outline-blue"),O(ln,"margin-right","5px"),ln.disabled=Cl=e[22]||e[23]||e[24],te(ln,"btn-active",typeof e[19]=="object"&&e[19].type==="syngo"),O(fn,"display","flex"),O(fn,"width","180px"),O(fn,"margin-top","15px"),h(rn,"class","helpSettings"),h(pt,"id","genesetGMTFileDialog"),h(pt,"type","file"),h(pt,"accept",".gmt"),pt.multiple="false",O(pt,"display","none"),h(Ae,"class","btn btn-outline-blue"),O(Ae,"margin-right","5px"),Ae.disabled=It=e[22]||e[23]||e[24],te(Ae,"btn-active",typeof e[19]=="object"&&e[19].type==="gmt"),O(ft,"display","flex"),O(ft,"width","180px"),O(ft,"margin-top","15px"),h(dn,"class","helpSettings"),h(je,"class","pnlSettings"),te(je,"ok",typeof e[19]=="object"&&e[19].ok===!0),h(ne,"class","containerSettings"),h(Fn,"class","divH2"),h(ol,"class","divH3"),h(sl,"class","textRight"),e[4]===void 0&&Qn(()=>e[55].call(Gn)),h(el,"href",e[26]+"docs"),h(el,"target","_blank"),h(el,"tabindex","-1"),h(On,"class","helpSettings"),h(al,"class","textRight"),h(An,"class","inputNumber"),te(An,"invalid-input",e[10]===!0),h(ul,"class","helpSettings"),h(fl,"class","textRight"),h(In,"class","inputNumber"),te(In,"invalid-input",e[11]===!0),h(dl,"class","helpSettings"),h(gl,"class","textRight valign-top"),h(qn,"type","radio"),h(qn,"id","padjBonferroni"),h(qn,"name","radioPadjust"),qn.checked=mi=e[2]=="bonferroni",h(pl,"for","padjBonferroni"),h(Un,"type","radio"),h(Un,"id","padjFDR"),h(Un,"name","radioPadjust"),Un.checked=vi=e[2]=="fdr",h(ml,"for","padjFDR"),h(tl,"colspan","2"),h(vl,"class","textRight"),h(Mn,"class","inputNumber"),te(Mn,"invalid-input",e[12]===!0),h(bl,"class","helpSettings"),h(on,"class","btn"),O(on,"margin-right","5px"),on.disabled=bi=e[25]===!0||!(typeof e[5]=="object"&&e[5].ok===!0&&typeof e[19]=="object"&&e[19].ok===!0&&e[10]==!1&&e[11]==!1&&e[12]==!1),te(on,"btn-action",e[18]!==!0),te(on,"btn-warning",e[18]===!0),O(Yn,"display","flex"),O(Yn,"width","100px"),h(wl,"class","helpSettings"),h(En,"class","pnlSettings"),te(En,"ok",!(e[18]||e[10]||e[11]||e[12]||!(typeof e[5]=="object"&&e[5].ok===!0&&typeof e[19]=="object"&&e[19].ok===!0))),h(Qt,"class","containerSettings"),h(T,"tabindex","-1"),h(T,"role","button"),h(T,"aria-pressed","false"),h(Ml,"id","mycanvas")},m(L,We){c(jr.head,t),A(L,n,We),A(L,l,We),c(l,i),c(i,r),c(r,o),c(l,a),c(l,u),c(u,f),c(l,d),c(l,g),c(g,m),c(l,_),c(l,v),c(v,y),c(l,C),c(l,E),c(E,P),A(L,D,We),A(L,T,We),c(T,M),c(T,V),c(T,N),c(N,z),c(N,G),c(N,B),c(N,le),c(N,Ce),c(Ce,ve),c(ve,j),c(j,pe),c(pe,se),c(se,we),c(se,ye),c(se,ue),c(ue,F),c(F,de),c(F,Ie),c(F,be),c(F,Xe),c(F,Ye),c(F,Be),Qe(ae,F,null),c(se,Oe),c(se,Se),c(Se,vt),c(Se,J),c(Se,he),c(Se,$),Dn.m(Se,null),c(pe,ge),c(pe,ze),c(ze,_e),c(_e,Le),c(_e,et),c(_e,Ke),c(_e,rt),c(rt,dt),c(_e,Me),c(_e,tt),Qe(ke,tt,null),c(tt,it),c(tt,I),c(I,ee),c(tt,U),c(T,Te),c(T,ne),c(ne,Fe),c(ne,K),c(ne,Z),c(ne,at),c(ne,je),c(je,Q),c(Q,Ee),c(Ee,Pe),c(Pe,bt),c(bt,wt),c(wt,st),c(st,yt),c(wt,zt),Qe(qt,wt,null),c(bt,Pt),c(bt,Xt),c(bt,Jt),c(bt,kt),c(Pe,nn),c(Pe,yn),c(yn,fn),c(fn,ln),c(ln,Sl),c(fn,kl),Qe(Sn,fn,null),c(yn,xl),c(yn,Ln),c(yn,El),c(yn,rn),c(Pe,Et),c(Pe,ht),c(ht,ft),c(ft,pt),c(ft,re),c(ft,Ae),c(Ae,Wt),c(ft,Cn),Qe(Lt,ft,null),c(ht,_n),c(ht,Rt),c(ht,mn),c(ht,dn),c(je,Ft),c(je,Rn),c(Rn,xn),c(Rn,zn),Tn.m(Rn,null),c(T,Al),c(T,Qt),c(Qt,Fn),c(Qt,rl),c(Qt,ol),c(Qt,$i),c(Qt,En),c(En,ti),c(ti,$t),c($t,Nn),c(Nn,sl),c(Nn,xi),c(Nn,ni),c(ni,Gn);for(let Gt=0;Gt<Nt.length;Gt+=1)Nt[Gt]&&Nt[Gt].m(Gn,null);an(Gn,e[4],!0),c(Nn,er),c(Nn,On),c(On,tr),c(On,nr),c(On,lr),c(On,el),c(el,ir),c(On,rr),c($t,or),c($t,Bn),c(Bn,al),c(Bn,sr),c(Bn,li),c(li,An),Bt(An,e[0]),c(Bn,ar),c(Bn,ul),c($t,ur),c($t,jn),c(jn,fl),c(jn,fr),c(jn,ii),c(ii,In),Bt(In,e[1]),c(jn,dr),c(jn,dl),c($t,cr),c($t,cl),c(cl,gl),c(cl,gr),c(cl,tl),c(tl,hl),c(hl,qn),c(hl,hr),c(hl,pl),c(tl,pr),c(tl,_l),c(_l,Un),c(_l,_r),c(_l,ml),c($t,mr),c($t,Xn),c(Xn,vl),c(Xn,vr),c(Xn,ri),c(ri,Mn),Bt(Mn,e[3]),c(Xn,br),c(Xn,bl),c($t,wr),c($t,Wn),c(Wn,Il),c(Wn,yr),c(Wn,Yn),c(Yn,on),c(on,Sr),c(Yn,Cr),Qe(Kn,Yn,null),c(Wn,Rr),c(Wn,wl),sn&&sn.m(wl,null),c(En,Er),Yt&&Yt.m(En,null),c(T,Ar),Vt&&Vt.m(T,null),A(L,wi,We),A(L,Ml,We),At=!0,Mr||(So=[ie(we,"change",e[43]),ie(ue,"keydown",Xu),ie(ue,"click",Xu),ie(ue,"dragstart",bn),ie(ue,"dragover",e[45]),ie(ue,"dragenter",e[46]),ie(ue,"dragleave",e[47]),ie(ue,"dragend",e[48]),ie(ue,"drop",e[49]),ie(I,"click",e[35]),ie(st,"click",e[36]),ie(ln,"click",e[37]),ie(pt,"change",e[53]),ie(Ae,"click",C1),ie(Gn,"change",e[55]),ie(An,"input",e[56]),ie(An,"change",e[57]),ie(In,"input",e[58]),ie(In,"change",e[59]),ie(qn,"change",e[60]),ie(Un,"change",e[61]),ie(Mn,"input",e[62]),ie(Mn,"change",e[63]),ie(on,"click",e[40]),ie(T,"keydown",void 0),ie(T,"dragstart",bn),ie(T,"dragover",bn),ie(T,"dragenter",bn),ie(T,"dragleave",bn),ie(T,"dragend",bn),ie(T,"drop",bn)],Mr=!0)},p(L,We){const Gt={};!ct&&We[0]&1048576&&(ct=!0,Gt.show=L[20],_t(()=>ct=!1)),ae.$set(Gt),(!At||We[0]&128)&&te(ue,"is-dragover",L[7]===!0),yi===(yi=ko(L))&&Dn?Dn.p(L,We):(Dn.d(1),Dn=yi(L),Dn&&(Dn.c(),Dn.m(Se,null)));const oi={};!lt&&We[0]&2097152&&(lt=!0,oi.show=L[21],_t(()=>lt=!1)),ke.$set(oi),(!At||We[0]&2097152&&De!==(De=L[21]===!0))&&(I.disabled=De),(!At||We[0]&32)&&te(Ce,"ok",typeof L[5]=="object"&&L[5].ok===!0),(!At||We[0]&29360128&&nt!==(nt=L[22]||L[23]||L[24]))&&(st.disabled=nt),(!At||We[0]&524288)&&te(st,"btn-active",typeof L[19]=="object"&&L[19].type==="go");const si={};!Ut&&We[0]&4194304&&(Ut=!0,si.show=L[22],_t(()=>Ut=!1)),qt.$set(si),(!At||We[0]&29360128&&Cl!==(Cl=L[22]||L[23]||L[24]))&&(ln.disabled=Cl),(!At||We[0]&524288)&&te(ln,"btn-active",typeof L[19]=="object"&&L[19].type==="syngo");const ai={};!Rl&&We[0]&8388608&&(Rl=!0,ai.show=L[23],_t(()=>Rl=!1)),Sn.$set(ai),(!At||We[0]&29360128&&It!==(It=L[22]||L[23]||L[24]))&&(Ae.disabled=It),(!At||We[0]&524288)&&te(Ae,"btn-active",typeof L[19]=="object"&&L[19].type==="gmt");const ui={};if(!kn&&We[0]&16777216&&(kn=!0,ui.show=L[24],_t(()=>kn=!1)),Lt.$set(ui),Si===(Si=Mo(L))&&Tn?Tn.p(L,We):(Tn.d(1),Tn=Si(L),Tn&&(Tn.c(),Tn.m(Rn,null))),(!At||We[0]&524288)&&te(je,"ok",typeof L[19]=="object"&&L[19].ok===!0),We[0]&131072){Dl=me(L[17]);let xt;for(xt=0;xt<Dl.length;xt+=1){const cn=Pu(L,Dl,xt);Nt[xt]?Nt[xt].p(cn,We):(Nt[xt]=Fu(cn),Nt[xt].c(),Nt[xt].m(Gn,null))}for(;xt<Nt.length;xt+=1)Nt[xt].d(1);Nt.length=Dl.length}We[0]&131088&&an(Gn,L[4]),We[0]&1&&An.value!==L[0]&&Bt(An,L[0]),(!At||We[0]&1024)&&te(An,"invalid-input",L[10]===!0),We[0]&2&&In.value!==L[1]&&Bt(In,L[1]),(!At||We[0]&2048)&&te(In,"invalid-input",L[11]===!0),(!At||We[0]&4&&mi!==(mi=L[2]=="bonferroni"))&&(qn.checked=mi),(!At||We[0]&4&&vi!==(vi=L[2]=="fdr"))&&(Un.checked=vi),We[0]&8&&Mn.value!==L[3]&&Bt(Mn,L[3]),(!At||We[0]&4096)&&te(Mn,"invalid-input",L[12]===!0),(!At||We[0]&34085920&&bi!==(bi=L[25]===!0||!(typeof L[5]=="object"&&L[5].ok===!0&&typeof L[19]=="object"&&L[19].ok===!0&&L[10]==!1&&L[11]==!1&&L[12]==!1)))&&(on.disabled=bi),(!At||We[0]&262144)&&te(on,"btn-action",L[18]!==!0),(!At||We[0]&262144)&&te(on,"btn-warning",L[18]===!0);const fi={};!kr&&We[0]&33554432&&(kr=!0,fi.show=L[25],_t(()=>kr=!1)),Kn.$set(fi),Tl!==(Tl=To(L))&&(sn&&sn.d(1),sn=Tl&&Tl(L),sn&&(sn.c(),sn.m(wl,null))),L[15]?Yt?Yt.p(L,We):(Yt=Gu(L),Yt.c(),Yt.m(En,null)):Yt&&(Yt.d(1),Yt=null),(!At||We[0]&793632)&&te(En,"ok",!(L[18]||L[10]||L[11]||L[12]||!(typeof L[5]=="object"&&L[5].ok===!0&&typeof L[19]=="object"&&L[19].ok===!0))),We[0]&64&&(Ir=L[6]!==void 0&&Array.isArray(L[6].genesets)),Ir?Vt?(Vt.p(L,We),We[0]&64&&oe(Vt,1)):(Vt=Ou(L),Vt.c(),oe(Vt,1),Vt.m(T,null)):Vt&&(Ot(),ce(Vt,1,1,()=>{Vt=null}),Ht())},i(L){At||(oe(ae.$$.fragment,L),oe(ke.$$.fragment,L),oe(qt.$$.fragment,L),oe(Sn.$$.fragment,L),oe(Lt.$$.fragment,L),oe(Kn.$$.fragment,L),oe(Vt),At=!0)},o(L){ce(ae.$$.fragment,L),ce(ke.$$.fragment,L),ce(qt.$$.fragment,L),ce(Sn.$$.fragment,L),ce(Lt.$$.fragment,L),ce(Kn.$$.fragment,L),ce(Vt),At=!1},d(L){L&&(p(n),p(l),p(D),p(T),p(wi),p(Ml)),p(t),$e(ae),Dn.d(),$e(ke),$e(qt),$e(Sn),$e(Lt),Tn.d(),ot(Nt,L),$e(Kn),sn&&sn.d(),Yt&&Yt.d(),Vt&&Vt.d(),Mr=!1,Kt(So)}}}function bn(e){e.preventDefault(),e.stopPropagation()}async function Xu(e){document.getElementById("genelistFileDialog").click()}async function C1(e){document.getElementById("genesetGMTFileDialog").click()}function k1(e,t,n){let l,i,r,o,s,a,u,f,d,g,m,_;Dt(e,fd,K=>n(19,r=K)),Dt(e,dd,K=>n(5,o=K)),Dt(e,un,K=>n(6,s=K)),Dt(e,cd,K=>n(72,a=K));let v;jf(()=>y());const y=async()=>{const K=await Vf(()=>import("../chunks/goat.25db362c.js"),[],import.meta.url);v=new K.default,v.onmessage=function(Z){console.log("svelte callback"),console.log(Z),V.update(Re=>!1),Z&&typeof Z=="object"&&typeof Z.data=="object"?(Yf(Z.data.gl,Z.data.scoretype_props,Z.data.gs_filtered,r.hasDag===!0,Z.data.stats,r.uri,r.type,le,N,z,H,G),o.genelist.analytics!==!0&&(Kf("goat"),Zf()),Jf()):(console.error("goat worker error;"),console.error(Z),n(15,ye=Z))}},C=!!a&&a.url.hostname.endsWith("github.io")&&"/goat/"||"/";let E=!1;const P=gn(!1);Dt(e,P,K=>n(20,u=K));const D=gn(!1);Dt(e,D,K=>n(21,f=K));const T=gn(!1);Dt(e,T,K=>n(22,d=K));const M=gn(!1);Dt(e,M,K=>n(23,g=K));const q=gn(!1);Dt(e,q,K=>n(24,m=K));const V=gn(!1);Dt(e,V,K=>n(25,_=K));let N="10",z="1500",H="bonferroni",G="0.05",B="table",Y=0,le="effectsize";const Ce=new RegExp("^[0-9]+$");let ve=!1,j=!1,pe=!1,se,we,ye,ue;async function F(K){K.dataTransfer&&K.dataTransfer.files&&de(K.dataTransfer.files[0])}async function de(K){try{n(13,se=void 0),P.update(Re=>!0),rs();const Z=await $f(K);xf(Z,K.name),Z.scoretype_options.indexOf("effectsize")!==-1?n(4,le="effectsize"):n(4,le="pvalue")}catch(Z){console.error(Z),n(13,se=Z.message)}P.update(Z=>!1)}async function x(K){try{n(13,se=void 0),D.update(Z=>!0),rs(),await ed(),o.scoretype_options.indexOf("effectsize")!==-1?n(4,le="effectsize"):n(4,le="pvalue")}catch(Z){console.error(Z),n(13,se=Z.message)}D.update(Z=>!1)}async function Ie(K){try{n(14,we=void 0),T.update(Z=>!0),Vr(),await td()}catch(Z){console.error(Z),n(14,we=Z.message)}T.update(Z=>!1)}async function be(K){try{n(14,we=void 0),M.update(Z=>!0),Vr(),await nd()}catch(Z){console.error(Z),n(14,we=Z.message)}M.update(Z=>!1)}async function Xe(K){try{n(14,we=void 0),q.update(je=>!0),Vr();const Z=await ld(K),Re=Hc(Z),at=[{source:"GMT",source_version:K.name,genesets:Re}];id(at,K.name,"gmt",!1)}catch(Z){console.error(Z),n(14,we=Z.message)}q.update(Z=>!1)}async function Ye(K){try{n(16,ue=void 0);const Z=rd(),Re=Nc(o,s,"1.0.1",Z),at=new Blob([Re]),je=Lc(),Q=new od;Q.file("goat_log_m&m.txt",at),Q.file("goat_result.xlsx",je);const Ee=await Q.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:3}});let Pe=o.filename.replace(/\.[a-zA-Z]{3,4}$/,"")+"__GOAT-online_"+Z+".zip";Pe.length>180&&(Pe="GOAT-online_"+Z+".zip"),sd.saveAs(Ee,Pe)}catch(Z){console.error(Z),n(16,ue=Z.message)}}async function Be(K){try{n(15,ye=void 0),n(9,Y=0),V.update(Re=>!0),ad();const Z=await ud();v.postMessage(JSON.stringify({gl:o.genelist,gs:r.genesets,nulldistr:Z,scoreType:le,selectedMinSize:N,selectedMaxSize:z,selectedPvalueAdjustment:H,selectedPvalueThreshold:G}))}catch(Z){console.error(Z),n(15,ye=Z.message),V.update(Re=>!1)}}function ae(K,Z){const Re=+K;typeof Re!="number"||isNaN(Re)||Re<10||Ce.test(K)!==!0||Ce.test(z)===!0&&Re>=+z?n(10,ve=!0):(n(10,ve=!1),Z===!0&&ct(z,!1))}function ct(K,Z){const Re=+K;typeof Re!="number"||isNaN(Re)||Re<10||Ce.test(K)!==!0||Ce.test(N)===!0&&Re<=+N?n(11,j=!0):(n(11,j=!1),Z===!0&&ae(N,!1))}const Oe=K=>{console.log(K.target.files[0]),K.target.files&&de(K.target.files[0])};function Se(K){u=K,P.set(u)}const vt=K=>{bn(K),n(7,E=!0)},J=K=>{bn(K),n(7,E=!0)},he=K=>{bn(K),n(7,E=!1)},$=K=>{bn(K),n(7,E=!1)},ge=K=>{bn(K),n(7,E=!1),F(K)};function ze(K){f=K,D.set(f)}function _e(K){d=K,T.set(d)}function Le(K){g=K,M.set(g)}const et=K=>{K.target.files&&Xe(K.target.files[0])};function St(K){m=K,q.set(m)}function Ke(){le=Ql(this),n(4,le),n(17,i),n(5,o)}function rt(){N=this.value,n(0,N)}const dt=K=>ae(K.target.value,!0);function Me(){z=this.value,n(1,z)}const tt=K=>ct(K.target.value,!0),ke=K=>{n(2,H="bonferroni")},lt=K=>{n(2,H="fdr")};function it(){G=this.value,n(3,G)}const I=K=>{const Z=+K.target.value;n(12,pe=typeof Z!="number"||isNaN(Z)||Z>1||Z<0)};function ee(K){_=K,V.set(_)}const De=()=>{n(8,B="table")},U=()=>{n(8,B="barplot")},Te=()=>{n(8,B="tree")},ne=()=>{n(8,B="treemap")},Fe=()=>{n(8,B="heatmap")},Ne=K=>{n(9,Y=K)};return e.$$.update=()=>{e.$$.dirty[0]&95&&n(18,l=typeof s=="object"&&typeof s.settings=="object"&&(s.settings.scoreType!==le||s.settings.minSize!==N||s.settings.maxSize!==z||s.settings.pvalueAdjustment!==H||s.settings.pvalueThreshold!==G)),e.$$.dirty[0]&32&&n(17,i=o&&o.scoretype_options||[])},[N,z,H,G,le,o,s,E,B,Y,ve,j,pe,se,we,ye,ue,i,l,r,u,f,d,g,m,_,C,P,D,T,M,q,V,F,de,x,Ie,be,Xe,Ye,Be,ae,ct,Oe,Se,vt,J,he,$,ge,ze,_e,Le,et,St,Ke,rt,dt,Me,tt,ke,lt,it,I,ee,De,U,Te,ne,Fe,Ne]}class P1 extends Zt{constructor(t){super(),tn(this,t,k1,S1,en,{},null,[-1,-1,-1])}}export{P1 as component};
