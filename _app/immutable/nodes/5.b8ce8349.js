import{_ as Tf}from"../chunks/preload-helper.a4192956.js";import{y as ft,I as Xt,J as Ff,K as xo,L as Pf,M as ql,s as Qt,l as q,m as U,i as M,n as Ae,d as p,e as ze,z as Vt,f as b,g as w,B as he,a as R,h as S,c as E,j as h,k as Y,E as ne,x as c,N as rn,G as le,O as st,F as Bt,q as Hi,P as zf,Q as es,R as Gf,S as Nf,p as gt,T as He,U as Oe,V as Wn,W as Wu,X as Hf,t as Of,H as _t,Y as Ul,A as Lf,C as Bf,o as jf}from"../chunks/scheduler.cd38125d.js";import{S as Wt,i as $t,b as Ze,d as et,m as Je,a as re,t as ce,e as Qe,g as Nt,c as Ht,f as mt}from"../chunks/index.a6a2bf8f.js";import{r as ts,b as ns,e as on,c as qf,h as _e,n as Oi,i as gi,j as Uf,t as $r,k as Yi,S as Xn,s as Dr,m as ls,o as Xf,q as Wf,u as is,v as Vi,w as Yf,a as Kf,x as Zf,y as Jf,g as Qf,z as rs,A as $f,B as xf,C as ed,D as Vr,E as td,G as nd,H as ld,I as id,d as rd,J as od,F as sd,K as ad,L as ud,M as fd,N as dd}from"../chunks/stores.6e73a4c1.js";/* empty css                    */import{p as cd}from"../chunks/stores.3ed8a801.js";import{r as os,w as un,j as gd}from"../chunks/singletons.86de3700.js";const Yu=typeof window<"u";let ss=Yu?()=>window.performance.now():()=>Date.now(),Ku=Yu?e=>requestAnimationFrame(e):ft;const jl=new Set;function Zu(e){jl.forEach(t=>{t.c(e)||(jl.delete(t),t.f())}),jl.size!==0&&Ku(Zu)}function hd(e){let t;return jl.size===0&&Ku(Zu),{promise:new Promise(n=>{jl.add(t={c:e,f:n})}),abort(){jl.delete(t)}}}const pd=/[&"]/g,_d=/[&<]/g;function md(e,t=!1){const n=String(e),l=t?pd:_d;l.lastIndex=0;let i="",r=0;for(;l.test(n);){const o=l.lastIndex-1,s=n[o];i+=n.substring(r,o)+(s==="&"?"&amp;":s==='"'?"&quot;":"&lt;"),r=o+1}return i+n.substring(r)}function vd(e,t){if(!e||!e.$$render)throw t==="svelte:component"&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${t}>.`);return e}let Tr;function Ju(e){function t(n,l,i,r,o){const s=Pf,a={on_destroy:Tr,context:new Map(o||(s?s.$$.context:[])),on_mount:[],before_update:[],after_update:[],callbacks:Ff()};xo({$$:a});const u=e(n,l,i,r);return xo(s),u}return{render:(n={},{$$slots:l={},context:i=new Map}={})=>{Tr=[];const r={title:"",head:"",css:new Set},o=t(r,n,{},l,i);return Xt(Tr),{html:o,css:{code:Array.from(r.css).map(s=>s.code).join(`
`),map:null},head:r.title+r.head}},$$render:t}}function Gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $u(e){let t,n,l;e.length!==2?(t=Gi,n=(s,a)=>Gi(e(s),a),l=(s,a)=>e(s)-a):(t=e===Gi||e===Qu?e:bd,n=e,l=e);function i(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const d=u+f>>>1;n(s[d],a)<0?u=d+1:f=d}while(u<f)}return u}function r(s,a,u=0,f=s.length){if(u<f){if(t(a,a)!==0)return f;do{const d=u+f>>>1;n(s[d],a)<=0?u=d+1:f=d}while(u<f)}return u}function o(s,a,u=0,f=s.length){const d=i(s,a,u,f-1);return d>u&&l(s[d-1],a)>-l(s[d],a)?d-1:d}return{left:i,center:o,right:r}}function bd(){return 0}function wd(e){return e===null?NaN:+e}const yd=$u(Gi),Sd=yd.right;$u(wd).center;const Cd=Sd;class as extends Map{constructor(t,n=Ed){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[l,i]of t)this.set(l,i)}get(t){return super.get(us(this,t))}has(t){return super.has(us(this,t))}set(t,n){return super.set(kd(this,t),n)}delete(t){return super.delete(Rd(this,t))}}function us({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):n}function kd({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):(e.set(l,n),n)}function Rd({_intern:e,_key:t},n){const l=t(n);return e.has(l)&&(n=e.get(l),e.delete(l)),n}function Ed(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Id=Math.sqrt(50),Ad=Math.sqrt(10),Md=Math.sqrt(2);function Li(e,t,n){const l=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(l)),r=l/Math.pow(10,i),o=r>=Id?10:r>=Ad?5:r>=Md?2:1;let s,a,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),a=Math.round(t*u),s/u<e&&++s,a/u>t&&--a,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),a=Math.round(t/u),s*u<e&&++s,a*u>t&&--a),a<s&&.5<=n&&n<2?Li(e,t,n*2):[s,a,u]}function xu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const l=t<e,[i,r,o]=l?Li(t,e,n):Li(e,t,n);if(!(r>=i))return[];const s=r-i+1,a=new Array(s);if(l)if(o<0)for(let u=0;u<s;++u)a[u]=(r-u)/-o;else for(let u=0;u<s;++u)a[u]=(r-u)*o;else if(o<0)for(let u=0;u<s;++u)a[u]=(i+u)/-o;else for(let u=0;u<s;++u)a[u]=(i+u)*o;return a}function jr(e,t,n){return t=+t,e=+e,n=+n,Li(e,t,n)[2]}function Dd(e,t,n){t=+t,e=+e,n=+n;const l=t<e,i=l?jr(t,e,n):jr(e,t,n);return(l?-1:1)*(i<0?1/-i:i)}function Vd(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var l=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(i);++l<i;)r[l]=e+l*n;return r}const xr=e=>()=>e;function Td(e,t){return function(n){return e+n*t}}function Fd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(l){return Math.pow(e+l*t,n)}}function Pd(e){return(e=+e)==1?ef:function(t,n){return n-t?Fd(t,n,e):xr(isNaN(t)?n:t)}}function ef(e,t){var n=t-e;return n?Td(e,n):xr(isNaN(e)?t:e)}const fs=function e(t){var n=Pd(t);function l(i,r){var o=n((i=ts(i)).r,(r=ts(r)).r),s=n(i.g,r.g),a=n(i.b,r.b),u=ef(i.opacity,r.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=a(f),i.opacity=u(f),i+""}}return l.gamma=e,l}(1);function zd(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,l=t.slice(),i;return function(r){for(i=0;i<n;++i)l[i]=e[i]*(1-r)+t[i]*r;return l}}function Gd(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nd(e,t){var n=t?t.length:0,l=e?Math.min(n,e.length):0,i=new Array(l),r=new Array(n),o;for(o=0;o<l;++o)i[o]=eo(e[o],t[o]);for(;o<n;++o)r[o]=t[o];return function(s){for(o=0;o<l;++o)r[o]=i[o](s);return r}}function Hd(e,t){var n=new Date;return e=+e,t=+t,function(l){return n.setTime(e*(1-l)+t*l),n}}function Bi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Od(e,t){var n={},l={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=eo(e[i],t[i]):l[i]=t[i];return function(r){for(i in n)l[i]=n[i](r);return l}}var qr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fr=new RegExp(qr.source,"g");function Ld(e){return function(){return e}}function Bd(e){return function(t){return e(t)+""}}function jd(e,t){var n=qr.lastIndex=Fr.lastIndex=0,l,i,r,o=-1,s=[],a=[];for(e=e+"",t=t+"";(l=qr.exec(e))&&(i=Fr.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),s[o]?s[o]+=r:s[++o]=r),(l=l[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,a.push({i:o,x:Bi(l,i)})),n=Fr.lastIndex;return n<t.length&&(r=t.slice(n),s[o]?s[o]+=r:s[++o]=r),s.length<2?a[0]?Bd(a[0].x):Ld(t):(t=a.length,function(u){for(var f=0,d;f<t;++f)s[(d=a[f]).i]=d.x(u);return s.join("")})}function eo(e,t){var n=typeof t,l;return t==null||n==="boolean"?xr(t):(n==="number"?Bi:n==="string"?(l=ns(t))?(t=l,fs):jd:t instanceof ns?fs:t instanceof Date?Hd:Gd(t)?zd:Array.isArray(t)?Nd:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Od:Bi)(e,t)}function qd(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ud(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ji(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,l=e.slice(0,n);return[l.length>1?l[0]+l.slice(2):l,+e.slice(n+1)]}function Xl(e){return e=ji(Math.abs(e)),e?e[1]:NaN}function Xd(e,t){return function(n,l){for(var i=n.length,r=[],o=0,s=e[0],a=0;i>0&&s>0&&(a+s+1>l&&(s=Math.max(1,l-a)),r.push(n.substring(i-=s,i+s)),!((a+=s+1)>l));)s=e[o=(o+1)%e.length];return r.reverse().join(t)}}function Wd(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Yd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qi(e){if(!(t=Yd.exec(e)))throw new Error("invalid format: "+e);var t;return new to({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qi.prototype=to.prototype;function to(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}to.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kd(e){e:for(var t=e.length,n=1,l=-1,i;n<t;++n)switch(e[n]){case".":l=i=n;break;case"0":l===0&&(l=n),i=n;break;default:if(!+e[n])break e;l>0&&(l=0);break}return l>0?e.slice(0,l)+e.slice(i+1):e}var tf;function Zd(e,t){var n=ji(e,t);if(!n)return e+"";var l=n[0],i=n[1],r=i-(tf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=l.length;return r===o?l:r>o?l+new Array(r-o+1).join("0"):r>0?l.slice(0,r)+"."+l.slice(r):"0."+new Array(1-r).join("0")+ji(e,Math.max(0,t+r-1))[0]}function ds(e,t){var n=ji(e,t);if(!n)return e+"";var l=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+l:l.length>i+1?l.slice(0,i+1)+"."+l.slice(i+1):l+new Array(i-l.length+2).join("0")}const cs={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ud,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ds(e*100,t),r:ds,s:Zd,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gs(e){return e}var hs=Array.prototype.map,ps=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Jd(e){var t=e.grouping===void 0||e.thousands===void 0?gs:Xd(hs.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",l=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?gs:Wd(hs.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"â":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function u(d){d=qi(d);var g=d.fill,m=d.align,_=d.sign,v=d.symbol,y=d.zero,C=d.width,I=d.comma,G=d.precision,V=d.trim,A=d.type;A==="n"?(I=!0,A="g"):cs[A]||(G===void 0&&(G=12),V=!0,A="g"),(y||g==="0"&&m==="=")&&(y=!0,g="0",m="=");var D=v==="$"?n:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",H=v==="$"?l:/[%p]/.test(A)?o:"",T=cs[A],L=/[defgprs%]/.test(A);G=G===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,G)):Math.max(0,Math.min(20,G));function P(j){var F=D,X=H,W,ae,Se;if(A==="c")X=T(j)+X,j="";else{j=+j;var we=j<0||1/j<0;if(j=isNaN(j)?a:T(Math.abs(j),G),V&&(j=Kd(j)),we&&+j==0&&_!=="+"&&(we=!1),F=(we?_==="("?_:s:_==="-"||_==="("?"":_)+F,X=(A==="s"?ps[8+tf/3]:"")+X+(we&&_==="("?")":""),L){for(W=-1,ae=j.length;++W<ae;)if(Se=j.charCodeAt(W),48>Se||Se>57){X=(Se===46?i+j.slice(W+1):j.slice(W))+X,j=j.slice(0,W);break}}}I&&!y&&(j=t(j,1/0));var O=F.length+j.length+X.length,oe=O<C?new Array(C-O+1).join(g):"";switch(I&&y&&(j=t(oe+j,oe.length?C-X.length:1/0),oe=""),m){case"<":j=F+j+X+oe;break;case"=":j=F+oe+j+X;break;case"^":j=oe.slice(0,O=oe.length>>1)+F+j+X+oe.slice(O);break;default:j=oe+F+j+X;break}return r(j)}return P.toString=function(){return d+""},P}function f(d,g){var m=u((d=qi(d),d.type="f",d)),_=Math.max(-8,Math.min(8,Math.floor(Xl(g)/3)))*3,v=Math.pow(10,-_),y=ps[8+_/3];return function(C){return m(v*C)+y}}return{format:u,formatPrefix:f}}var Ti,nf,lf;Qd({thousands:",",grouping:[3],currency:["$",""]});function Qd(e){return Ti=Jd(e),nf=Ti.format,lf=Ti.formatPrefix,Ti}function $d(e){return Math.max(0,-Xl(Math.abs(e)))}function xd(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xl(t)/3)))*3-Xl(Math.abs(e)))}function ec(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xl(t)-Xl(e))+1}function tc(e){var t=0,n=e.children,l=n&&n.length;if(!l)t=1;else for(;--l>=0;)t+=n[l].value;e.value=t}function nc(){return this.eachAfter(tc)}function lc(e,t){let n=-1;for(const l of this)e.call(t,l,++n,this);return this}function ic(e,t){for(var n=this,l=[n],i,r,o=-1;n=l.pop();)if(e.call(t,n,++o,this),i=n.children)for(r=i.length-1;r>=0;--r)l.push(i[r]);return this}function rc(e,t){for(var n=this,l=[n],i=[],r,o,s,a=-1;n=l.pop();)if(i.push(n),r=n.children)for(o=0,s=r.length;o<s;++o)l.push(r[o]);for(;n=i.pop();)e.call(t,n,++a,this);return this}function oc(e,t){let n=-1;for(const l of this)if(e.call(t,l,++n,this))return l}function sc(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,l=t.children,i=l&&l.length;--i>=0;)n+=l[i].value;t.value=n})}function ac(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function uc(e){for(var t=this,n=fc(t,e),l=[t];t!==n;)t=t.parent,l.push(t);for(var i=l.length;e!==n;)l.splice(i,0,e),e=e.parent;return l}function fc(e,t){if(e===t)return e;var n=e.ancestors(),l=t.ancestors(),i=null;for(e=n.pop(),t=l.pop();e===t;)i=e,e=n.pop(),t=l.pop();return i}function dc(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function cc(){return Array.from(this)}function gc(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function hc(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*pc(){var e=this,t,n=[e],l,i,r;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,l=e.children)for(i=0,r=l.length;i<r;++i)n.push(l[i]);while(n.length)}function no(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=vc)):t===void 0&&(t=mc);for(var n=new Ui(e),l,i=[n],r,o,s,a;l=i.pop();)if((o=t(l.data))&&(a=(o=Array.from(o)).length))for(l.children=o,s=a-1;s>=0;--s)i.push(r=o[s]=new Ui(o[s])),r.parent=l,r.depth=l.depth+1;return n.eachBefore(wc)}function _c(){return no(this).eachBefore(bc)}function mc(e){return e.children}function vc(e){return Array.isArray(e)?e[1]:null}function bc(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function wc(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ui(e){this.data=e,this.depth=this.height=0,this.parent=null}Ui.prototype=no.prototype={constructor:Ui,count:nc,each:lc,eachAfter:rc,eachBefore:ic,find:oc,sum:sc,sort:ac,path:uc,ancestors:dc,descendants:cc,leaves:gc,links:hc,copy:_c,[Symbol.iterator]:pc};function yc(e){if(typeof e!="function")throw new Error;return e}function fi(){return 0}function di(e){return function(){return e}}function Sc(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Cc(e,t,n,l,i){for(var r=e.children,o,s=-1,a=r.length,u=e.value&&(l-t)/e.value;++s<a;)o=r[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*u}function kc(e,t,n,l,i){for(var r=e.children,o,s=-1,a=r.length,u=e.value&&(i-n)/e.value;++s<a;)o=r[s],o.x0=t,o.x1=l,o.y0=n,o.y1=n+=o.value*u}var Rc=(1+Math.sqrt(5))/2;function Ec(e,t,n,l,i,r){for(var o=[],s=t.children,a,u,f=0,d=0,g=s.length,m,_,v=t.value,y,C,I,G,V,A,D;f<g;){m=i-n,_=r-l;do y=s[d++].value;while(!y&&d<g);for(C=I=y,A=Math.max(_/m,m/_)/(v*e),D=y*y*A,V=Math.max(I/D,D/C);d<g;++d){if(y+=u=s[d].value,u<C&&(C=u),u>I&&(I=u),D=y*y*A,G=Math.max(I/D,D/C),G>V){y-=u;break}V=G}o.push(a={value:y,dice:m<_,children:s.slice(f,d)}),a.dice?Cc(a,n,l,i,v?l+=_*y/v:r):kc(a,n,l,v?n+=m*y/v:i,r),v-=y,f=d}return o}const rf=function e(t){function n(l,i,r,o,s){Ec(t,l,i,r,o,s)}return n.ratio=function(l){return e((l=+l)>1?l:1)},n}(Rc);function Ic(){var e=rf,t=!1,n=1,l=1,i=[0],r=fi,o=fi,s=fi,a=fi,u=fi;function f(g){return g.x0=g.y0=0,g.x1=n,g.y1=l,g.eachBefore(d),i=[0],t&&g.eachBefore(Sc),g}function d(g){var m=i[g.depth],_=g.x0+m,v=g.y0+m,y=g.x1-m,C=g.y1-m;y<_&&(_=y=(_+y)/2),C<v&&(v=C=(v+C)/2),g.x0=_,g.y0=v,g.x1=y,g.y1=C,g.children&&(m=i[g.depth+1]=r(g)/2,_+=u(g)-m,v+=o(g)-m,y-=s(g)-m,C-=a(g)-m,y<_&&(_=y=(_+y)/2),C<v&&(v=C=(v+C)/2),e(g,_,v,y,C))}return f.round=function(g){return arguments.length?(t=!!g,f):t},f.size=function(g){return arguments.length?(n=+g[0],l=+g[1],f):[n,l]},f.tile=function(g){return arguments.length?(e=yc(g),f):e},f.padding=function(g){return arguments.length?f.paddingInner(g).paddingOuter(g):f.paddingInner()},f.paddingInner=function(g){return arguments.length?(r=typeof g=="function"?g:di(+g),f):r},f.paddingOuter=function(g){return arguments.length?f.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):f.paddingTop()},f.paddingTop=function(g){return arguments.length?(o=typeof g=="function"?g:di(+g),f):o},f.paddingRight=function(g){return arguments.length?(s=typeof g=="function"?g:di(+g),f):s},f.paddingBottom=function(g){return arguments.length?(a=typeof g=="function"?g:di(+g),f):a},f.paddingLeft=function(g){return arguments.length?(u=typeof g=="function"?g:di(+g),f):u},f}function lo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const _s=Symbol("implicit");function of(){var e=new as,t=[],n=[],l=_s;function i(r){let o=e.get(r);if(o===void 0){if(l!==_s)return l;e.set(r,o=t.push(r)-1)}return n[o%n.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new as;for(const o of r)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(r){return arguments.length?(n=Array.from(r),i):n.slice()},i.unknown=function(r){return arguments.length?(l=r,i):l},i.copy=function(){return of(t,n).unknown(l)},lo.apply(i,arguments),i}function sf(){var e=of().unknown(void 0),t=e.domain,n=e.range,l=0,i=1,r,o,s=!1,a=0,u=0,f=.5;delete e.unknown;function d(){var g=t().length,m=i<l,_=m?i:l,v=m?l:i;r=(v-_)/Math.max(1,g-a+u*2),s&&(r=Math.floor(r)),_+=(v-_-r*(g-a))*f,o=r*(1-a),s&&(_=Math.round(_),o=Math.round(o));var y=Vd(g).map(function(C){return _+r*C});return n(m?y.reverse():y)}return e.domain=function(g){return arguments.length?(t(g),d()):t()},e.range=function(g){return arguments.length?([l,i]=g,l=+l,i=+i,d()):[l,i]},e.rangeRound=function(g){return[l,i]=g,l=+l,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return r},e.round=function(g){return arguments.length?(s=!!g,d()):s},e.padding=function(g){return arguments.length?(a=Math.min(1,u=+g),d()):a},e.paddingInner=function(g){return arguments.length?(a=Math.min(1,g),d()):a},e.paddingOuter=function(g){return arguments.length?(u=+g,d()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),d()):f},e.copy=function(){return sf(t(),[l,i]).round(s).paddingInner(a).paddingOuter(u).align(f)},lo.apply(d(),arguments)}function Ac(e){return function(){return e}}function Mc(e){return+e}var ms=[0,1];function Bl(e){return e}function Ur(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ac(isNaN(t)?NaN:.5)}function Dc(e,t){var n;return e>t&&(n=e,e=t,t=n),function(l){return Math.max(e,Math.min(t,l))}}function Vc(e,t,n){var l=e[0],i=e[1],r=t[0],o=t[1];return i<l?(l=Ur(i,l),r=n(o,r)):(l=Ur(l,i),r=n(r,o)),function(s){return r(l(s))}}function Tc(e,t,n){var l=Math.min(e.length,t.length)-1,i=new Array(l),r=new Array(l),o=-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<l;)i[o]=Ur(e[o],e[o+1]),r[o]=n(t[o],t[o+1]);return function(s){var a=Cd(e,s,1,l)-1;return r[a](i[a](s))}}function Fc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pc(){var e=ms,t=ms,n=eo,l,i,r,o=Bl,s,a,u;function f(){var g=Math.min(e.length,t.length);return o!==Bl&&(o=Dc(e[0],e[g-1])),s=g>2?Tc:Vc,a=u=null,d}function d(g){return g==null||isNaN(g=+g)?r:(a||(a=s(e.map(l),t,n)))(l(o(g)))}return d.invert=function(g){return o(i((u||(u=s(t,e.map(l),Bi)))(g)))},d.domain=function(g){return arguments.length?(e=Array.from(g,Mc),f()):e.slice()},d.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},d.rangeRound=function(g){return t=Array.from(g),n=qd,f()},d.clamp=function(g){return arguments.length?(o=g?!0:Bl,f()):o!==Bl},d.interpolate=function(g){return arguments.length?(n=g,f()):n},d.unknown=function(g){return arguments.length?(r=g,d):r},function(g,m){return l=g,i=m,f()}}function zc(){return Pc()(Bl,Bl)}function Gc(e,t,n,l){var i=Dd(e,t,n),r;switch(l=qi(l??",f"),l.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return l.precision==null&&!isNaN(r=xd(i,o))&&(l.precision=r),lf(l,o)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(r=ec(i,Math.max(Math.abs(e),Math.abs(t))))&&(l.precision=r-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(r=$d(i))&&(l.precision=r-(l.type==="%")*2);break}}return nf(l)}function Nc(e){var t=e.domain;return e.ticks=function(n){var l=t();return xu(l[0],l[l.length-1],n??10)},e.tickFormat=function(n,l){var i=t();return Gc(i[0],i[i.length-1],n??10,l)},e.nice=function(n){n==null&&(n=10);var l=t(),i=0,r=l.length-1,o=l[i],s=l[r],a,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=r,r=u);f-- >0;){if(u=jr(o,s,n),u===a)return l[i]=o,l[r]=s,t(l);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;a=u}return e},e}function af(){var e=zc();return e.copy=function(){return Fc(e,af())},lo.apply(e,arguments),Nc(e)}function Hc(e){const t=e&&e.replace(/(\n+$)|(^\n$)|'|"|\r/g,"").split(`
`)||[],n=t.length,l=[],r=2+1,o=new RegExp("^[0-9]+$"),s=new RegExp("^(http://|https://|www.)","i"),a=[];let u=0,f=[],d;for(let g=0;g<n;g++)if(f=t[g].split("	"),u=f.length,u>=r){d===void 0&&(d=s.test(f[1])===!0);const m={id:f[0],name:d||f[1]===""?f[0]:f[1],genes:[]};if(m.id==="")throw new Error("line "+(g+1)+" is invalid, each row should start with a geneset identifier (but found empty string)");if(a.indexOf(m.id)!==-1)throw new Error("line "+(g+1)+" is invalid, duplicated geneset identifier that was already seen before; "+m.id);a.push(m.id);for(let _=2;_<u;_++){if(o.test(f[_])!==!0)throw new Error("line "+(g+1)+" is invalid, the genes should be integer numbers but instead we found value; "+f[_]);m.genes.push(+f[_])}l.push(m)}return l}async function Oc(){const e=["source","id","name","ngenes_input","ngenes","ngenes_signif","genes","genes_signif","pvalue","pvalue_adjust","signif","score_type"],t=ql(on);if(Array.isArray(t.genesets)){const n=t.genelist.map(o=>({gene:o.gene,symbol:o.symbol,maxscore:o.sort_score}));n.sort((o,s)=>s.maxscore-o.maxscore);let l=[],i=[];return t.genesets.forEach(o=>{const s=o.genesets.map(f=>{const d=new Set(f.genes),g=new Set(f.genes_signif);return[o.source,f.id,f.name,f.ngenes_input,f.ngenes,f.ngenes_signif,n.filter(m=>d.has(m.gene)).slice(0,250).map(m=>m.symbol).join(","),n.filter(m=>g.has(m.gene)).slice(0,250).map(m=>m.symbol).join(","),f.pvalue,f.pvalue_adjust,f.signif,f.score_type]}),a=l.length,u=o.genesets.map((f,d)=>({i:a+d,pvalue:f.pvalue}));l=l.concat(s),i=i.concat(u)}),i.sort((o,s)=>o.pvalue-s.pvalue),l=i.map(o=>l[o.i]),l.unshift(e),await qf(l)}else return new Blob(["no results available"])}function Lc(e,t,n,l){const i=t.genesets.map(o=>o.source);let r=`Geneset analyses
GOAT online [doi:10.1101/2023.12.10.570979] (version `+n+" , http://ftwkoopmans.github.io/goat ) was used to perform geneset enrichment analyses";return t.type==="go"?r+=" using genesets from the Gene Ontology database [PMID:10802651] (version "+t.genesets[0].source_version+").":t.type==="syngo"?r+=" using genesets from the SynGO knowledgebase [PMID:31171447] (version "+t.genesets[0].source_version+"). ":r+=' using "'+t.genesets[0].source_version+'" genesets imported into GOAT online in GMT format. ',r+="The input genelist contained "+e.genelist.length+" genes and its "+t.settings.scoreType+"-derived gene scores were used to test for enriched genesets that contained at least "+t.settings.minSize+" and at most "+t.settings.maxSize+" genes (or 50% of the genelist, whichever was smaller) that overlapped with the input genelist. Multiple testing correction was ",i.length>1?r+='independently applied per geneset "source" (i.e. '+i.join(", ")+")":r+="applied",t.settings.pvalueAdjustment=="bonferroni"?r+=" using Bonferroni adjustment":r+=" using the Benjamini-Hochberg procedure (FDR)",i.length>1?r+=" and subsequently all p-values were adjusted (again) using Bonferroni adjustment to account for "+i.length+' separate tests across "sources". ':r+=". ",r+="The significance threshold for adjusted p-values was set to "+t.settings.pvalueThreshold+`.

`,"GOAT online, version: "+n+`
date: `+l.replace("_"," ").replace(/-([0-9]+)$/,":$1")+`

input genelist:
filename: `+e.filename+`
gene count:`+e.genelist.length+`

input genesets:
`+t.genesets.reduce((o,s)=>o+s.source+" (version: "+s.source_version+`)
`,"")+`
GOAT settings:
score type: `+t.settings.scoreType+`
min geneset size: `+t.settings.minSize+`
max geneset size: `+t.settings.maxSize+`
adjusted p-value, method: `+t.settings.pvalueAdjustment+`
adjusted p-value, significance threshold: `+t.settings.pvalueThreshold+`

GOAT results:
`+t.genesets.reduce((o,s)=>o+s.source+": "+s.genesets.filter(a=>a.signif===!0).length+" / "+s.genesets.length+` evaluated genesets are significant
`,"")+`

Materials & Methods:

`+r}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $n(e,t){return typeof e=="function"?e(t):e}function fn(e,t){return n=>{t.setState(l=>({...l,[e]:$n(n,l[e])}))}}function Xi(e){return e instanceof Function}function Bc(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function jc(e,t){const n=[],l=i=>{i.forEach(r=>{n.push(r);const o=t(r);o!=null&&o.length&&l(o)})};return l(e),n}function Ye(e,t,n){let l=[],i;return()=>{let r;n.key&&n.debug&&(r=Date.now());const o=e();if(!(o.length!==l.length||o.some((u,f)=>l[f]!==u)))return i;l=o;let a;if(n.key&&n.debug&&(a=Date.now()),i=t(...o),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-r)*100)/100,f=Math.round((Date.now()-a)*100)/100,d=f/16,g=(m,_)=>{for(m=String(m);m.length<_;)m=" "+m;return m};console.info(`%câ± ${g(f,5)} /${g(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function qc(e,t,n,l){var i,r;const s={...e._getDefaultColumnDef(),...t},a=s.accessorKey;let u=(i=(r=s.id)!=null?r:a?a.replace(".","_"):void 0)!=null?i:typeof s.header=="string"?s.header:void 0,f;if(s.accessorFn?f=s.accessorFn:a&&(a.includes(".")?f=g=>{let m=g;for(const v of a.split(".")){var _;m=(_=m)==null?void 0:_[v]}return m}:f=g=>g[s.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:f,parent:l,depth:n,columnDef:s,columns:[],getFlatColumns:Ye(()=>[!0],()=>{var g;return[d,...(g=d.columns)==null?void 0:g.flatMap(m=>m.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}}),getLeafColumns:Ye(()=>[e._getOrderColumnsFn()],g=>{var m;if((m=d.columns)!=null&&m.length){let _=d.columns.flatMap(v=>v.getLeafColumns());return g(_)}return[d]},{key:"column.getLeafColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}})};for(const g of e._features)g.createColumn==null||g.createColumn(d,e);return d}function vs(e,t,n){var l;let r={id:(l=n.id)!=null?l:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],s=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(s),o.push(a)};return s(r),o},getContext:()=>({table:e,header:r,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(r,e)}),r}const Uc={createTable:e=>{e.getHeaderGroups=Ye(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,i)=>{var r,o;const s=(r=l==null?void 0:l.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?r:[],a=(o=i==null?void 0:i.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(l!=null&&l.includes(d.id))&&!(i!=null&&i.includes(d.id)));return Fi(t,[...s,...u,...a],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterHeaderGroups=Ye(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,i)=>(n=n.filter(r=>!(l!=null&&l.includes(r.id))&&!(i!=null&&i.includes(r.id))),Fi(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftHeaderGroups=Ye(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,l)=>{var i;const r=(i=l==null?void 0:l.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return Fi(t,r,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightHeaderGroups=Ye(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,l)=>{var i;const r=(i=l==null?void 0:l.map(o=>n.find(s=>s.id===o)).filter(Boolean))!=null?i:[];return Fi(t,r,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFooterGroups=Ye(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFooterGroups=Ye(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFooterGroups=Ye(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFooterGroups=Ye(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFlatHeaders=Ye(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFlatHeaders=Ye(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFlatHeaders=Ye(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFlatHeaders=Ye(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterLeafHeaders=Ye(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftLeafHeaders=Ye(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightLeafHeaders=Ye(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeafHeaders=Ye(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,l)=>{var i,r,o,s,a,u;return[...(i=(r=t[0])==null?void 0:r.headers)!=null?i:[],...(o=(s=n[0])==null?void 0:s.headers)!=null?o:[],...(a=(u=l[0])==null?void 0:u.headers)!=null?a:[]].map(f=>f.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})}};function Fi(e,t,n,l){var i,r;let o=0;const s=function(g,m){m===void 0&&(m=1),o=Math.max(o,m),g.filter(_=>_.getIsVisible()).forEach(_=>{var v;(v=_.columns)!=null&&v.length&&s(_.columns,m+1)},0)};s(e);let a=[];const u=(g,m)=>{const _={depth:m,id:[l,`${m}`].filter(Boolean).join("_"),headers:[]},v=[];g.forEach(y=>{const C=[...v].reverse()[0],I=y.column.depth===_.depth;let G,V=!1;if(I&&y.column.parent?G=y.column.parent:(G=y.column,V=!0),C&&(C==null?void 0:C.column)===G)C.subHeaders.push(y);else{const A=vs(n,G,{id:[l,m,G.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:V,placeholderId:V?`${v.filter(D=>D.column===G).length}`:void 0,depth:m,index:v.length});A.subHeaders.push(y),v.push(A)}_.headers.push(y),y.headerGroup=_}),a.push(_),m>0&&u(v,m-1)},f=t.map((g,m)=>vs(n,g,{depth:o,index:m}));u(f,o-1),a.reverse();const d=g=>g.filter(_=>_.column.getIsVisible()).map(_=>{let v=0,y=0,C=[0];_.subHeaders&&_.subHeaders.length?(C=[],d(_.subHeaders).forEach(G=>{let{colSpan:V,rowSpan:A}=G;v+=V,C.push(A)})):v=1;const I=Math.min(...C);return y=y+I,_.colSpan=v,_.rowSpan=y,{colSpan:v,rowSpan:y}});return d((i=(r=a[0])==null?void 0:r.headers)!=null?i:[]),a}const Pi={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Pr=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Xc={getDefaultColumnDef:()=>Pi,getInitialState:e=>({columnSizing:{},columnSizingInfo:Pr(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:fn("columnSizing",e),onColumnSizingInfoChange:fn("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,l,i;const r=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Pi.minSize,(l=r??e.columnDef.size)!=null?l:Pi.size),(i=e.columnDef.maxSize)!=null?i:Pi.maxSize)},e.getStart=n=>{const l=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),i=l.findIndex(r=>r.id===e.id);if(i>0){const r=l[i-1];return r.getStart(n)+r.getSize()}return 0},e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:l,...i}=n;return i})},e.getCanResize=()=>{var n,l;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((l=t.options.enableColumnResizing)!=null?l:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const l=i=>{if(i.subHeaders.length)i.subHeaders.forEach(l);else{var r;n+=(r=i.column.getSize())!=null?r:0}};return l(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=()=>{const n=t.getColumn(e.column.id),l=n==null?void 0:n.getCanResize();return i=>{if(!n||!l||(i.persist==null||i.persist(),zr(i)&&i.touches&&i.touches.length>1))return;const r=e.getSize(),o=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[n.id,n.getSize()]],s=zr(i)?Math.round(i.touches[0].clientX):i.clientX,a={},u=(v,y)=>{typeof y=="number"&&(t.setColumnSizingInfo(C=>{var I,G;const V=y-((I=C==null?void 0:C.startOffset)!=null?I:0),A=Math.max(V/((G=C==null?void 0:C.startSize)!=null?G:0),-.999999);return C.columnSizingStart.forEach(D=>{let[H,T]=D;a[H]=Math.round(Math.max(T+T*A,0)*100)/100}),{...C,deltaOffset:V,deltaPercentage:A}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(C=>({...C,...a})))},f=v=>u("move",v),d=v=>{u("end",v),t.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g={moveHandler:v=>f(v.clientX),upHandler:v=>{document.removeEventListener("mousemove",g.moveHandler),document.removeEventListener("mouseup",g.upHandler),d(v.clientX)}},m={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(v.touches[0].clientX),!1),upHandler:v=>{var y;document.removeEventListener("touchmove",m.moveHandler),document.removeEventListener("touchend",m.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),d((y=v.touches[0])==null?void 0:y.clientX)}},_=Wc()?{passive:!1}:!1;zr(i)?(document.addEventListener("touchmove",m.moveHandler,_),document.addEventListener("touchend",m.upHandler,_)):(document.addEventListener("mousemove",g.moveHandler,_),document.addEventListener("mouseup",g.upHandler,_)),t.setColumnSizingInfo(v=>({...v,startOffset:s,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Pr():(n=e.initialState.columnSizingInfo)!=null?n:Pr())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((l,i)=>l+i.getSize(),0))!=null?t:0}}};let zi=null;function Wc(){if(typeof zi=="boolean")return zi;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return zi=e,zi}function zr(e){return e.type==="touchstart"}const Yc={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:fn("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var l,i;if(!t){e._queue(()=>{t=!0});return}if((l=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?l:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=l=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(l),e.toggleAllRowsExpanded=l=>{l??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=l=>{var i,r;e.setExpanded(l?{}:(i=(r=e.initialState)==null?void 0:r.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(l=>l.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>l=>{l.persist==null||l.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const l=e.getState().expanded;return l===!0||Object.values(l).some(Boolean)},e.getIsAllRowsExpanded=()=>{const l=e.getState().expanded;return typeof l=="boolean"?l===!0:!(!Object.keys(l).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let l=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(r=>{const o=r.split(".");l=Math.max(l,o.length)}),l},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(l=>{var i;const r=l===!0?!0:!!(l!=null&&l[e.id]);let o={};if(l===!0?Object.keys(t.getRowModel().rowsById).forEach(s=>{o[s]=!0}):o=l,n=(i=n)!=null?i:!r,!r&&n)return{...o,[e.id]:!0};if(r&&!n){const{[e.id]:s,...a}=o;return a}return l})},e.getIsExpanded=()=>{var n;const l=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:l===!0||l!=null&&l[e.id])},e.getCanExpand=()=>{var n,l,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((l=t.options.enableExpanding)!=null?l:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,l=e;for(;n&&l.parentId;)l=t.getRow(l.parentId,!0),n=l.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},uf=(e,t,n)=>{var l;const i=n.toLowerCase();return!!(!((l=e.getValue(t))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(i))};uf.autoRemove=e=>En(e);const ff=(e,t,n)=>{var l;return!!(!((l=e.getValue(t))==null||(l=l.toString())==null)&&l.includes(n))};ff.autoRemove=e=>En(e);const df=(e,t,n)=>{var l;return((l=e.getValue(t))==null||(l=l.toString())==null?void 0:l.toLowerCase())===(n==null?void 0:n.toLowerCase())};df.autoRemove=e=>En(e);const cf=(e,t,n)=>{var l;return(l=e.getValue(t))==null?void 0:l.includes(n)};cf.autoRemove=e=>En(e)||!(e!=null&&e.length);const gf=(e,t,n)=>!n.some(l=>{var i;return!((i=e.getValue(t))!=null&&i.includes(l))});gf.autoRemove=e=>En(e)||!(e!=null&&e.length);const hf=(e,t,n)=>n.some(l=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(l)});hf.autoRemove=e=>En(e)||!(e!=null&&e.length);const pf=(e,t,n)=>e.getValue(t)===n;pf.autoRemove=e=>En(e);const _f=(e,t,n)=>e.getValue(t)==n;_f.autoRemove=e=>En(e);const io=(e,t,n)=>{let[l,i]=n;const r=e.getValue(t);return r>=l&&r<=i};io.resolveFilterValue=e=>{let[t,n]=e,l=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,r=t===null||Number.isNaN(l)?-1/0:l,o=n===null||Number.isNaN(i)?1/0:i;if(r>o){const s=r;r=o,o=s}return[r,o]};io.autoRemove=e=>En(e)||En(e[0])&&En(e[1]);const Un={includesString:uf,includesStringSensitive:ff,equalsString:df,arrIncludes:cf,arrIncludesAll:gf,arrIncludesSome:hf,equals:pf,weakEquals:_f,inNumberRange:io};function En(e){return e==null||e===""}const Kc={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:fn("columnFilters",e),onGlobalFilterChange:fn("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const l=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof l=="string"||typeof l=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);return typeof l=="string"?Un.includesString:typeof l=="number"?Un.inNumberRange:typeof l=="boolean"||l!==null&&typeof l=="object"?Un.equals:Array.isArray(l)?Un.arrIncludes:Un.weakEquals},e.getFilterFn=()=>{var n,l;return Xi(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(l=t.options.filterFns)==null?void 0:l[e.columnDef.filterFn])!=null?n:Un[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,l,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((l=t.options.enableColumnFilters)!=null?l:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,l,i,r;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((l=t.options.enableGlobalFilter)!=null?l:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((r=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(l=>l.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,l;return(n=(l=t.getState().columnFilters)==null?void 0:l.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(l=>{const i=e.getFilterFn(),r=l==null?void 0:l.find(f=>f.id===e.id),o=$n(n,r?r.value:void 0);if(bs(i,o,e)){var s;return(s=l==null?void 0:l.filter(f=>f.id!==e.id))!=null?s:[]}const a={id:e.id,value:o};if(r){var u;return(u=l==null?void 0:l.map(f=>f.id===e.id?a:f))!=null?u:[]}return l!=null&&l.length?[...l,a]:[a]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Un.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:l}=e.options;return Xi(l)?l:l==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[l])!=null?t:Un[l]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),l=i=>{var r;return(r=$n(t,i))==null?void 0:r.filter(o=>{const s=n.find(a=>a.id===o.id);if(s){const a=s.getFilterFn();if(bs(a,o.value,s))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(l)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,l;e.setColumnFilters(t?[]:(n=(l=e.initialState)==null?void 0:l.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function bs(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Zc=(e,t,n)=>n.reduce((l,i)=>{const r=i.getValue(e);return l+(typeof r=="number"?r:0)},0),Jc=(e,t,n)=>{let l;return n.forEach(i=>{const r=i.getValue(e);r!=null&&(l>r||l===void 0&&r>=r)&&(l=r)}),l},Qc=(e,t,n)=>{let l;return n.forEach(i=>{const r=i.getValue(e);r!=null&&(l<r||l===void 0&&r>=r)&&(l=r)}),l},$c=(e,t,n)=>{let l,i;return n.forEach(r=>{const o=r.getValue(e);o!=null&&(l===void 0?o>=o&&(l=i=o):(l>o&&(l=o),i<o&&(i=o)))}),[l,i]},xc=(e,t)=>{let n=0,l=0;if(t.forEach(i=>{let r=i.getValue(e);r!=null&&(r=+r)>=r&&(++n,l+=r)}),n)return l/n},eg=(e,t)=>{if(!t.length)return;const n=t.map(r=>r.getValue(e));if(!Bc(n))return;if(n.length===1)return n[0];const l=Math.floor(n.length/2),i=n.sort((r,o)=>r-o);return n.length%2!==0?i[l]:(i[l-1]+i[l])/2},tg=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),ng=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,lg=(e,t)=>t.length,Gr={sum:Zc,min:Jc,max:Qc,extent:$c,mean:xc,median:eg,unique:tg,uniqueCount:ng,count:lg},ig={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:fn("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(l=>l!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,l,i,r;return(n=(l=(i=(r=e.columnDef.enableGrouping)!=null?r:!0)!=null?i:t.options.enableGrouping)!=null?l:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);if(typeof l=="number")return Gr.sum;if(Object.prototype.toString.call(l)==="[object Date]")return Gr.extent},e.getAggregationFn=()=>{var n,l;if(!e)throw new Error;return Xi(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(l=t.options.aggregationFns)==null?void 0:l[e.columnDef.aggregationFn])!=null?n:Gr[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,l;e.setGrouping(t?[]:(n=(l=e.initialState)==null?void 0:l.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const l=t.getColumn(n);return l!=null&&l.columnDef.getGroupingValue?(e._groupingValuesCache[n]=l.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,l)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function rg(e,t,n){if(!(t!=null&&t.length)||!n)return e;const l=e.filter(r=>!t.includes(r.id));return n==="remove"?l:[...t.map(r=>e.find(o=>o.id===r)).filter(Boolean),...l]}const og={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:fn("columnOrder",e)}),createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Ye(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,l)=>i=>{let r=[];if(!(t!=null&&t.length))r=i;else{const o=[...t],s=[...i];for(;s.length&&o.length;){const a=o.shift(),u=s.findIndex(f=>f.id===a);u>-1&&r.push(s.splice(u,1)[0])}r=[...r,...s]}return rg(r,n,l)},{key:!1})}},Xr=0,Wr=10,Nr=()=>({pageIndex:Xr,pageSize:Wr}),sg={getInitialState:e=>({...e,pagination:{...Nr(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:fn("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var l,i;if(!t){e._queue(()=>{t=!0});return}if((l=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?l:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=l=>{const i=r=>$n(l,r);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=l=>{var i;e.setPagination(l?Nr():(i=e.initialState.pagination)!=null?i:Nr())},e.setPageIndex=l=>{e.setPagination(i=>{let r=$n(l,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,o)),{...i,pageIndex:r}})},e.resetPageIndex=l=>{var i,r;e.setPageIndex(l?Xr:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageIndex)!=null?i:Xr)},e.resetPageSize=l=>{var i,r;e.setPageSize(l?Wr:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageSize)!=null?i:Wr)},e.setPageSize=l=>{e.setPagination(i=>{const r=Math.max(1,$n(l,i.pageSize)),o=i.pageSize*i.pageIndex,s=Math.floor(o/r);return{...i,pageIndex:s,pageSize:r}})},e.setPageCount=l=>e.setPagination(i=>{var r;let o=$n(l,(r=e.options.pageCount)!=null?r:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=Ye(()=>[e.getPageCount()],l=>{let i=[];return l&&l>0&&(i=[...new Array(l)].fill(null).map((r,o)=>o)),i},{key:!1,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugTable}}),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:l}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:l<i-1},e.previousPage=()=>e.setPageIndex(l=>l-1),e.nextPage=()=>e.setPageIndex(l=>l+1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var l;return(l=e.options.pageCount)!=null?l:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}},Hr=()=>({left:[],right:[]}),Or=()=>({top:[],bottom:[]}),ag={getInitialState:e=>({columnPinning:Hr(),rowPinning:Or(),...e}),getDefaultOptions:e=>({onColumnPinningChange:fn("columnPinning",e),onRowPinningChange:fn("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const l=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var r,o;if(n==="right"){var s,a;return{left:((s=i==null?void 0:i.left)!=null?s:[]).filter(d=>!(l!=null&&l.includes(d))),right:[...((a=i==null?void 0:i.right)!=null?a:[]).filter(d=>!(l!=null&&l.includes(d))),...l]}}if(n==="left"){var u,f;return{left:[...((u=i==null?void 0:i.left)!=null?u:[]).filter(d=>!(l!=null&&l.includes(d))),...l],right:((f=i==null?void 0:i.right)!=null?f:[]).filter(d=>!(l!=null&&l.includes(d)))}}return{left:((r=i==null?void 0:i.left)!=null?r:[]).filter(d=>!(l!=null&&l.includes(d))),right:((o=i==null?void 0:i.right)!=null?o:[]).filter(d=>!(l!=null&&l.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(l=>{var i,r,o;return((i=l.columnDef.enablePinning)!=null?i:!0)&&((r=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?r:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(s=>s.id),{left:l,right:i}=t.getState().columnPinning,r=n.some(s=>l==null?void 0:l.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return r?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,l;const i=e.getIsPinned();return i?(n=(l=t.getState().columnPinning)==null||(l=l[i])==null?void 0:l.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,l,i)=>{const r=l?e.getLeafRows().map(a=>{let{id:u}=a;return u}):[],o=i?e.getParentRows().map(a=>{let{id:u}=a;return u}):[],s=new Set([...o,e.id,...r]);t.setRowPinning(a=>{var u,f;if(n==="bottom"){var d,g;return{top:((d=a==null?void 0:a.top)!=null?d:[]).filter(v=>!(s!=null&&s.has(v))),bottom:[...((g=a==null?void 0:a.bottom)!=null?g:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)]}}if(n==="top"){var m,_;return{top:[...((m=a==null?void 0:a.top)!=null?m:[]).filter(v=>!(s!=null&&s.has(v))),...Array.from(s)],bottom:((_=a==null?void 0:a.bottom)!=null?_:[]).filter(v=>!(s!=null&&s.has(v)))}}return{top:((u=a==null?void 0:a.top)!=null?u:[]).filter(v=>!(s!=null&&s.has(v))),bottom:((f=a==null?void 0:a.bottom)!=null?f:[]).filter(v=>!(s!=null&&s.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:l,enablePinning:i}=t.options;return typeof l=="function"?l(e):(n=l??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:l,bottom:i}=t.getState().rowPinning,r=n.some(s=>l==null?void 0:l.includes(s)),o=n.some(s=>i==null?void 0:i.includes(s));return r?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,l;const i=e.getIsPinned();if(!i)return-1;const r=(n=t._getPinnedRows(i))==null?void 0:n.map(o=>{let{id:s}=o;return s});return(l=r==null?void 0:r.indexOf(e.id))!=null?l:-1},e.getCenterVisibleCells=Ye(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,l,i)=>{const r=[...l??[],...i??[]];return n.filter(o=>!r.includes(o.column.id))},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getLeftVisibleCells=Ye(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,l)=>(l??[]).map(r=>n.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"left"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getRightVisibleCells=Ye(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,l)=>(l??[]).map(r=>n.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"right"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,l;return e.setColumnPinning(t?Hr():(n=(l=e.initialState)==null?void 0:l.columnPinning)!=null?n:Hr())},e.getIsSomeColumnsPinned=t=>{var n;const l=e.getState().columnPinning;if(!t){var i,r;return!!((i=l.left)!=null&&i.length||(r=l.right)!=null&&r.length)}return!!((n=l[t])!=null&&n.length)},e.getLeftLeafColumns=Ye(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(l=>t.find(i=>i.id===l)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getRightLeafColumns=Ye(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(l=>t.find(i=>i.id===l)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getCenterLeafColumns=Ye(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l)=>{const i=[...n??[],...l??[]];return t.filter(r=>!i.includes(r.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,l;return e.setRowPinning(t?Or():(n=(l=e.initialState)==null?void 0:l.rowPinning)!=null?n:Or())},e.getIsSomeRowsPinned=t=>{var n;const l=e.getState().rowPinning;if(!t){var i,r;return!!((i=l.top)!=null&&i.length||(r=l.bottom)!=null&&r.length)}return!!((n=l[t])!=null&&n.length)},e._getPinnedRows=t=>Ye(()=>[e.getRowModel().rows,e.getState().rowPinning[t]],(n,l)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(l??[]).map(o=>{const s=e.getRow(o,!0);return s.getIsAllParentsExpanded()?s:null}):(l??[]).map(o=>n.find(s=>s.id===o))).filter(Boolean).map(o=>({...o,position:t}))},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})(),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Ye(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,l)=>{const i=new Set([...n??[],...l??[]]);return t.filter(r=>!i.has(r.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugRows}})}},ug={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:fn("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const l={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(r=>{r.getCanSelect()&&(l[r.id]=!0)}):i.forEach(r=>{delete l[r.id]}),l})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const l=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(r=>{Yr(i,r.id,l,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ye(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Lr(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getFilteredSelectedRowModel=Ye(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Lr(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getGroupedSelectedRowModel=Ye(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Lr(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let l=!!(t.length&&Object.keys(n).length);return l&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(l=!1),l},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let l=!!t.length;return l&&t.some(i=>!n[i.id])&&(l=!1),l},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,l)=>{const i=e.getIsSelected();t.setRowSelection(r=>{var o;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return r;const s={...r};return Yr(s,e.id,n,(o=l==null?void 0:l.selectChildren)!=null?o:!0,t),s})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return ro(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Kr(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Kr(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return l=>{var i;n&&e.toggleSelected((i=l.target)==null?void 0:i.checked)}}}},Yr=(e,t,n,l,i)=>{var r;const o=i.getRow(t);n?(o.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),o.getCanSelect()&&(e[t]=!0)):delete e[t],l&&(r=o.subRows)!=null&&r.length&&o.getCanSelectSubRows()&&o.subRows.forEach(s=>Yr(e,s.id,n,l,i))};function Lr(e,t){const n=e.getState().rowSelection,l=[],i={},r=function(o,s){return o.map(a=>{var u;const f=ro(a,n);if(f&&(l.push(a),i[a.id]=a),(u=a.subRows)!=null&&u.length&&(a={...a,subRows:r(a.subRows)}),f)return a}).filter(Boolean)};return{rows:r(t.rows),flatRows:l,rowsById:i}}function ro(e,t){var n;return(n=t[e.id])!=null?n:!1}function Kr(e,t,n){var l;if(!((l=e.subRows)!=null&&l.length))return!1;let i=!0,r=!1;return e.subRows.forEach(o=>{if(!(r&&!i)&&(o.getCanSelect()&&(ro(o,t)?r=!0:i=!1),o.subRows&&o.subRows.length)){const s=Kr(o,t);s==="all"?r=!0:(s==="some"&&(r=!0),i=!1)}}),i?"all":r?"some":!1}const Zr=/([0-9]+)/gm,fg=(e,t,n)=>mf(xn(e.getValue(n)).toLowerCase(),xn(t.getValue(n)).toLowerCase()),dg=(e,t,n)=>mf(xn(e.getValue(n)),xn(t.getValue(n))),cg=(e,t,n)=>oo(xn(e.getValue(n)).toLowerCase(),xn(t.getValue(n)).toLowerCase()),gg=(e,t,n)=>oo(xn(e.getValue(n)),xn(t.getValue(n))),hg=(e,t,n)=>{const l=e.getValue(n),i=t.getValue(n);return l>i?1:l<i?-1:0},pg=(e,t,n)=>oo(e.getValue(n),t.getValue(n));function oo(e,t){return e===t?0:e>t?1:-1}function xn(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function mf(e,t){const n=e.split(Zr).filter(Boolean),l=t.split(Zr).filter(Boolean);for(;n.length&&l.length;){const i=n.shift(),r=l.shift(),o=parseInt(i,10),s=parseInt(r,10),a=[o,s].sort();if(isNaN(a[0])){if(i>r)return 1;if(r>i)return-1;continue}if(isNaN(a[1]))return isNaN(o)?-1:1;if(o>s)return 1;if(s>o)return-1}return n.length-l.length}const ci={alphanumeric:fg,alphanumericCaseSensitive:dg,text:cg,textCaseSensitive:gg,datetime:hg,basic:pg},_g={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:fn("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let l=!1;for(const i of n){const r=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(r)==="[object Date]")return ci.datetime;if(typeof r=="string"&&(l=!0,r.split(Zr).length>1))return ci.alphanumeric}return l?ci.text:ci.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,l;if(!e)throw new Error;return Xi(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(l=t.options.sortingFns)==null?void 0:l[e.columnDef.sortingFn])!=null?n:ci[e.columnDef.sortingFn]},e.toggleSorting=(n,l)=>{const i=e.getNextSortingOrder(),r=typeof n<"u"&&n!==null;t.setSorting(o=>{const s=o==null?void 0:o.find(m=>m.id===e.id),a=o==null?void 0:o.findIndex(m=>m.id===e.id);let u=[],f,d=r?n:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&l?s?f="toggle":f="add":o!=null&&o.length&&a!==o.length-1?f="replace":s?f="toggle":f="replace",f==="toggle"&&(r||i||(f="remove")),f==="add"){var g;u=[...o,{id:e.id,desc:d}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=o.map(m=>m.id===e.id?{...m,desc:d}:m):f==="remove"?u=o.filter(m=>m.id!==e.id):u=[{id:e.id,desc:d}];return u})},e.getFirstSortDir=()=>{var n,l;return((n=(l=e.columnDef.sortDescFirst)!=null?l:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var l,i;const r=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==r&&((l=t.options.enableSortingRemoval)==null||l)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":r},e.getCanSort=()=>{var n,l;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((l=t.options.enableSorting)!=null?l:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,l;return(n=(l=e.columnDef.enableMultiSort)!=null?l:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const l=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return l?l.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,l;return(n=(l=t.getState().sorting)==null?void 0:l.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(l=>l.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return l=>{n&&(l.persist==null||l.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(l):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,l;e.setSorting(t?[]:(n=(l=e.initialState)==null?void 0:l.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},mg={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:fn("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(l=>({...l,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,l;return(n=(l=t.getState().columnVisibility)==null?void 0:l[e.id])!=null?n:!0},e.getCanHide=()=>{var n,l;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((l=t.options.enableHiding)!=null?l:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Ye(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(l=>l.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getVisibleCells=Ye(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,l,i)=>[...n,...l,...i],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{const t=(n,l)=>Ye(()=>[l(),l().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(r=>r.getIsVisible==null?void 0:r.getIsVisible()),{key:n,debug:()=>{var i;return(i=e.options.debugAll)!=null?i:e.options.debugColumns}});e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var l;e.setColumnVisibility(n?{}:(l=e.initialState.columnVisibility)!=null?l:{})},e.toggleAllColumnsVisible=n=>{var l;n=(l=n)!=null?l:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,r)=>({...i,[r.id]:n||!(r.getCanHide!=null&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var l;e.toggleAllColumnsVisible((l=n.target)==null?void 0:l.checked)}}},ws=[Uc,mg,og,ag,Kc,_g,ig,Yc,sg,ug,Xc];function vg(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:ws};const l=n._features.reduce((f,d)=>Object.assign(f,d.getDefaultOptions==null?void 0:d.getDefaultOptions(n)),{}),i=f=>n.options.mergeOptions?n.options.mergeOptions(l,f):{...l,...f};let o={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(f=>{var d;o=(d=f.getInitialState==null?void 0:f.getInitialState(o))!=null?d:o});const s=[];let a=!1;const u={_features:ws,options:{...l,...e},initialState:o,_queue:f=>{s.push(f),a||(a=!0,Promise.resolve().then(()=>{for(;s.length;)s.shift()();a=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{n.setState(n.initialState)},setOptions:f=>{const d=$n(f,n.options);n.options=i(d)},getState:()=>n.options.state,setState:f=>{n.options.onStateChange==null||n.options.onStateChange(f)},_getRowId:(f,d,g)=>{var m;return(m=n.options.getRowId==null?void 0:n.options.getRowId(f,d,g))!=null?m:`${g?[g.id,d].join("."):d}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(f,d)=>{const g=(d?n.getCoreRowModel():n.getRowModel()).rowsById[f];if(!g)throw new Error;return g},_getDefaultColumnDef:Ye(()=>[n.options.defaultColumn],f=>{var d;return f=(d=f)!=null?d:{},{header:g=>{const m=g.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:g=>{var m,_;return(m=(_=g.renderValue())==null||_.toString==null?void 0:_.toString())!=null?m:null},...n._features.reduce((g,m)=>Object.assign(g,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},{debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Ye(()=>[n._getColumnDefs()],f=>{const d=function(g,m,_){return _===void 0&&(_=0),g.map(v=>{const y=qc(n,v,_,m),C=v;return y.columns=C.columns?d(C.columns,y,_+1):[],y})};return d(f)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllFlatColumns:Ye(()=>[n.getAllColumns()],f=>f.flatMap(d=>d.getFlatColumns()),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),_getAllFlatColumnsById:Ye(()=>[n.getAllFlatColumns()],f=>f.reduce((d,g)=>(d[g.id]=g,d),{}),{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getAllLeafColumns:Ye(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(f,d)=>{let g=f.flatMap(m=>m.getLeafColumns());return d(g)},{key:!1,debug:()=>{var f;return(f=n.options.debugAll)!=null?f:n.options.debugColumns}}),getColumn:f=>n._getAllFlatColumnsById()[f]};Object.assign(n,u);for(let f=0;f<n._features.length;f++){const d=n._features[f];d==null||d.createTable==null||d.createTable(n)}return n}function bg(e,t,n,l){const i=()=>{var o;return(o=r.getValue())!=null?o:e.options.renderFallbackValue},r={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(l),renderValue:i,getContext:Ye(()=>[e,n,t,r],(o,s,a,u)=>({table:o,column:s,row:a,cell:u,getValue:u.getValue,renderValue:u.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(o=>{o.createCell==null||o.createCell(r,n,t,e)},{}),r}const so=(e,t,n,l,i,r,o)=>{let s={id:t,index:l,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(s._valuesCache.hasOwnProperty(a))return s._valuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return s._valuesCache[a]=u.accessorFn(s.original,l),s._valuesCache[a]},getUniqueValues:a=>{if(s._uniqueValuesCache.hasOwnProperty(a))return s._uniqueValuesCache[a];const u=e.getColumn(a);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(s._uniqueValuesCache[a]=u.columnDef.getUniqueValues(s.original,l),s._uniqueValuesCache[a]):(s._uniqueValuesCache[a]=[s.getValue(a)],s._uniqueValuesCache[a])},renderValue:a=>{var u;return(u=s.getValue(a))!=null?u:e.options.renderFallbackValue},subRows:r??[],getLeafRows:()=>jc(s.subRows,a=>a.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let a=[],u=s;for(;;){const f=u.getParentRow();if(!f)break;a.push(f),u=f}return a.reverse()},getAllCells:Ye(()=>[e.getAllLeafColumns()],a=>a.map(u=>bg(e,s,u,u.id)),{key:!1,debug:()=>{var a;return(a=e.options.debugAll)!=null?a:e.options.debugRows}}),_getAllCellsByColumnId:Ye(()=>[s.getAllCells()],a=>a.reduce((u,f)=>(u[f.column.id]=f,u),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var a;return(a=e.options.debugAll)!=null?a:e.options.debugRows}})};for(let a=0;a<e._features.length;a++){const u=e._features[a];u==null||u.createRow==null||u.createRow(s,e)}return s};function wg(){return e=>Ye(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},l=function(i,r,o){r===void 0&&(r=0);const s=[];for(let u=0;u<i.length;u++){const f=so(e,e._getRowId(i[u],u,o),i[u],u,r,void 0,o==null?void 0:o.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,s.push(f),e.options.getSubRows){var a;f.originalSubRows=e.options.getSubRows(i[u],u),(a=f.originalSubRows)!=null&&a.length&&(f.subRows=l(f.originalSubRows,r+1,f))}}return s};return n.rows=l(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function yg(e,t,n){return n.options.filterFromLeafRows?Sg(e,t,n):Cg(e,t,n)}function Sg(e,t,n){var l;const i=[],r={},o=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,s=function(a,u){u===void 0&&(u=0);const f=[];for(let g=0;g<a.length;g++){var d;let m=a[g];const _=so(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);if(_.columnFilters=m.columnFilters,(d=m.subRows)!=null&&d.length&&u<o){if(_.subRows=s(m.subRows,u+1),m=_,t(m)&&!_.subRows.length){f.push(m),r[m.id]=m,i.push(m);continue}if(t(m)||_.subRows.length){f.push(m),r[m.id]=m,i.push(m);continue}}else m=_,t(m)&&(f.push(m),r[m.id]=m,i.push(m))}return f};return{rows:s(e),flatRows:i,rowsById:r}}function Cg(e,t,n){var l;const i=[],r={},o=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,s=function(a,u){u===void 0&&(u=0);const f=[];for(let g=0;g<a.length;g++){let m=a[g];if(t(m)){var d;if((d=m.subRows)!=null&&d.length&&u<o){const v=so(n,m.id,m.original,m.index,m.depth,void 0,m.parentId);v.subRows=s(m.subRows,u+1),m=v}f.push(m),i.push(m),r[m.id]=m}}return f};return{rows:s(e),flatRows:i,rowsById:r}}function kg(){return e=>Ye(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,l)=>{if(!t.rows.length||!(n!=null&&n.length)&&!l){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const i=[],r=[];(n??[]).forEach(g=>{var m;const _=e.getColumn(g.id);if(!_)return;const v=_.getFilterFn();v&&i.push({id:g.id,filterFn:v,resolvedValue:(m=v.resolveFilterValue==null?void 0:v.resolveFilterValue(g.value))!=null?m:g.value})});const o=n.map(g=>g.id),s=e.getGlobalFilterFn(),a=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());l&&s&&a.length&&(o.push("__global__"),a.forEach(g=>{var m;r.push({id:g.id,filterFn:s,resolvedValue:(m=s.resolveFilterValue==null?void 0:s.resolveFilterValue(l))!=null?m:l})}));let u,f;for(let g=0;g<t.flatRows.length;g++){const m=t.flatRows[g];if(m.columnFilters={},i.length)for(let _=0;_<i.length;_++){u=i[_];const v=u.id;m.columnFilters[v]=u.filterFn(m,v,u.resolvedValue,y=>{m.columnFiltersMeta[v]=y})}if(r.length){for(let _=0;_<r.length;_++){f=r[_];const v=f.id;if(f.filterFn(m,v,f.resolvedValue,y=>{m.columnFiltersMeta[v]=y})){m.columnFilters.__global__=!0;break}}m.columnFilters.__global__!==!0&&(m.columnFilters.__global__=!1)}}const d=g=>{for(let m=0;m<o.length;m++)if(g.columnFilters[o[m]]===!1)return!1;return!0};return yg(t.rows,d,e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Rg(){return e=>Ye(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const l=e.getState().sorting,i=[],r=l.filter(a=>{var u;return(u=e.getColumn(a.id))==null?void 0:u.getCanSort()}),o={};r.forEach(a=>{const u=e.getColumn(a.id);u&&(o[a.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const s=a=>{const u=a.map(f=>({...f}));return u.sort((f,d)=>{for(let m=0;m<r.length;m+=1){var g;const _=r[m],v=o[_.id],y=(g=_==null?void 0:_.desc)!=null?g:!1;let C=0;if(v.sortUndefined){const I=f.getValue(_.id),G=d.getValue(_.id),V=I===void 0,A=G===void 0;(V||A)&&(C=V&&A?0:V?v.sortUndefined:-v.sortUndefined)}if(C===0&&(C=v.sortingFn(f,d,_.id)),C!==0)return y&&(C*=-1),v.invertSorting&&(C*=-1),C}return f.index-d.index}),u.forEach(f=>{var d;i.push(f),(d=f.subRows)!=null&&d.length&&(f.subRows=s(f.subRows))}),u};return{rows:s(n.rows),flatRows:i,rowsById:n.rowsById}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Eg(e){const t=[],n=l=>{var i;t.push(l),(i=l.subRows)!=null&&i.length&&l.getIsExpanded()&&l.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Ig(e){return t=>Ye(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,l)=>{if(!l.rows.length)return l;const{pageSize:i,pageIndex:r}=n;let{rows:o,flatRows:s,rowsById:a}=l;const u=i*r,f=u+i;o=o.slice(u,f);let d;t.options.paginateExpandedRows?d={rows:o,flatRows:s,rowsById:a}:d=Eg({rows:o,flatRows:s,rowsById:a}),d.flatRows=[];const g=m=>{d.flatRows.push(m),m.subRows.length&&m.subRows.forEach(g)};return d.rows.forEach(g),d},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}})}/**
 * svelte-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ag(e){let t;return{c(){t=q(e[0])},l(n){t=U(n,e[0])},m(n,l){M(n,t,l)},p(n,[l]){l&1&&Ae(t,n[0])},i:ft,o:ft,d(n){n&&p(t)}}}function Mg(e,t,n){let{content:l}=t;return e.$$set=i=>{"content"in i&&n(0,l=i.content)},[l]}class Dg extends Wt{constructor(t){super(),$t(this,t,Mg,Ag,Qt,{content:0})}}const Vg=Ju((e,t,n,l)=>`${md(t.content)}`);var Tg=typeof document>"u"?Vg:Dg;function Fg(e,t,n){let l,i;return l=new t({props:n,$$inline:!0}),{c(){Ze(l.$$.fragment)},l(r){et(l.$$.fragment,r)},m(r,o){Je(l,r,o),i=!0},p:ft,i(r){i||(re(l.$$.fragment,r),i=!0)},o(r){ce(l.$$.fragment,r),i=!1},d(r){Qe(l,r)}}}function Pg(e,t){return class extends Wt{constructor(l){super(),$t(this,l,null,i=>Fg(i,e,t),Qt,{},void 0)}}}function zg(e,t){return Ju((l,i,r,o)=>`${vd(e,"TableComponent").$$render(l,t,{},{})}`)}const Jr=typeof window>"u"?zg:Pg;function Gg(e){return typeof e=="object"&&typeof e.$$render=="function"&&typeof e.render=="function"}function Ng(e){var t,n;let l="__SVELTE_HMR"in window;return e.prototype instanceof Wt||l&&((t=e.name)==null?void 0:t.startsWith("Proxy<"))&&((n=e.name)==null?void 0:n.endsWith(">"))}function ys(e){return typeof document>"u"?Gg(e):Ng(e)}function Ss(e){return Jr(Tg,{content:e})}function Wi(e,t){if(!e)return null;if(ys(e))return Jr(e,t);if(typeof e=="function"){const n=e(t);return n==null?null:ys(n)?Jr(n,t):Ss(n)}return Ss(e)}function Hg(e){let t;"subscribe"in e?t=e:t=os(e);let n={state:{},onStateChange:()=>{},renderFallbackValue:null,...ql(t)},l=vg(n),i=un(l.initialState),r=gd([i,t],s=>s);return os(l,function(a){const u=r.subscribe(f=>{let[d,g]=f;l.setOptions(m=>({...m,...g,state:{...d,...g.state},onStateChange:_=>{_ instanceof Function?i.update(_):i.set(_),n.onStateChange==null||n.onStateChange(_)}})),a(l)});return function(){u()}})}function Cs(e,t,n){const l=e.slice();return l[23]=t[n],l}function ks(e,t,n){const l=e.slice();return l[26]=t[n],l}function Rs(e,t,n){const l=e.slice();return l[29]=t[n],l}function Es(e,t,n){const l=e.slice();return l[32]=t[n],l}function Og(e,t,n){const l=e.slice();return l[35]=t[n],l}function Lg(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),he(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){M(l,t,i)},p:ft,i:ft,o:ft,d(l){l&&p(t)}}}function Bg(e){let t,n,l,i="<<",r,o,s,a,u="<",f,d,g,m,_=">",v,y,C,I,G=">>",V,A,D,H,T,L,P,j,F,X=e[2].getState().pagination.pageIndex+1+"",W,ae,Se=e[2].getPageCount()+"",we,O,oe,de,pe,me,se,z,ue,x,Ie,Me,Xe=_e([25,50,100,250]),$e=[];for(let B=0;B<4;B+=1)$e[B]=jg(Og(e,Xe,B));let Ve=_e(e[2].getHeaderGroups()),ge=[];for(let B=0;B<Ve.length;B+=1)ge[B]=Ms(Rs(e,Ve,B));const lt=B=>ce(ge[B],1,1,()=>{ge[B]=null});let Le=_e(e[2].getRowModel().rows),ye=[];for(let B=0;B<Le.length;B+=1)ye[B]=Vs(Cs(e,Le,B));const Be=B=>ce(ye[B],1,1,()=>{ye[B]=null});return{c(){t=b("div"),n=b("div"),l=b("button"),r=q(i),s=R(),a=b("button"),f=q(u),g=R(),m=b("button"),v=q(_),C=R(),I=b("button"),V=q(G),D=R(),H=b("div"),T=b("select");for(let B=0;B<4;B+=1)$e[B].c();P=R(),j=b("div"),F=q("Page "),W=q(X),ae=q(" of "),we=q(Se),O=R(),oe=b("div"),de=b("input"),pe=R(),me=b("table"),se=b("thead");for(let B=0;B<ge.length;B+=1)ge[B].c();z=R(),ue=b("tbody");for(let B=0;B<ye.length;B+=1)ye[B].c();this.h()},l(B){t=w(B,"DIV",{});var fe=S(t);n=w(fe,"DIV",{style:!0});var $=S(n);l=w($,"BUTTON",{class:!0});var xe=S(l);r=U(xe,i),xe.forEach(p),s=E($),a=w($,"BUTTON",{class:!0});var Ke=S(a);f=U(Ke,u),Ke.forEach(p),g=E($),m=w($,"BUTTON",{class:!0});var je=S(m);v=U(je,_),je.forEach(p),C=E($),I=w($,"BUTTON",{class:!0});var qe=S(I);V=U(qe,G),qe.forEach(p),D=E($),H=w($,"DIV",{style:!0});var at=S(H);T=w(at,"SELECT",{});var ht=S(T);for(let ve=0;ve<4;ve+=1)$e[ve].l(ht);ht.forEach(p),at.forEach(p),P=E($),j=w($,"DIV",{style:!0});var De=S(j);F=U(De,"Page "),W=U(De,X),ae=U(De," of "),we=U(De,Se),De.forEach(p),O=E($),oe=w($,"DIV",{style:!0});var it=S(oe);de=w(it,"INPUT",{placeholder:!0,class:!0}),it.forEach(p),$.forEach(p),pe=E(fe),me=w(fe,"TABLE",{class:!0});var nt=S(me);se=w(nt,"THEAD",{});var Fe=S(se);for(let ve=0;ve<ge.length;ve+=1)ge[ve].l(Fe);Fe.forEach(p),z=E(nt),ue=w(nt,"TBODY",{});var rt=S(ue);for(let ve=0;ve<ye.length;ve+=1)ye[ve].l(rt);rt.forEach(p),nt.forEach(p),fe.forEach(p),this.h()},h(){h(l,"class","border rounded p-1"),l.disabled=o=!e[2].getCanPreviousPage(),h(a,"class","border rounded p-1"),a.disabled=d=!e[2].getCanPreviousPage(),h(m,"class","border rounded p-1"),m.disabled=y=!e[2].getCanNextPage(),h(I,"class","border rounded p-1"),I.disabled=A=!e[2].getCanNextPage(),Y(H,"margin-left","10px"),Y(j,"margin-left","10px"),Y(j,"display","flex"),Y(j,"justify-content","center"),Y(j,"align-items","center"),h(de,"placeholder","search..."),de.value=e[1],h(de,"class","svelte-rg5axi"),ne(de,"searchActive",e[1]!==""),Y(oe,"margin-left","auto"),Y(oe,"margin-right","3px"),Y(oe,"display","flex"),Y(oe,"align-self","end"),Y(n,"display","flex"),Y(n,"margin-bottom","10px"),h(me,"class","svelte-rg5axi")},m(B,fe){M(B,t,fe),c(t,n),c(n,l),c(l,r),c(n,s),c(n,a),c(a,f),c(n,g),c(n,m),c(m,v),c(n,C),c(n,I),c(I,V),c(n,D),c(n,H),c(H,T);for(let $=0;$<4;$+=1)$e[$]&&$e[$].m(T,null);rn(T,e[2].getState().pagination.pageSize),c(n,P),c(n,j),c(j,F),c(j,W),c(j,ae),c(j,we),c(n,O),c(n,oe),c(oe,de),c(t,pe),c(t,me),c(me,se);for(let $=0;$<ge.length;$+=1)ge[$]&&ge[$].m(se,null);c(me,z),c(me,ue);for(let $=0;$<ye.length;$+=1)ye[$]&&ye[$].m(ue,null);x=!0,Ie||(Me=[le(l,"click",e[8]),le(a,"click",e[9]),le(m,"click",e[10]),le(I,"click",e[11]),le(T,"change",e[12]),le(de,"input",e[4])],Ie=!0)},p(B,fe){if((!x||fe[0]&4&&o!==(o=!B[2].getCanPreviousPage()))&&(l.disabled=o),(!x||fe[0]&4&&d!==(d=!B[2].getCanPreviousPage()))&&(a.disabled=d),(!x||fe[0]&4&&y!==(y=!B[2].getCanNextPage()))&&(m.disabled=y),(!x||fe[0]&4&&A!==(A=!B[2].getCanNextPage()))&&(I.disabled=A),(!x||fe[0]&4&&L!==(L=B[2].getState().pagination.pageSize))&&rn(T,B[2].getState().pagination.pageSize),(!x||fe[0]&4)&&X!==(X=B[2].getState().pagination.pageIndex+1+"")&&Ae(W,X),(!x||fe[0]&4)&&Se!==(Se=B[2].getPageCount()+"")&&Ae(we,Se),(!x||fe[0]&2&&de.value!==B[1])&&(de.value=B[1]),(!x||fe[0]&2)&&ne(de,"searchActive",B[1]!==""),fe[0]&12){Ve=_e(B[2].getHeaderGroups());let $;for($=0;$<Ve.length;$+=1){const xe=Rs(B,Ve,$);ge[$]?(ge[$].p(xe,fe),re(ge[$],1)):(ge[$]=Ms(xe),ge[$].c(),re(ge[$],1),ge[$].m(se,null))}for(Nt(),$=Ve.length;$<ge.length;$+=1)lt($);Ht()}if(fe[0]&4){Le=_e(B[2].getRowModel().rows);let $;for($=0;$<Le.length;$+=1){const xe=Cs(B,Le,$);ye[$]?(ye[$].p(xe,fe),re(ye[$],1)):(ye[$]=Vs(xe),ye[$].c(),re(ye[$],1),ye[$].m(ue,null))}for(Nt(),$=Le.length;$<ye.length;$+=1)Be($);Ht()}},i(B){if(!x){for(let fe=0;fe<Ve.length;fe+=1)re(ge[fe]);for(let fe=0;fe<Le.length;fe+=1)re(ye[fe]);x=!0}},o(B){ge=ge.filter(Boolean);for(let fe=0;fe<ge.length;fe+=1)ce(ge[fe]);ye=ye.filter(Boolean);for(let fe=0;fe<ye.length;fe+=1)ce(ye[fe]);x=!1},d(B){B&&p(t),st($e,B),st(ge,B),st(ye,B),Ie=!1,Xt(Me)}}}function jg(e){let t,n,l,i;return{c(){t=b("option"),n=q("Show "),l=q(e[35]),i=R(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);n=U(o,"Show "),l=U(o,e[35]),i=E(o),o.forEach(p),this.h()},h(){t.__value=e[35],Bt(t,t.__value)},m(r,o){M(r,t,o),c(t,n),c(t,l),c(t,i)},p:ft,d(r){r&&p(t)}}}function Is(e){let t,n,l,i=(e[3][e[32].column.getIsSorted().toString()]??"")+"",r,o,s,a;var u=Wi(e[32].column.columnDef.header,e[32].getContext());function f(d,g){return{}}return u&&(n=Hi(u,f())),{c(){t=b("div"),n&&Ze(n.$$.fragment),l=R(),r=q(i),this.h()},l(d){t=w(d,"DIV",{tabindex:!0,role:!0,"aria-pressed":!0});var g=S(t);n&&et(n.$$.fragment,g),l=E(g),r=U(g,i),g.forEach(p),this.h()},h(){h(t,"tabindex","0"),h(t,"role","button"),h(t,"aria-pressed","false"),ne(t,"cursor-pointer",e[32].column.getCanSort()),ne(t,"select-none",e[32].column.getCanSort())},m(d,g){M(d,t,g),n&&Je(n,t,null),c(t,l),c(t,r),o=!0,s||(a=[le(t,"click",function(){zf(e[32].column.getToggleSortingHandler())&&e[32].column.getToggleSortingHandler().apply(this,arguments)}),le(t,"keydown",e[13])],s=!0)},p(d,g){if(e=d,g[0]&4&&u!==(u=Wi(e[32].column.columnDef.header,e[32].getContext()))){if(n){Nt();const m=n;ce(m.$$.fragment,1,0,()=>{Qe(m,1)}),Ht()}u?(n=Hi(u,f()),Ze(n.$$.fragment),re(n.$$.fragment,1),Je(n,t,l)):n=null}(!o||g[0]&4)&&i!==(i=(e[3][e[32].column.getIsSorted().toString()]??"")+"")&&Ae(r,i),(!o||g[0]&4)&&ne(t,"cursor-pointer",e[32].column.getCanSort()),(!o||g[0]&4)&&ne(t,"select-none",e[32].column.getCanSort())},i(d){o||(n&&re(n.$$.fragment,d),o=!0)},o(d){n&&ce(n.$$.fragment,d),o=!1},d(d){d&&p(t),n&&Qe(n),s=!1,Xt(a)}}}function As(e){let t,n,l=!e[32].isPlaceholder&&Is(e);return{c(){t=b("th"),l&&l.c(),this.h()},l(i){t=w(i,"TH",{class:!0});var r=S(t);l&&l.l(r),r.forEach(p),this.h()},h(){h(t,"class","svelte-rg5axi")},m(i,r){M(i,t,r),l&&l.m(t,null),n=!0},p(i,r){i[32].isPlaceholder?l&&(Nt(),ce(l,1,1,()=>{l=null}),Ht()):l?(l.p(i,r),r[0]&4&&re(l,1)):(l=Is(i),l.c(),re(l,1),l.m(t,null))},i(i){n||(re(l),n=!0)},o(i){ce(l),n=!1},d(i){i&&p(t),l&&l.d()}}}function Ms(e){let t,n,l,i=_e(e[29].headers),r=[];for(let s=0;s<i.length;s+=1)r[s]=As(Es(e,i,s));const o=s=>ce(r[s],1,1,()=>{r[s]=null});return{c(){t=b("tr");for(let s=0;s<r.length;s+=1)r[s].c();n=R(),this.h()},l(s){t=w(s,"TR",{class:!0});var a=S(t);for(let u=0;u<r.length;u+=1)r[u].l(a);n=E(a),a.forEach(p),this.h()},h(){h(t,"class","svelte-rg5axi")},m(s,a){M(s,t,a);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);c(t,n),l=!0},p(s,a){if(a[0]&12){i=_e(s[29].headers);let u;for(u=0;u<i.length;u+=1){const f=Es(s,i,u);r[u]?(r[u].p(f,a),re(r[u],1)):(r[u]=As(f),r[u].c(),re(r[u],1),r[u].m(t,n))}for(Nt(),u=i.length;u<r.length;u+=1)o(u);Ht()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)re(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)ce(r[a]);l=!1},d(s){s&&p(t),st(r,s)}}}function Ds(e){let t,n,l,i;var r=Wi(e[26].column.columnDef.cell,e[26].getContext());function o(s,a){return{}}return r&&(n=Hi(r,o())),{c(){t=b("td"),n&&Ze(n.$$.fragment),this.h()},l(s){t=w(s,"TD",{style:!0,class:!0});var a=S(t);n&&et(n.$$.fragment,a),a.forEach(p),this.h()},h(){h(t,"style",l=e[26].column.getSize()===Number.MAX_SAFE_INTEGER?"width: auto":"width: "+e[26].column.getSize()+"px; max-width: "+e[26].column.getSize()+"px;"),h(t,"class","svelte-rg5axi")},m(s,a){M(s,t,a),n&&Je(n,t,null),i=!0},p(s,a){if(a[0]&4&&r!==(r=Wi(s[26].column.columnDef.cell,s[26].getContext()))){if(n){Nt();const u=n;ce(u.$$.fragment,1,0,()=>{Qe(u,1)}),Ht()}r?(n=Hi(r,o()),Ze(n.$$.fragment),re(n.$$.fragment,1),Je(n,t,null)):n=null}(!i||a[0]&4&&l!==(l=s[26].column.getSize()===Number.MAX_SAFE_INTEGER?"width: auto":"width: "+s[26].column.getSize()+"px; max-width: "+s[26].column.getSize()+"px;"))&&h(t,"style",l)},i(s){i||(n&&re(n.$$.fragment,s),i=!0)},o(s){n&&ce(n.$$.fragment,s),i=!1},d(s){s&&p(t),n&&Qe(n)}}}function Vs(e){let t,n,l,i=_e(e[23].getVisibleCells()),r=[];for(let s=0;s<i.length;s+=1)r[s]=Ds(ks(e,i,s));const o=s=>ce(r[s],1,1,()=>{r[s]=null});return{c(){t=b("tr");for(let s=0;s<r.length;s+=1)r[s].c();n=R(),this.h()},l(s){t=w(s,"TR",{class:!0});var a=S(t);for(let u=0;u<r.length;u+=1)r[u].l(a);n=E(a),a.forEach(p),this.h()},h(){h(t,"class","svelte-rg5axi")},m(s,a){M(s,t,a);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(t,null);c(t,n),l=!0},p(s,a){if(a[0]&4){i=_e(s[23].getVisibleCells());let u;for(u=0;u<i.length;u+=1){const f=ks(s,i,u);r[u]?(r[u].p(f,a),re(r[u],1)):(r[u]=Ds(f),r[u].c(),re(r[u],1),r[u].m(t,n))}for(Nt(),u=i.length;u<r.length;u+=1)o(u);Ht()}},i(s){if(!l){for(let a=0;a<i.length;a+=1)re(r[a]);l=!0}},o(s){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)ce(r[a]);l=!1},d(s){s&&p(t),st(r,s)}}}function qg(e){let t,n,l,i,r;const o=[Bg,Lg],s=[];function a(u,f){return f[0]&1&&(t=null),t==null&&(t=!!(Array.isArray(u[0])&&u[0].length>0)),t?0:1}return n=a(e,[-1,-1]),l=s[n]=o[n](e),{c(){l.c(),i=ze()},l(u){l.l(u),i=ze()},m(u,f){s[n].m(u,f),M(u,i,f),r=!0},p(u,f){let d=n;n=a(u,f),n===d?s[n].p(u,f):(Nt(),ce(s[d],1,1,()=>{s[d]=null}),Ht(),l=s[n],l?l.p(u,f):(l=s[n]=o[n](u),l.c()),re(l,1),l.m(i.parentNode,i))},i(u){r||(re(l),r=!0)},o(u){ce(l),r=!1},d(u){u&&p(i),s[n].d(u)}}}function Ug(e,t,n){let l,{tableColumns:i=[]}=t,{tableData:r=[]}=t,{initialSort:o=[]}=t,s=[o],a={pageIndex:0,pageSize:25};const u={asc:" ð¼",desc:" ð½"};let f="";function d(P){n(1,f=P)}let g;const m=P=>{P.preventDefault(),g!==void 0&&clearTimeout(g),g=setTimeout(()=>{n(1,f=P.target.value),y.update(j=>({...j,state:{...j.state,globalFilter:f}}))},250)},_=P=>{P instanceof Function?s=P(s):s=P,y.update(j=>({...j,state:{...j.state,sorting:s}}))},v=P=>{a=P(a),y.update(j=>({...j,state:{...j.state,pagination:a}}))},y=un({data:r,columns:i,defaultColumn:{minSize:0,size:Number.MAX_SAFE_INTEGER,maxSize:Number.MAX_SAFE_INTEGER},state:{sorting:s,pagination:a,globalFilter:f},onPaginationChange:v,onSortingChange:_,onGlobalFilterChange:d,getCoreRowModel:wg(),getSortedRowModel:Rg(),getPaginationRowModel:Ig(),getFilteredRowModel:kg()}),C=Hg(y);Vt(e,C,P=>n(2,l=P));function I(...P){y.update(j=>({...j,data:r}))}function G(...P){y.update(j=>({...j,columns:i}))}const V=()=>l.setPageIndex(0),A=()=>l.previousPage(),D=()=>{l.nextPage()},H=()=>l.setPageIndex(l.getPageCount()-1),T=P=>{l.setPageSize(Number(P.target.value))},L=()=>{};return e.$$set=P=>{"tableColumns"in P&&n(6,i=P.tableColumns),"tableData"in P&&n(0,r=P.tableData),"initialSort"in P&&n(7,o=P.initialSort)},e.$$.update=()=>{e.$$.dirty[0]&1&&I(r),e.$$.dirty[0]&64&&G(i)},[r,f,l,u,m,C,i,o,V,A,D,H,T,L]}class Xg extends Wt{constructor(t){super(),$t(this,t,Ug,qg,Qt,{tableColumns:6,tableData:0,initialSort:7},null,[-1,-1])}}function Wg(e){let t,n,l,i,r,o="only show significant genesets",s,a,u,f,d,g,m,_;return d=new Xg({props:{initialSort:e[2],tableData:e[1],tableColumns:e[3]}}),{c(){t=b("div"),n=b("div"),l=b("input"),i=R(),r=b("label"),r.textContent=o,s=R(),a=b("br"),u=R(),f=b("div"),Ze(d.$$.fragment),this.h()},l(v){t=w(v,"DIV",{});var y=S(t);n=w(y,"DIV",{});var C=S(n);l=w(C,"INPUT",{type:!0,id:!0,name:!0}),i=E(C),r=w(C,"LABEL",{for:!0,"data-svelte-h":!0}),he(r)!=="svelte-1rj0oy6"&&(r.textContent=o),C.forEach(p),s=E(y),a=w(y,"BR",{}),u=E(y),f=w(y,"DIV",{style:!0});var I=S(f);et(d.$$.fragment,I),I.forEach(p),y.forEach(p),this.h()},h(){h(l,"type","checkbox"),h(l,"id","inputFilterSignif"),h(l,"name","inputFilterSignif"),h(r,"for","inputFilterSignif"),Y(f,"min-height","900px")},m(v,y){M(v,t,y),c(t,n),c(n,l),l.checked=e[0],c(n,i),c(n,r),c(t,s),c(t,a),c(t,u),c(t,f),Je(d,f,null),g=!0,m||(_=le(l,"change",e[6]),m=!0)},p(v,[y]){y&1&&(l.checked=v[0]);const C={};y&2&&(C.tableData=v[1]),d.$set(C)},i(v){g||(re(d.$$.fragment,v),g=!0)},o(v){ce(d.$$.fragment,v),g=!1},d(v){v&&p(t),Qe(d),m=!1,_()}}}function Yg(e,t,n){let l,i;Vt(e,on,f=>n(5,i=f));let{selectedSourceIndex:r=0}=t,o=!0;const s={id:"pvalue",desc:!1},a=[{accessorKey:"name",header:()=>"geneset",size:500},{accessorKey:"ngenes",header:()=>"#genes",size:70},{accessorKey:"ngenes_signif",header:()=>"#signif",size:70},{accessorKey:"pvalue",header:()=>"p-value",cell:f=>Oi(f.getValue()),size:80},{accessorKey:"pvalue_adjust",header:()=>"adj. p-value",cell:f=>Oi(f.getValue()),size:80},{accessorKey:"signif",header:()=>"signif",size:60},{accessorKey:"score_type",header:()=>"score type",cell:f=>f.getValue().replace("effectsize_","ES "),size:70}];function u(){o=this.checked,n(0,o)}return e.$$set=f=>{"selectedSourceIndex"in f&&n(4,r=f.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty&49&&n(1,l=i&&i.genesets&&i.genesets[r].genesets.filter(f=>o===!1||f.signif===!0)||[])},[o,l,s,a,r,i,u]}class Kg extends Wt{constructor(t){super(),$t(this,t,Yg,Wg,Qt,{selectedSourceIndex:4})}}function Ts(e){return Object.prototype.toString.call(e)==="[object Date]"}function Qr(e,t,n,l){if(typeof n=="number"||Ts(n)){const i=l-n,r=(n-t)/(e.dt||1/60),o=e.opts.stiffness*i,s=e.opts.damping*r,a=(o-s)*e.inv_mass,u=(r+a)*e.dt;return Math.abs(u)<e.opts.precision&&Math.abs(i)<e.opts.precision?l:(e.settled=!1,Ts(n)?new Date(n.getTime()+u):n+u)}else{if(Array.isArray(n))return n.map((i,r)=>Qr(e,t[r],n[r],l[r]));if(typeof n=="object"){const i={};for(const r in n)i[r]=Qr(e,t[r],n[r],l[r]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function Zg(e,t={}){const n=un(e),{stiffness:l=.15,damping:i=.8,precision:r=.01}=t;let o,s,a,u=e,f=e,d=1,g=0,m=!1;function _(y,C={}){f=y;const I=a={};return e==null||C.hard||v.stiffness>=1&&v.damping>=1?(m=!0,o=ss(),u=y,n.set(e=f),Promise.resolve()):(C.soft&&(g=1/((C.soft===!0?.5:+C.soft)*60),d=0),s||(o=ss(),m=!1,s=hd(G=>{if(m)return m=!1,s=null,!1;d=Math.min(d+g,1);const V={inv_mass:d,opts:v,settled:!0,dt:(G-o)*60/1e3},A=Qr(V,u,e,f);return o=G,u=e,n.set(e=A),V.settled&&(s=null),!V.settled})),new Promise(G=>{s.promise.then(()=>{I===a&&G()})}))}const v={set:_,update:(y,C)=>_(y(f,e),C),subscribe:n.subscribe,stiffness:l,damping:i,precision:r};return v}function Fs(e,t,n){const l=e.slice();return l[37]=t[n],l[39]=n,l}function Ps(e){let t,n,l,i,r=(e[6]==="label"||e[7]==="label")&&zs(e);return{c(){t=b("span"),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0,style:!0});var s=S(t);r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pip first"),h(t,"style",n=e[14]+": 0%;"),ne(t,"selected",e[18](e[0])),ne(t,"in-range",e[17](e[0]))},m(o,s){M(o,t,s),r&&r.m(t,null),l||(i=[le(t,"pointerdown",e[30]),le(t,"pointerup",e[31])],l=!0)},p(o,s){o[6]==="label"||o[7]==="label"?r?r.p(o,s):(r=zs(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null),s[0]&16384&&n!==(n=o[14]+": 0%;")&&h(t,"style",n),s[0]&262145&&ne(t,"selected",o[18](o[0])),s[0]&131073&&ne(t,"in-range",o[17](o[0]))},d(o){o&&p(t),r&&r.d(),l=!1,Xt(i)}}}function zs(e){let t,n=e[12](e[16](e[0]),0,0)+"",l,i=e[10]&&Gs(e),r=e[11]&&Ns(e);return{c(){t=b("span"),i&&i.c(),l=q(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=U(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pipVal")},m(o,s){M(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=Gs(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&69633&&n!==(n=o[12](o[16](o[0]),0,0)+"")&&Ae(l,n),o[11]?r?r.p(o,s):(r=Ns(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function Gs(e){let t,n;return{c(){t=b("span"),n=q(e[10]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=U(i,e[10]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-prefix")},m(l,i){M(l,t,i),c(t,n)},p(l,i){i[0]&1024&&Ae(n,l[10])},d(l){l&&p(t)}}}function Ns(e){let t,n;return{c(){t=b("span"),n=q(e[11]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=U(i,e[11]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-suffix")},m(l,i){M(l,t,i),c(t,n)},p(l,i){i[0]&2048&&Ae(n,l[11])},d(l){l&&p(t)}}}function Hs(e){let t,n=_e(Array(e[20]+1)),l=[];for(let i=0;i<n.length;i+=1)l[i]=qs(Fs(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=ze()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=ze()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);M(i,t,r)},p(i,r){if(r[0]&8314435){n=_e(Array(i[20]+1));let o;for(o=0;o<n.length;o+=1){const s=Fs(i,n,o);l[o]?l[o].p(s,r):(l[o]=qs(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function Os(e){let t,n,l,i,r,o=(e[6]==="label"||e[9]==="label")&&Ls(e);function s(...a){return e[33](e[39],...a)}return{c(){t=b("span"),o&&o.c(),n=R(),this.h()},l(a){t=w(a,"SPAN",{class:!0,style:!0});var u=S(t);o&&o.l(u),n=E(u),u.forEach(p),this.h()},h(){h(t,"class","pip"),h(t,"style",l=e[14]+": "+e[15](e[19](e[39]))+"%;"),ne(t,"selected",e[18](e[19](e[39]))),ne(t,"in-range",e[17](e[19](e[39])))},m(a,u){M(a,t,u),o&&o.m(t,null),c(t,n),i||(r=[le(t,"pointerdown",e[32]),le(t,"pointerup",s)],i=!0)},p(a,u){e=a,e[6]==="label"||e[9]==="label"?o?o.p(e,u):(o=Ls(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),u[0]&573440&&l!==(l=e[14]+": "+e[15](e[19](e[39]))+"%;")&&h(t,"style",l),u[0]&786432&&ne(t,"selected",e[18](e[19](e[39]))),u[0]&655360&&ne(t,"in-range",e[17](e[19](e[39])))},d(a){a&&p(t),o&&o.d(),i=!1,Xt(r)}}}function Ls(e){let t,n=e[12](e[19](e[39]),e[39],e[15](e[19](e[39])))+"",l,i=e[10]&&Bs(e),r=e[11]&&js(e);return{c(){t=b("span"),i&&i.c(),l=q(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=U(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pipVal")},m(o,s){M(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=Bs(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&561152&&n!==(n=o[12](o[19](o[39]),o[39],o[15](o[19](o[39])))+"")&&Ae(l,n),o[11]?r?r.p(o,s):(r=js(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function Bs(e){let t,n;return{c(){t=b("span"),n=q(e[10]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=U(i,e[10]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-prefix")},m(l,i){M(l,t,i),c(t,n)},p(l,i){i[0]&1024&&Ae(n,l[10])},d(l){l&&p(t)}}}function js(e){let t,n;return{c(){t=b("span"),n=q(e[11]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=U(i,e[11]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-suffix")},m(l,i){M(l,t,i),c(t,n)},p(l,i){i[0]&2048&&Ae(n,l[11])},d(l){l&&p(t)}}}function qs(e){let t=e[19](e[39])!==e[0]&&e[19](e[39])!==e[1],n,l=t&&Os(e);return{c(){l&&l.c(),n=ze()},l(i){l&&l.l(i),n=ze()},m(i,r){l&&l.m(i,r),M(i,n,r)},p(i,r){r[0]&524291&&(t=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),t?l?l.p(i,r):(l=Os(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){i&&p(n),l&&l.d(i)}}}function Us(e){let t,n,l,i,r=(e[6]==="label"||e[8]==="label")&&Xs(e);return{c(){t=b("span"),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0,style:!0});var s=S(t);r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pip last"),h(t,"style",n=e[14]+": 100%;"),ne(t,"selected",e[18](e[1])),ne(t,"in-range",e[17](e[1]))},m(o,s){M(o,t,s),r&&r.m(t,null),l||(i=[le(t,"pointerdown",e[34]),le(t,"pointerup",e[35])],l=!0)},p(o,s){o[6]==="label"||o[8]==="label"?r?r.p(o,s):(r=Xs(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null),s[0]&16384&&n!==(n=o[14]+": 100%;")&&h(t,"style",n),s[0]&262146&&ne(t,"selected",o[18](o[1])),s[0]&131074&&ne(t,"in-range",o[17](o[1]))},d(o){o&&p(t),r&&r.d(),l=!1,Xt(i)}}}function Xs(e){let t,n=e[12](e[16](e[1]),e[20],100)+"",l,i=e[10]&&Ws(e),r=e[11]&&Ys(e);return{c(){t=b("span"),i&&i.c(),l=q(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=U(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","pipVal")},m(o,s){M(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=Ws(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&1118210&&n!==(n=o[12](o[16](o[1]),o[20],100)+"")&&Ae(l,n),o[11]?r?r.p(o,s):(r=Ys(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function Ws(e){let t,n;return{c(){t=b("span"),n=q(e[10]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=U(i,e[10]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-prefix")},m(l,i){M(l,t,i),c(t,n)},p(l,i){i[0]&1024&&Ae(n,l[10])},d(l){l&&p(t)}}}function Ys(e){let t,n;return{c(){t=b("span"),n=q(e[11]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=U(i,e[11]),i.forEach(p),this.h()},h(){h(t,"class","pipVal-suffix")},m(l,i){M(l,t,i),c(t,n)},p(l,i){i[0]&2048&&Ae(n,l[11])},d(l){l&&p(t)}}}function Jg(e){let t,n,l,i=(e[6]&&e[7]!==!1||e[7])&&Ps(e),r=(e[6]&&e[9]!==!1||e[9])&&Hs(e),o=(e[6]&&e[8]!==!1||e[8])&&Us(e);return{c(){t=b("div"),i&&i.c(),n=R(),r&&r.c(),l=R(),o&&o.c(),this.h()},l(s){t=w(s,"DIV",{class:!0});var a=S(t);i&&i.l(a),n=E(a),r&&r.l(a),l=E(a),o&&o.l(a),a.forEach(p),this.h()},h(){h(t,"class","rangePips"),ne(t,"disabled",e[5]),ne(t,"hoverable",e[4]),ne(t,"vertical",e[2]),ne(t,"reversed",e[3]),ne(t,"focus",e[13])},m(s,a){M(s,t,a),i&&i.m(t,null),c(t,n),r&&r.m(t,null),c(t,l),o&&o.m(t,null)},p(s,a){s[6]&&s[7]!==!1||s[7]?i?i.p(s,a):(i=Ps(s),i.c(),i.m(t,n)):i&&(i.d(1),i=null),s[6]&&s[9]!==!1||s[9]?r?r.p(s,a):(r=Hs(s),r.c(),r.m(t,l)):r&&(r.d(1),r=null),s[6]&&s[8]!==!1||s[8]?o?o.p(s,a):(o=Us(s),o.c(),o.m(t,null)):o&&(o.d(1),o=null),a[0]&32&&ne(t,"disabled",s[5]),a[0]&16&&ne(t,"hoverable",s[4]),a[0]&4&&ne(t,"vertical",s[2]),a[0]&8&&ne(t,"reversed",s[3]),a[0]&8192&&ne(t,"focus",s[13])},i:ft,o:ft,d(s){s&&p(t),i&&i.d(),r&&r.d(),o&&o.d()}}}function Qg(e,t,n){let l,i,r,o,s,{range:a=!1}=t,{min:u=0}=t,{max:f=100}=t,{step:d=1}=t,{values:g=[(f+u)/2]}=t,{vertical:m=!1}=t,{reversed:_=!1}=t,{hoverable:v=!0}=t,{disabled:y=!1}=t,{pipstep:C=void 0}=t,{all:I=!0}=t,{first:G=void 0}=t,{last:V=void 0}=t,{rest:A=void 0}=t,{prefix:D=""}=t,{suffix:H=""}=t,{formatter:T=(z,ue)=>z}=t,{focus:L=void 0}=t,{orientationStart:P=void 0}=t,{percentOf:j=void 0}=t,{moveHandle:F=void 0}=t,{fixFloat:X=void 0}=t,{normalisedClient:W=void 0}=t,ae;function Se(z){z=W(z),ae={x:z.clientX,y:z.clientY}}function we(z,ue){if(ue=W(ue),!y){const x=Math.sqrt(Math.pow(ae.x-ue.clientX,2)+Math.pow(ae.y-ue.clientY,2));ae&&x<=5&&F(void 0,z)}}const O=z=>{Se(z)},oe=z=>{we(r(u),z)},de=z=>{Se(z)},pe=(z,ue)=>{we(r(z),ue)},me=z=>{Se(z)},se=z=>{we(r(f),z)};return e.$$set=z=>{"range"in z&&n(23,a=z.range),"min"in z&&n(0,u=z.min),"max"in z&&n(1,f=z.max),"step"in z&&n(24,d=z.step),"values"in z&&n(25,g=z.values),"vertical"in z&&n(2,m=z.vertical),"reversed"in z&&n(3,_=z.reversed),"hoverable"in z&&n(4,v=z.hoverable),"disabled"in z&&n(5,y=z.disabled),"pipstep"in z&&n(26,C=z.pipstep),"all"in z&&n(6,I=z.all),"first"in z&&n(7,G=z.first),"last"in z&&n(8,V=z.last),"rest"in z&&n(9,A=z.rest),"prefix"in z&&n(10,D=z.prefix),"suffix"in z&&n(11,H=z.suffix),"formatter"in z&&n(12,T=z.formatter),"focus"in z&&n(13,L=z.focus),"orientationStart"in z&&n(14,P=z.orientationStart),"percentOf"in z&&n(15,j=z.percentOf),"moveHandle"in z&&n(27,F=z.moveHandle),"fixFloat"in z&&n(16,X=z.fixFloat),"normalisedClient"in z&&n(28,W=z.normalisedClient)},e.$$.update=()=>{e.$$.dirty[0]&83886087&&n(29,l=C||((f-u)/d>=(m?50:100)?(f-u)/(m?10:20):1)),e.$$.dirty[0]&553648131&&n(20,i=parseInt((f-u)/(d*l),10)),e.$$.dirty[0]&553713665&&n(19,r=function(z){return X(u+z*d*l)}),e.$$.dirty[0]&33619968&&n(18,o=function(z){return g.some(ue=>X(ue)===X(z))}),e.$$.dirty[0]&41943040&&n(17,s=function(z){if(a==="min")return g[0]>z;if(a==="max")return g[0]<z;if(a)return g[0]<z&&g[1]>z})},[u,f,m,_,v,y,I,G,V,A,D,H,T,L,P,j,X,s,o,r,i,Se,we,a,d,g,C,F,W,l,O,oe,de,pe,me,se]}class $g extends Wt{constructor(t){super(),$t(this,t,Qg,Jg,Qt,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function Ks(e,t,n){const l=e.slice();return l[65]=t[n],l[67]=n,l}function Zs(e){let t,n=e[21](e[65],e[67],e[24](e[65]))+"",l,i=e[18]&&Js(e),r=e[19]&&Qs(e);return{c(){t=b("span"),i&&i.c(),l=q(n),r&&r.c(),this.h()},l(o){t=w(o,"SPAN",{class:!0});var s=S(t);i&&i.l(s),l=U(s,n),r&&r.l(s),s.forEach(p),this.h()},h(){h(t,"class","rangeFloat")},m(o,s){M(o,t,s),i&&i.m(t,null),c(t,l),r&&r.m(t,null)},p(o,s){o[18]?i?i.p(o,s):(i=Js(o),i.c(),i.m(t,l)):i&&(i.d(1),i=null),s[0]&18874369&&n!==(n=o[21](o[65],o[67],o[24](o[65]))+"")&&Ae(l,n),o[19]?r?r.p(o,s):(r=Qs(o),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(o){o&&p(t),i&&i.d(),r&&r.d()}}}function Js(e){let t,n;return{c(){t=b("span"),n=q(e[18]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=U(i,e[18]),i.forEach(p),this.h()},h(){h(t,"class","rangeFloat-prefix")},m(l,i){M(l,t,i),c(t,n)},p(l,i){i[0]&262144&&Ae(n,l[18])},d(l){l&&p(t)}}}function Qs(e){let t,n;return{c(){t=b("span"),n=q(e[19]),this.h()},l(l){t=w(l,"SPAN",{class:!0});var i=S(t);n=U(i,e[19]),i.forEach(p),this.h()},h(){h(t,"class","rangeFloat-suffix")},m(l,i){M(l,t,i),c(t,n)},p(l,i){i[0]&524288&&Ae(n,l[19])},d(l){l&&p(t)}}}function $s(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_=e[7]&&Zs(e);return{c(){t=b("span"),n=b("span"),l=R(),_&&_.c(),this.h()},l(v){t=w(v,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var y=S(t);n=w(y,"SPAN",{class:!0}),S(n).forEach(p),l=E(y),_&&_.l(y),y.forEach(p),this.h()},h(){h(n,"class","rangeNub"),h(t,"role","slider"),h(t,"class","rangeHandle"),h(t,"data-handle",e[67]),h(t,"style",i=e[29]+": "+e[30][e[67]]+"%; z-index: "+(e[27]===e[67]?3:2)+";"),h(t,"aria-label",r=e[22][e[67]]),h(t,"aria-valuemin",o=e[2]===!0&&e[67]===1?e[0][0]:e[3]),h(t,"aria-valuemax",s=e[2]===!0&&e[67]===0?e[0][1]:e[4]),h(t,"aria-valuenow",a=e[65]),h(t,"aria-valuetext",u=""+(e[18]+e[21](e[65],e[67],e[24](e[65]))+e[19])),h(t,"aria-orientation",f=e[6]?"vertical":"horizontal"),h(t,"aria-disabled",e[10]),h(t,"disabled",e[10]),h(t,"tabindex",d=e[10]?-1:0),ne(t,"active",e[25]&&e[27]===e[67]),ne(t,"press",e[26]&&e[27]===e[67])},m(v,y){M(v,t,y),c(t,n),c(t,l),_&&_.m(t,null),g||(m=[le(t,"blur",e[35]),le(t,"focus",e[36]),le(t,"keydown",e[37])],g=!0)},p(v,y){v[7]?_?_.p(v,y):(_=Zs(v),_.c(),_.m(t,null)):_&&(_.d(1),_=null),y[0]&1744830464&&i!==(i=v[29]+": "+v[30][v[67]]+"%; z-index: "+(v[27]===v[67]?3:2)+";")&&h(t,"style",i),y[0]&4194304&&r!==(r=v[22][v[67]])&&h(t,"aria-label",r),y[0]&13&&o!==(o=v[2]===!0&&v[67]===1?v[0][0]:v[3])&&h(t,"aria-valuemin",o),y[0]&21&&s!==(s=v[2]===!0&&v[67]===0?v[0][1]:v[4])&&h(t,"aria-valuemax",s),y[0]&1&&a!==(a=v[65])&&h(t,"aria-valuenow",a),y[0]&19660801&&u!==(u=""+(v[18]+v[21](v[65],v[67],v[24](v[65]))+v[19]))&&h(t,"aria-valuetext",u),y[0]&64&&f!==(f=v[6]?"vertical":"horizontal")&&h(t,"aria-orientation",f),y[0]&1024&&h(t,"aria-disabled",v[10]),y[0]&1024&&h(t,"disabled",v[10]),y[0]&1024&&d!==(d=v[10]?-1:0)&&h(t,"tabindex",d),y[0]&167772160&&ne(t,"active",v[25]&&v[27]===v[67]),y[0]&201326592&&ne(t,"press",v[26]&&v[27]===v[67])},d(v){v&&p(t),_&&_.d(),g=!1,Xt(m)}}}function xs(e){let t,n;return{c(){t=b("span"),this.h()},l(l){t=w(l,"SPAN",{class:!0,style:!0}),S(t).forEach(p),this.h()},h(){h(t,"class","rangeBar"),h(t,"style",n=e[29]+": "+e[33](e[30])+"%; "+e[28]+": "+e[34](e[30])+"%;")},m(l,i){M(l,t,i)},p(l,i){i[0]&1879048192&&n!==(n=l[29]+": "+l[33](l[30])+"%; "+l[28]+": "+l[34](l[30])+"%;")&&h(t,"style",n)},d(l){l&&p(t)}}}function ea(e){let t,n;return t=new $g({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[29],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[25],percentOf:e[24],moveHandle:e[32],fixFloat:e[31],normalisedClient:Ni}}),{c(){Ze(t.$$.fragment)},l(l){et(t.$$.fragment,l)},m(l,i){Je(t,l,i),n=!0},p(l,i){const r={};i[0]&1&&(r.values=l[0]),i[0]&8&&(r.min=l[3]),i[0]&16&&(r.max=l[4]),i[0]&32&&(r.step=l[5]),i[0]&4&&(r.range=l[2]),i[0]&64&&(r.vertical=l[6]),i[0]&256&&(r.reversed=l[8]),i[0]&536870912&&(r.orientationStart=l[29]),i[0]&512&&(r.hoverable=l[9]),i[0]&1024&&(r.disabled=l[10]),i[0]&8192&&(r.all=l[13]),i[0]&16384&&(r.first=l[14]),i[0]&32768&&(r.last=l[15]),i[0]&65536&&(r.rest=l[16]),i[0]&4096&&(r.pipstep=l[12]),i[0]&262144&&(r.prefix=l[18]),i[0]&524288&&(r.suffix=l[19]),i[0]&1048576&&(r.formatter=l[20]),i[0]&33554432&&(r.focus=l[25]),i[0]&16777216&&(r.percentOf=l[24]),t.$set(r)},i(l){n||(re(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){Qe(t,l)}}}function xg(e){let t,n,l,i,r,o,s=_e(e[0]),a=[];for(let d=0;d<s.length;d+=1)a[d]=$s(Ks(e,s,d));let u=e[2]&&xs(e),f=e[11]&&ea(e);return{c(){t=b("div");for(let d=0;d<a.length;d+=1)a[d].c();n=R(),u&&u.c(),l=R(),f&&f.c(),this.h()},l(d){t=w(d,"DIV",{id:!0,class:!0});var g=S(t);for(let m=0;m<a.length;m+=1)a[m].l(g);n=E(g),u&&u.l(g),l=E(g),f&&f.l(g),g.forEach(p),this.h()},h(){h(t,"id",e[17]),h(t,"class","rangeSlider"),ne(t,"range",e[2]),ne(t,"disabled",e[10]),ne(t,"hoverable",e[9]),ne(t,"vertical",e[6]),ne(t,"reversed",e[8]),ne(t,"focus",e[25]),ne(t,"min",e[2]==="min"),ne(t,"max",e[2]==="max"),ne(t,"pips",e[11]),ne(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(d,g){M(d,t,g);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(t,null);c(t,n),u&&u.m(t,null),c(t,l),f&&f.m(t,null),e[51](t),i=!0,r||(o=[le(window,"mousedown",e[40]),le(window,"touchstart",e[40]),le(window,"mousemove",e[41]),le(window,"touchmove",e[41]),le(window,"mouseup",e[42]),le(window,"touchend",e[43]),le(window,"keydown",e[44]),le(t,"mousedown",e[38]),le(t,"mouseup",e[39]),le(t,"touchstart",es(e[38])),le(t,"touchend",es(e[39]))],r=!0)},p(d,g){if(g[0]&1869350109|g[1]&112){s=_e(d[0]);let m;for(m=0;m<s.length;m+=1){const _=Ks(d,s,m);a[m]?a[m].p(_,g):(a[m]=$s(_),a[m].c(),a[m].m(t,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=s.length}d[2]?u?u.p(d,g):(u=xs(d),u.c(),u.m(t,l)):u&&(u.d(1),u=null),d[11]?f?(f.p(d,g),g[0]&2048&&re(f,1)):(f=ea(d),f.c(),re(f,1),f.m(t,null)):f&&(Nt(),ce(f,1,1,()=>{f=null}),Ht()),(!i||g[0]&131072)&&h(t,"id",d[17]),(!i||g[0]&4)&&ne(t,"range",d[2]),(!i||g[0]&1024)&&ne(t,"disabled",d[10]),(!i||g[0]&512)&&ne(t,"hoverable",d[9]),(!i||g[0]&64)&&ne(t,"vertical",d[6]),(!i||g[0]&256)&&ne(t,"reversed",d[8]),(!i||g[0]&33554432)&&ne(t,"focus",d[25]),(!i||g[0]&4)&&ne(t,"min",d[2]==="min"),(!i||g[0]&4)&&ne(t,"max",d[2]==="max"),(!i||g[0]&2048)&&ne(t,"pips",d[11]),(!i||g[0]&122880)&&ne(t,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(re(f),i=!0)},o(d){ce(f),i=!1},d(d){d&&p(t),st(a,d),u&&u.d(),f&&f.d(),e[51](null),r=!1,Xt(o)}}}function ta(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function Ni(e){return e.type.includes("touch")?e.touches[0]||e.changedTouches[0]:e}function eh(e,t,n){let l,i,r,o,s,a,u=ft,f=()=>(u(),u=Nf($e,k=>n(30,a=k)),$e);e.$$.on_destroy.push(()=>u());let{slider:d=void 0}=t,{range:g=!1}=t,{pushy:m=!1}=t,{min:_=0}=t,{max:v=100}=t,{step:y=1}=t,{values:C=[(v+_)/2]}=t,{vertical:I=!1}=t,{float:G=!1}=t,{reversed:V=!1}=t,{hoverable:A=!0}=t,{disabled:D=!1}=t,{pips:H=!1}=t,{pipstep:T=void 0}=t,{all:L=void 0}=t,{first:P=void 0}=t,{last:j=void 0}=t,{rest:F=void 0}=t,{id:X=void 0}=t,{prefix:W=""}=t,{suffix:ae=""}=t,{formatter:Se=(k,te,Ge)=>k}=t,{handleFormatter:we=Se}=t,{ariaLabels:O=[]}=t,{precision:oe=2}=t,{springValues:de={stiffness:.15,damping:.4}}=t;const pe=Gf();let me=0,se=!1,z=!1,ue=!1,x=!1,Ie=C.length-1,Me,Xe,$e;const Ve=k=>parseFloat((+k).toFixed(oe));function ge(k){const te=d.querySelectorAll(".handle"),Ge=Array.prototype.includes.call(te,k),ke=Array.prototype.some.call(te,Re=>Re.contains(k));return Ge||ke}function lt(k){return g==="min"||g==="max"?k.slice(0,1):g?k.slice(0,2):k}function Le(){return d.getBoundingClientRect()}function ye(k){const te=Le();let Ge=0,ke=0,Re=0;I?(Ge=k.clientY-te.top,ke=Ge/te.height*100,ke=V?ke:100-ke):(Ge=k.clientX-te.left,ke=Ge/te.width*100,ke=V?100-ke:ke),Re=(v-_)/100*ke+_;let J;return g===!0&&C[0]===C[1]?Re>C[1]?1:0:(J=C.indexOf([...C].sort((be,ut)=>Math.abs(Re-be)-Math.abs(Re-ut))[0]),J)}function Be(k){const te=Le();let Ge=0,ke=0,Re=0;I?(Ge=k.clientY-te.top,ke=Ge/te.height*100,ke=V?ke:100-ke):(Ge=k.clientX-te.left,ke=Ge/te.width*100,ke=V?100-ke:ke),Re=(v-_)/100*ke+_,B(Ie,Re)}function B(k,te){return te=r(te),typeof k>"u"&&(k=Ie),g&&(k===0&&te>C[1]?m?n(0,C[1]=te,C):te=C[1]:k===1&&te<C[0]&&(m?n(0,C[0]=te,C):te=C[0])),C[k]!==te&&n(0,C[k]=te,C),Xe!==te&&(Q(),Xe=te),te}function fe(k){return g==="min"?0:k[0]}function $(k){return g==="max"?0:g==="min"?100-k[0]:100-k[1]}function xe(k){x&&(n(25,se=!1),z=!1,n(26,ue=!1))}function Ke(k){D||(n(27,Ie=ta(k.target)),n(25,se=!0))}function je(k){if(!D){const te=ta(k.target);let Ge=k.ctrlKey||k.metaKey||k.shiftKey?y*10:y,ke=!1;switch(k.key){case"PageDown":Ge*=10;case"ArrowRight":case"ArrowUp":B(te,C[te]+Ge),ke=!0;break;case"PageUp":Ge*=10;case"ArrowLeft":case"ArrowDown":B(te,C[te]-Ge),ke=!0;break;case"Home":B(te,_),ke=!0;break;case"End":B(te,v),ke=!0;break}ke&&(k.preventDefault(),k.stopPropagation())}}function qe(k){if(!D){const te=k.target,Ge=Ni(k);n(25,se=!0),z=!0,n(26,ue=!0),n(27,Ie=ye(Ge)),Me=Xe=r(C[Ie]),rt(),k.type==="touchstart"&&!te.matches(".pipVal")&&Be(Ge)}}function at(k){k.type==="touchend"&&ve(),n(26,ue=!1)}function ht(k){x=!1,se&&k.target!==d&&!d.contains(k.target)&&n(25,se=!1)}function De(k){D||z&&Be(Ni(k))}function it(k){if(!D){const te=k.target;z&&((te===d||d.contains(te))&&(n(25,se=!0),!ge(te)&&!te.matches(".pipVal")&&Be(Ni(k))),ve())}z=!1,n(26,ue=!1)}function nt(k){z=!1,n(26,ue=!1)}function Fe(k){D||(k.target===d||d.contains(k.target))&&(x=!0)}function rt(){!D&&pe("start",{activeHandle:Ie,value:Me,values:C.map(k=>r(k))})}function ve(){!D&&pe("stop",{activeHandle:Ie,startValue:Me,value:C[Ie],values:C.map(k=>r(k))})}function Q(){!D&&pe("change",{activeHandle:Ie,startValue:Me,previousValue:typeof Xe>"u"?Me:Xe,value:C[Ie],values:C.map(k=>r(k))})}function Ee(k){gt[k?"unshift":"push"](()=>{d=k,n(1,d)})}return e.$$set=k=>{"slider"in k&&n(1,d=k.slider),"range"in k&&n(2,g=k.range),"pushy"in k&&n(45,m=k.pushy),"min"in k&&n(3,_=k.min),"max"in k&&n(4,v=k.max),"step"in k&&n(5,y=k.step),"values"in k&&n(0,C=k.values),"vertical"in k&&n(6,I=k.vertical),"float"in k&&n(7,G=k.float),"reversed"in k&&n(8,V=k.reversed),"hoverable"in k&&n(9,A=k.hoverable),"disabled"in k&&n(10,D=k.disabled),"pips"in k&&n(11,H=k.pips),"pipstep"in k&&n(12,T=k.pipstep),"all"in k&&n(13,L=k.all),"first"in k&&n(14,P=k.first),"last"in k&&n(15,j=k.last),"rest"in k&&n(16,F=k.rest),"id"in k&&n(17,X=k.id),"prefix"in k&&n(18,W=k.prefix),"suffix"in k&&n(19,ae=k.suffix),"formatter"in k&&n(20,Se=k.formatter),"handleFormatter"in k&&n(21,we=k.handleFormatter),"ariaLabels"in k&&n(22,O=k.ariaLabels),"precision"in k&&n(46,oe=k.precision),"springValues"in k&&n(47,de=k.springValues)},e.$$.update=()=>{if(e.$$.dirty[0]&24&&n(50,i=function(k){return k<=_?_:k>=v?v:k}),e.$$.dirty[0]&56|e.$$.dirty[1]&524288&&n(49,r=function(k){if(k<=_)return Ve(_);if(k>=v)return Ve(v);k=Ve(k);let te=(k-_)%y,Ge=k-te;return Math.abs(te)*2>=y&&(Ge+=te>0?y:-y),Ge=i(Ge),Ve(Ge)}),e.$$.dirty[0]&24&&n(24,l=function(k){let te=(k-_)/(v-_)*100;return isNaN(te)||te<=0?0:te>=100?100:Ve(te)}),e.$$.dirty[0]&29360153|e.$$.dirty[1]&458752){Array.isArray(C)||(n(0,C=[(v+_)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const k=lt(C.map(te=>r(te)));(C.length!==k.length||!C.every((te,Ge)=>Ve(te)===k[Ge]))&&n(0,C=k),me!==C.length?f(n(23,$e=Zg(C.map(te=>l(te)),de))):$e.set(C.map(te=>l(te))),n(48,me=C.length),C.length>1&&!Array.isArray(O)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}e.$$.dirty[0]&320&&n(29,o=I?V?"top":"bottom":V?"right":"left"),e.$$.dirty[0]&320&&n(28,s=I?V?"bottom":"top":V?"left":"right")},[C,d,g,_,v,y,I,G,V,A,D,H,T,L,P,j,F,X,W,ae,Se,we,O,$e,l,se,ue,Ie,s,o,a,Ve,B,fe,$,xe,Ke,je,qe,at,ht,De,it,nt,Fe,m,oe,de,me,r,i,Ee]}class jt extends Wt{constructor(t){super(),$t(this,t,eh,xg,Qt,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function na(e,t,n){const l=e.slice();return l[31]=t[n],l[33]=n,l}function la(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function ia(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function ra(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function oa(e,t,n){const l=e.slice();return l[34]=t[n],l[33]=n,l}function sa(e,t,n){const l=e.slice();return l[39]=t[n],l[33]=n,l}function th(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),he(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){M(l,t,i)},p:ft,d(l){l&&p(t)}}}function nh(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_,v,y=e[5]==="lollipop"&&Array.isArray(e[17])&&e[17].length>1,C,I=e[5]!=="lollipop"&&aa(e),G=_e(e[13]),V=[];for(let F=0;F<G.length;F+=1)V[F]=ua(sa(e,G,F));let A=_e(e[6]),D=[];for(let F=0;F<A.length;F+=1)D[F]=da(oa(e,A,F));let H=e[2]===!0&&ca(e);function T(F,X){return F[5]==="lollipop"?ih:lh}let L=T(e),P=L(e),j=y&&_a(e);return{c(){t=b("div"),n=He("svg"),l=He("g"),I&&I.c(),i=ze();for(let F=0;F<V.length;F+=1)V[F].c();r=He("g"),o=He("path");for(let F=0;F<D.length;F+=1)D[F].c();H&&H.c(),u=He("g"),P.c(),f=He("g"),d=He("text"),g=q(Sa),j&&j.c(),this.h()},l(F){t=w(F,"DIV",{id:!0});var X=S(t);n=Oe(X,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var W=S(n);l=Oe(W,"g",{});var ae=S(l);I&&I.l(ae),i=ze();for(let de=0;de<V.length;de+=1)V[de].l(ae);ae.forEach(p),r=Oe(W,"g",{class:!0,transform:!0});var Se=S(r);o=Oe(Se,"path",{stroke:!0,d:!0}),S(o).forEach(p);for(let de=0;de<D.length;de+=1)D[de].l(Se);Se.forEach(p),H&&H.l(W),u=Oe(W,"g",{});var we=S(u);P.l(we),we.forEach(p),f=Oe(W,"g",{});var O=S(f);d=Oe(O,"text",{"font-size":!0,"text-anchor":!0,"font-family":!0,x:!0,y:!0});var oe=S(d);g=U(oe,Sa),oe.forEach(p),O.forEach(p),j&&j.l(W),W.forEach(p),X.forEach(p),this.h()},h(){h(o,"stroke","black"),h(o,"d",s="M 0 0 H "+(e[10][1]-e[10][0])+" V 0"),h(r,"class","x-axis"),h(r,"transform",a="translate("+e[10][0]+", "+e[8][0]+")"),h(d,"font-size",m=e[4]+"px"),h(d,"text-anchor","middle"),h(d,"font-family","Arial, Helvetica, sans-serif"),h(d,"x",_=e[10][0]+(e[10][1]-e[10][0])/2),h(d,"y",v=e[11]-7),h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",e[12]),h(n,"height",e[20]),h(n,"viewBox",C="0 0 "+e[12]+" "+e[20]),h(t,"id","mybarplot")},m(F,X){M(F,t,X),c(t,n),c(n,l),I&&I.m(l,null),c(l,i);for(let W=0;W<V.length;W+=1)V[W]&&V[W].m(l,null);c(n,r),c(r,o);for(let W=0;W<D.length;W+=1)D[W]&&D[W].m(r,null);H&&H.m(n,null),c(n,u),P.m(u,null),c(n,f),c(f,d),c(d,g),j&&j.m(n,null)},p(F,X){if(F[5]!=="lollipop"?I?I.p(F,X):(I=aa(F),I.c(),I.m(l,i)):I&&(I.d(1),I=null),X[0]&75272){G=_e(F[13]);let W;for(W=0;W<G.length;W+=1){const ae=sa(F,G,W);V[W]?V[W].p(ae,X):(V[W]=ua(ae),V[W].c(),V[W].m(l,null))}for(;W<V.length;W+=1)V[W].d(1);V.length=G.length}if(X[0]&1024&&s!==(s="M 0 0 H "+(F[10][1]-F[10][0])+" V 0")&&h(o,"d",s),X[0]&1224){A=_e(F[6]);let W;for(W=0;W<A.length;W+=1){const ae=oa(F,A,W);D[W]?D[W].p(ae,X):(D[W]=da(ae),D[W].c(),D[W].m(r,null))}for(;W<D.length;W+=1)D[W].d(1);D.length=A.length}X[0]&1280&&a!==(a="translate("+F[10][0]+", "+F[8][0]+")")&&h(r,"transform",a),F[2]===!0?H?H.p(F,X):(H=ca(F),H.c(),H.m(n,u)):H&&(H.d(1),H=null),L===(L=T(F))&&P?P.p(F,X):(P.d(1),P=L(F),P&&(P.c(),P.m(u,null))),X[0]&16&&m!==(m=F[4]+"px")&&h(d,"font-size",m),X[0]&1024&&_!==(_=F[10][0]+(F[10][1]-F[10][0])/2)&&h(d,"x",_),X[0]&2048&&v!==(v=F[11]-7)&&h(d,"y",v),X[0]&131104&&(y=F[5]==="lollipop"&&Array.isArray(F[17])&&F[17].length>1),y?j?j.p(F,X):(j=_a(F),j.c(),j.m(n,null)):j&&(j.d(1),j=null),X[0]&4096&&h(n,"width",F[12]),X[0]&1048576&&h(n,"height",F[20]),X[0]&1052672&&C!==(C="0 0 "+F[12]+" "+F[20])&&h(n,"viewBox",C)},d(F){F&&p(t),I&&I.d(),st(V,F),st(D,F),H&&H.d(),P.d(),j&&j.d()}}}function aa(e){let t,n;return{c(){t=He("path"),this.h()},l(l){t=Oe(l,"path",{stroke:!0,d:!0}),S(t).forEach(p),this.h()},h(){h(t,"stroke","black"),h(t,"d",n="M "+e[10][0]+" "+e[8][0]+" H "+e[10][0]+" V "+e[8][1])},m(l,i){M(l,t,i)},p(l,i){i[0]&1280&&n!==(n="M "+l[10][0]+" "+l[8][0]+" H "+l[10][0]+" V "+l[8][1])&&h(t,"d",n)},d(l){l&&p(t)}}}function ua(e){let t,n,l=e[9][e[33]]+"",i,r,o,s;return{c(){t=He("g"),n=He("text"),i=q(l),this.h()},l(a){t=Oe(a,"g",{});var u=S(t);n=Oe(u,"text",{"font-size":!0,"text-anchor":!0,"font-family":!0,x:!0,y:!0});var f=S(n);i=U(f,l),f.forEach(p),u.forEach(p),this.h()},h(){h(n,"font-size",r=e[3]+"px"),h(n,"text-anchor","end"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"x",o=e[10][0]+-1*ka),h(n,"y",s=e[16](e[13][e[33]])+e[16].bandwidth()/2+Ca)},m(a,u){M(a,t,u),c(t,n),c(n,i)},p(a,u){u[0]&512&&l!==(l=a[9][a[33]]+"")&&Ae(i,l),u[0]&8&&r!==(r=a[3]+"px")&&h(n,"font-size",r),u[0]&1024&&o!==(o=a[10][0]+-1*ka)&&h(n,"x",o),u[0]&73728&&s!==(s=a[16](a[13][a[33]])+a[16].bandwidth()/2+Ca)&&h(n,"y",s)},d(a){a&&p(t)}}}function fa(e){let t,n,l=e[34]+"",i,r,o;return{c(){t=He("g"),n=He("text"),i=q(l),this.h()},l(s){t=Oe(s,"g",{});var a=S(t);n=Oe(a,"text",{"font-size":!0,"text-anchor":!0,"font-family":!0,x:!0,y:!0});var u=S(n);i=U(u,l),u.forEach(p),a.forEach(p),this.h()},h(){h(n,"font-size",r=e[3]+"px"),h(n,"text-anchor","middle"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"x",o=e[7](e[34])-e[10][0]),h(n,"y",sh)},m(s,a){M(s,t,a),c(t,n),c(n,i)},p(s,a){a[0]&64&&l!==(l=s[34]+"")&&Ae(i,l),a[0]&8&&r!==(r=s[3]+"px")&&h(n,"font-size",r),a[0]&1216&&o!==(o=s[7](s[34])-s[10][0])&&h(n,"x",o)},d(s){s&&p(t)}}}function da(e){let t=e[7](e[34])+10<e[10][1],n,l=t&&fa(e);return{c(){l&&l.c(),n=ze()},l(i){l&&l.l(i),n=ze()},m(i,r){l&&l.m(i,r),M(i,n,r)},p(i,r){r[0]&1216&&(t=i[7](i[34])+10<i[10][1]),t?l?l.p(i,r):(l=fa(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){i&&p(n),l&&l.d(i)}}}function ca(e){let t,n=_e(e[15]),l=[];for(let i=0;i<n.length;i+=1)l[i]=ga(ra(e,n,i));return{c(){t=He("g");for(let i=0;i<l.length;i+=1)l[i].c()},l(i){t=Oe(i,"g",{});var r=S(t);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(p)},m(i,r){M(i,t,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null)},p(i,r){if(r[0]&106912){n=_e(i[15]);let o;for(o=0;o<n.length;o+=1){const s=ra(i,n,o);l[o]?l[o].p(s,r):(l[o]=ga(s),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function ga(e){let t,n;return{c(){t=He("path"),this.h()},l(l){t=Oe(l,"path",{stroke:!0,"stroke-dasharray":!0,d:!0}),S(t).forEach(p),this.h()},h(){h(t,"stroke","grey"),h(t,"stroke-dasharray",e[33]===0?0:5),h(t,"d",n="M "+e[7](e[34])+" "+e[8][0]+" V "+(e[16](e[13][e[13].length-1])+(e[5]==="lollipop"?e[16].bandwidth()/2:0)))},m(l,i){M(l,t,i)},p(l,i){i[0]&106912&&n!==(n="M "+l[7](l[34])+" "+l[8][0]+" V "+(l[16](l[13][l[13].length-1])+(l[5]==="lollipop"?l[16].bandwidth()/2:0)))&&h(t,"d",n)},d(l){l&&p(t)}}}function lh(e){let t,n=_e(e[14]),l=[];for(let i=0;i<n.length;i+=1)l[i]=ha(la(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=ze()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=ze()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);M(i,t,r)},p(i,r){if(r[0]&615554){n=_e(i[14]);let o;for(o=0;o<n.length;o+=1){const s=la(i,n,o);l[o]?l[o].p(s,r):(l[o]=ha(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function ih(e){let t,n=_e(e[14]),l=[];for(let i=0;i<n.length;i+=1)l[i]=pa(ia(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=ze()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=ze()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);M(i,t,r)},p(i,r){if(r[0]&877698){n=_e(i[14]);let o;for(o=0;o<n.length;o+=1){const s=ia(i,n,o);l[o]?l[o].p(s,r):(l[o]=pa(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function ha(e){let t,n,l,i,r,o;return{c(){t=He("rect"),this.h()},l(s){t=Oe(s,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),S(t).forEach(p),this.h()},h(){h(t,"x",n=e[10][0]+5),h(t,"y",l=e[16](e[13][e[33]])),h(t,"width",i=e[7](e[34])-e[10][0]-5),h(t,"height",r=e[16].bandwidth()),h(t,"fill",o=e[1][e[19][e[33]]]||"#000000")},m(s,a){M(s,t,a)},p(s,a){a[0]&1024&&n!==(n=s[10][0]+5)&&h(t,"x",n),a[0]&73728&&l!==(l=s[16](s[13][s[33]]))&&h(t,"y",l),a[0]&17536&&i!==(i=s[7](s[34])-s[10][0]-5)&&h(t,"width",i),a[0]&65536&&r!==(r=s[16].bandwidth())&&h(t,"height",r),a[0]&524290&&o!==(o=s[1][s[19][s[33]]]||"#000000")&&h(t,"fill",o)},d(s){s&&p(t)}}}function pa(e){let t,n,l,i,r,o,s;return{c(){t=He("path"),l=He("circle"),this.h()},l(a){t=Oe(a,"path",{stroke:!0,"shape-rendering":!0,"stroke-width":!0,"stroke-miterlimit":!0,d:!0}),S(t).forEach(p),l=Oe(a,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),S(l).forEach(p),this.h()},h(){h(t,"stroke","black"),h(t,"shape-rendering","crispEdges"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"d",n="M "+e[10][0]+" "+(e[16](e[13][e[33]])+e[16].bandwidth()/2)+" H "+e[7](e[34])+" V "+(e[16](e[13][e[33]])+e[16].bandwidth()/2)),h(l,"cx",i=e[7](e[34])),h(l,"cy",r=e[16](e[13][e[33]])+e[16].bandwidth()/2),h(l,"fill",o=e[1][e[19][e[33]]]||"#000000"),h(l,"r",s=e[18][e[33]])},m(a,u){M(a,t,u),M(a,l,u)},p(a,u){u[0]&91264&&n!==(n="M "+a[10][0]+" "+(a[16](a[13][a[33]])+a[16].bandwidth()/2)+" H "+a[7](a[34])+" V "+(a[16](a[13][a[33]])+a[16].bandwidth()/2))&&h(t,"d",n),u[0]&16512&&i!==(i=a[7](a[34]))&&h(l,"cx",i),u[0]&73728&&r!==(r=a[16](a[13][a[33]])+a[16].bandwidth()/2)&&h(l,"cy",r),u[0]&524290&&o!==(o=a[1][a[19][a[33]]]||"#000000")&&h(l,"fill",o),u[0]&262144&&s!==(s=a[18][a[33]])&&h(l,"r",s)},d(a){a&&(p(t),p(l))}}}function _a(e){let t,n,l,i,r,o,s=_e(e[17]),a=[];for(let u=0;u<s.length;u+=1)a[u]=ma(na(e,s,u));return{c(){t=He("g"),n=He("text"),l=q(`Geneset size:\r
					`);for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){t=Oe(u,"g",{});var f=S(t);n=Oe(f,"text",{"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,x:!0,y:!0});var d=S(n);l=U(d,`Geneset size:\r
					`),d.forEach(p);for(let g=0;g<a.length;g+=1)a[g].l(f);f.forEach(p),this.h()},h(){h(n,"font-size",i=e[3]+"px"),h(n,"text-anchor","end"),h(n,"dominant-baseline","middle"),h(n,"font-family","Arial, Helvetica, sans-serif"),h(n,"x",r=e[10][1]-e[17][e[17].length-1].xEnd-e[17][0].radius-e[3]/2),h(n,"y",o=e[11]+e[4])},m(u,f){M(u,t,f),c(t,n),c(n,l);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(t,null)},p(u,f){if(f[0]&8&&i!==(i=u[3]+"px")&&h(n,"font-size",i),f[0]&132104&&r!==(r=u[10][1]-u[17][u[17].length-1].xEnd-u[17][0].radius-u[3]/2)&&h(n,"x",r),f[0]&2064&&o!==(o=u[11]+u[4])&&h(n,"y",o),f[0]&134168){s=_e(u[17]);let d;for(d=0;d<s.length;d+=1){const g=na(u,s,d);a[d]?a[d].p(g,f):(a[d]=ma(g),a[d].c(),a[d].m(t,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=s.length}},d(u){u&&p(t),st(a,u)}}}function ma(e){let t,n,l,i,r,o=e[31].label+"",s,a,u,f;return{c(){t=He("circle"),r=He("text"),s=q(o),this.h()},l(d){t=Oe(d,"circle",{cx:!0,cy:!0,fill:!0,r:!0}),S(t).forEach(p),r=Oe(d,"text",{"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,x:!0,y:!0});var g=S(r);s=U(g,o),g.forEach(p),this.h()},h(){h(t,"cx",n=e[10][1]-e[17][e[17].length-1].xEnd+e[31].x),h(t,"cy",l=e[11]+e[4]-2),h(t,"fill","#666666"),h(t,"r",i=e[31].radius),h(r,"font-size",a=e[3]+"px"),h(r,"text-anchor","begin"),h(r,"dominant-baseline","middle"),h(r,"font-family","Arial, Helvetica, sans-serif"),h(r,"x",u=e[10][1]-e[17][e[17].length-1].xEnd+e[31].xText),h(r,"y",f=e[11]+e[4])},m(d,g){M(d,t,g),M(d,r,g),c(r,s)},p(d,g){g[0]&132096&&n!==(n=d[10][1]-d[17][d[17].length-1].xEnd+d[31].x)&&h(t,"cx",n),g[0]&2064&&l!==(l=d[11]+d[4]-2)&&h(t,"cy",l),g[0]&131072&&i!==(i=d[31].radius)&&h(t,"r",i),g[0]&131072&&o!==(o=d[31].label+"")&&Ae(s,o),g[0]&8&&a!==(a=d[3]+"px")&&h(r,"font-size",a),g[0]&132096&&u!==(u=d[10][1]-d[17][d[17].length-1].xEnd+d[31].xText)&&h(r,"x",u),g[0]&2064&&f!==(f=d[11]+d[4])&&h(r,"y",f)},d(d){d&&(p(t),p(r))}}}function rh(e){let t,n;function l(o,s){return s[0]&1&&(t=null),t==null&&(t=!!(Array.isArray(o[0])&&o[0].length>0)),t?nh:th}let i=l(e,[-1,-1]),r=i(e);return{c(){r.c(),n=ze()},l(o){r.l(o),n=ze()},m(o,s){r.m(o,s),M(o,n,s)},p(o,s){i===(i=l(o,s))&&r?r.p(o,s):(r.d(1),r=i(o),r&&(r.c(),r.m(n.parentNode,n)))},i:ft,o:ft,d(o){o&&p(n),r.d(o)}}}const va=20,ba=40,wa=50,ya=500,oh=.2,Sa="-log10 adjusted p-value",Ca=4,ka=5,sh=20,ah=100;function uh(e,t,n){let l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,I,G;function V(O,oe,de,pe,me,se){let z=xu(0,oe,de).filter(Me=>Me>O);z.unshift(O);const ue=z.map(Me=>({label:Me,radius:we(Me,pe,se),labelWidth:gi(Me,me+"px sans-serif"),x:0,xText:0})),x=ue.length;let Ie=0;for(let Me=0;Me<x;Me++)ue[Me].x=Math.round(Ie),Ie+=ue[Me].radius+Math.max(4,se/6),ue[Me].xText=Math.round(Ie),Ie+=ue[Me].labelWidth+Math.max(8,se/2)+(Me!==x-1?ue[Me].radius:0),ue[Me].xEnd=Ie;return ue}let{selectedSourceIndex:A=0}=t,{barplotData:D=[]}=t,{maxGenesetSize:H=100}=t,{colors:T={}}=t,{widthPlotArea:L=300}=t,{xScalefactor:P=5}=t,{showGrid:j=!0}=t,{barHeight:F=20}=t,{textSize:X=16}=t,{labelSize:W=22}=t,{topn:ae=0}=t,{barplotType:Se="lollipop"}=t;const we=(O,oe,de)=>de/2*(Math.sqrt(O-10)/Math.sqrt(oe-10)*.8+.4);return e.$$set=O=>{"selectedSourceIndex"in O&&n(21,A=O.selectedSourceIndex),"barplotData"in O&&n(0,D=O.barplotData),"maxGenesetSize"in O&&n(22,H=O.maxGenesetSize),"colors"in O&&n(1,T=O.colors),"widthPlotArea"in O&&n(23,L=O.widthPlotArea),"xScalefactor"in O&&n(24,P=O.xScalefactor),"showGrid"in O&&n(2,j=O.showGrid),"barHeight"in O&&n(25,F=O.barHeight),"textSize"in O&&n(3,X=O.textSize),"labelSize"in O&&n(4,W=O.labelSize),"topn"in O&&n(26,ae=O.topn),"barplotType"in O&&n(5,Se=O.barplotType)},e.$$.update=()=>{e.$$.dirty[0]&8388608&&n(12,l=L+ya+ba),e.$$.dirty[0]&33554433&&n(11,i=wa+va+D.length*F),e.$$.dirty[0]&2080&&n(20,r=i+(Se==="lollipop"?ah:0)),e.$$.dirty[0]&1&&n(28,o=D),e.$$.dirty[0]&268435456&&n(14,s=o.map(O=>O.value)),e.$$.dirty[0]&268435456&&n(13,a=o.map(O=>O.name)),e.$$.dirty[0]&268435456&&n(19,u=o.map(O=>O.score_type)),e.$$.dirty[0]&306184192&&n(18,f=o.map(O=>we(O.ngenes,H,F))),e.$$.dirty[0]&37748744&&n(17,d=V(10,H,5,H,X,F)),e.$$.dirty[0]&16384&&n(27,g=[0,Math.max(...s)]),e.$$.dirty[0]&8192&&n(9,m=a),e.$$.dirty[0]&4096&&n(10,_=[ya,l-ba]),e.$$.dirty[0]&2048&&n(8,v=[i-wa,va]),e.$$.dirty[0]&134218752&&n(7,y=af(g,_).nice()),e.$$.dirty[0]&768&&n(16,C=sf(m,v).padding(oh)),e.$$.dirty[0]&16777344&&n(6,I=y.ticks(P)),e.$$.dirty[0]&134217792&&n(15,G=I.filter(O=>O<g[1]*.9))},[D,T,j,X,W,Se,I,y,v,m,_,i,l,a,s,G,C,d,f,u,r,A,H,L,P,F,ae,g,o]}class fh extends Wt{constructor(t){super(),$t(this,t,uh,rh,Qt,{selectedSourceIndex:21,barplotData:0,maxGenesetSize:22,colors:1,widthPlotArea:23,xScalefactor:24,showGrid:2,barHeight:25,textSize:3,labelSize:4,topn:26,barplotType:5},null,[-1,-1])}}function Ra(e,t,n){const l=e.slice();return l[17]=t[n],l[19]=n,l}function Ea(e,t,n){const l=e.slice();return l[20]=t[n],l[22]=n,l}function Ia(e){let t,n,l,i,r,o=_e(e[6]),s=[];for(let a=0;a<o.length;a+=1)s[a]=Ma(Ra(e,o,a));return{c(){t=b("div"),n=b("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){t=w(a,"DIV",{class:!0});var u=S(t);n=w(u,"DIV",{class:!0});var f=S(n);for(let d=0;d<s.length;d+=1)s[d].l(f);f.forEach(p),u.forEach(p),this.h()},h(){h(n,"class","values-dropdown-grid svelte-1cqee7o"),h(t,"class","values-dropdown svelte-1cqee7o"),Wn(()=>e[16].call(t)),ne(t,"top",e[2])},m(a,u){M(a,t,u),c(t,n);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null);l=Wu(t,e[16].bind(t)),i||(r=[Hf(Uf.call(null,t)),le(t,"click_outside",e[9])],i=!0)},p(a,u){if(u&1089){o=_e(a[6]);let f;for(f=0;f<o.length;f+=1){const d=Ra(a,o,f);s[f]?s[f].p(d,u):(s[f]=Ma(d),s[f].c(),s[f].m(n,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=o.length}u&4&&ne(t,"top",a[2])},d(a){a&&p(t),st(s,a),l(),i=!1,Xt(r)}}}function Aa(e){let t,n,l;function i(){return e[15](e[20])}return{c(){t=b("button"),this.h()},l(r){t=w(r,"BUTTON",{style:!0,class:!0});var o=S(t);o.forEach(p),this.h()},h(){Y(t,"background",e[20]),h(t,"class","color-block svelte-1cqee7o"),ne(t,"active",e[20]==e[0])},m(r,o){M(r,t,o),n||(l=le(t,"click",i),n=!0)},p(r,o){e=r,o&65&&ne(t,"active",e[20]==e[0])},d(r){r&&p(t),n=!1,l()}}}function Ma(e){let t,n=_e(e[17]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Aa(Ea(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=ze()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=ze()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);M(i,t,r)},p(i,r){if(r&1089){n=_e(i[17]);let o;for(o=0;o<n.length;o+=1){const s=Ea(i,n,o);l[o]?l[o].p(s,r):(l[o]=Aa(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function dh(e){let t,n,l,i,r,o,s,a,u,f,d,g,m;Wn(e[11]);let _=e[3]&&Ia(e);return{c(){t=b("div"),n=b("div"),l=b("button"),i=b("div"),r=b("div"),o=R(),s=b("div"),u=R(),f=b("input"),d=R(),_&&_.c(),this.h()},l(v){t=w(v,"DIV",{class:!0});var y=S(t);n=w(y,"DIV",{class:!0});var C=S(n);l=w(C,"BUTTON",{class:!0});var I=S(l);i=w(I,"DIV",{style:!0});var G=S(i);r=w(G,"DIV",{style:!0,class:!0}),S(r).forEach(p),o=E(G),s=w(G,"DIV",{class:!0,style:!0}),S(s).forEach(p),G.forEach(p),I.forEach(p),u=E(C),f=w(C,"INPUT",{type:!0,class:!0}),C.forEach(p),d=E(y),_&&_.l(y),y.forEach(p),this.h()},h(){Y(r,"background",e[0]),h(r,"class","color-block svelte-1cqee7o"),h(s,"class","caret svelte-1cqee7o"),Y(s,"margin-right",".2rem"),ne(s,"top",e[2]),Y(i,"display","flex"),h(l,"class","select-color svelte-1cqee7o"),Wn(()=>e[12].call(l)),ne(l,"fake-focus",e[3]),h(f,"type","text"),h(f,"class","svelte-1cqee7o"),h(n,"class","color-picker-inner svelte-1cqee7o"),h(t,"class","color-picker-holder svelte-1cqee7o")},m(v,y){M(v,t,y),c(t,n),c(n,l),c(l,i),c(i,r),c(i,o),c(i,s),a=Wu(l,e[12].bind(l)),c(n,u),c(n,f),Bt(f,e[0]),c(t,d),_&&_.m(t,null),g||(m=[le(window,"keydown",e[7]),le(window,"resize",e[11]),le(l,"click",e[13]),le(f,"input",e[14])],g=!0)},p(v,[y]){y&1&&Y(r,"background",v[0]),y&4&&ne(s,"top",v[2]),y&8&&ne(l,"fake-focus",v[3]),y&1&&f.value!==v[0]&&Bt(f,v[0]),v[3]?_?_.p(v,y):(_=Ia(v),_.c(),_.m(t,null)):_&&(_.d(1),_=null)},i:ft,o:ft,d(v){v&&p(t),a(),_&&_.d(),g=!1,Xt(m)}}}let ch="Escape";function gh(e,t,n){let l=[["#CFD8DC","#BCAAA4","#DAAFE9","#C7DBF5","#B0EDC3","#EF9A9A","#F8D6A2"],["#B0BEC5","#A1887F","#C47ADA","#AAD5FB","#73DE8C","#E57373","#F5B969"],["#78909C","#8D6E63","#AE44B7","#75BAFA","#63B75A","#F44336","#EC9740"],["#455A64","#6D4C41","#9C27B0","#5E7ABC","#388E3C","#FF1744","#F57F17"],["#000000","#4E342E","#501B87","#0C2794","#2F6A52","#D50000","#AD6127"]],{value:i=l[0][0]}=t,r,o,s=!1,a=158,u;function f(V){V.key==ch&&n(3,s=!1)}async function d(V){V.clientY+u<a||r-a-u-V.clientY>0?n(2,o=!1):n(2,o=!0),n(3,s=!s),await Of()}function g(){n(3,s=!1)}function m(V){n(0,i=V),n(3,s=!1)}function _(){n(1,r=window.innerHeight)}function v(){u=this.clientHeight,n(5,u)}const y=V=>d(V);function C(){i=this.value,n(0,i)}const I=V=>{m(V)};function G(){a=this.clientHeight,n(4,a)}return e.$$set=V=>{"value"in V&&n(0,i=V.value)},[i,r,o,s,a,u,l,f,d,g,m,_,v,y,C,I,G]}class Ki extends Wt{constructor(t){super(),$t(this,t,gh,dh,Qt,{value:0})}}const Wl={DOWNLOAD:`Click to download the current figure as a ZIP file.

Included are both an SVG file (vector graphics, open with Adobe Illustrator or Google Chrome) and a PNG file (raster graphic, low resolution)`,TREEMAP_SIMPLIFY:`Optionally, show only a subset of genesets in the treemap.

Only leafs: show only genesets that do not have a (indirect) parent term that is also among significant genesets
(note that the 'minimal tree view' @ TREE can mislead; it only shows 1 parent term per child while the full DAG may have more links).

Prune singletons: very basic simplification that only removes parent terms that have exactly 1 (indirect) child among the set of significant genesets.`,HEATMAP_SCORETYPE:`Show a color-coded sidebar on the left y-axis that depics the up/down-regulation of respective genesets.

blue = effectsize down
red = effectsize up

only available for analyses analyzed with scoretype='effectsize' (i.e. GOAT specifically tested for both up- and down-regulation)`,HEATMAP_SYMMETRIC:"HELP TEXT HERE"};function Da(e,t,n){const l=e.slice();return l[39]=t[n],l}function Va(e){let t,n=e[39].label+"",l,i,r;return{c(){t=b("option"),l=q(n),i=R(),this.h()},l(o){t=w(o,"OPTION",{});var s=S(t);l=U(s,n),i=E(s),s.forEach(p),this.h()},h(){t.__value=r=e[39].key,Bt(t,t.__value)},m(o,s){M(o,t,s),c(t,l),c(t,i)},p(o,s){s[0]&65536&&n!==(n=o[39].label+"")&&Ae(l,n),s[0]&65536&&r!==(r=o[39].key)&&(t.__value=r,Bt(t,t.__value))},d(o){o&&p(t)}}}function Ta(e){let t,n,l,i,r;function o(a){e[32](a)}let s={};return e[2]!==void 0&&(s.value=e[2]),l=new Ki({props:s}),gt.push(()=>mt(l,"value",o)),{c(){t=b("div"),n=q(`Color:\r
					`),Ze(l.$$.fragment),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);n=U(u,`Color:\r
					`),et(l.$$.fragment,u),u.forEach(p),this.h()},h(){Y(t,"margin-left","50px")},m(a,u){M(a,t,u),c(t,n),Je(l,t,null),r=!0},p(a,u){const f={};!i&&u[0]&4&&(i=!0,f.value=a[2],_t(()=>i=!1)),l.$set(f)},i(a){r||(re(l.$$.fragment,a),r=!0)},o(a){ce(l.$$.fragment,a),r=!1},d(a){a&&p(t),Qe(l)}}}function Fa(e){let t,n,l,i,r;function o(a){e[33](a)}let s={};return e[3]!==void 0&&(s.value=e[3]),l=new Ki({props:s}),gt.push(()=>mt(l,"value",o)),{c(){t=b("div"),n=q(`Color for 'effectsize up':\r
					`),Ze(l.$$.fragment),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);n=U(u,`Color for 'effectsize up':\r
					`),et(l.$$.fragment,u),u.forEach(p),this.h()},h(){Y(t,"margin-left","50px")},m(a,u){M(a,t,u),c(t,n),Je(l,t,null),r=!0},p(a,u){const f={};!i&&u[0]&8&&(i=!0,f.value=a[3],_t(()=>i=!1)),l.$set(f)},i(a){r||(re(l.$$.fragment,a),r=!0)},o(a){ce(l.$$.fragment,a),r=!1},d(a){a&&p(t),Qe(l)}}}function Pa(e){let t,n,l,i,r;function o(a){e[34](a)}let s={};return e[4]!==void 0&&(s.value=e[4]),l=new Ki({props:s}),gt.push(()=>mt(l,"value",o)),{c(){t=b("div"),n=q(`Color for 'effectsize down':\r
					`),Ze(l.$$.fragment),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);n=U(u,`Color for 'effectsize down':\r
					`),et(l.$$.fragment,u),u.forEach(p),this.h()},h(){Y(t,"margin-left","50px")},m(a,u){M(a,t,u),c(t,n),Je(l,t,null),r=!0},p(a,u){const f={};!i&&u[0]&16&&(i=!0,f.value=a[4],_t(()=>i=!1)),l.$set(f)},i(a){r||(re(l.$$.fragment,a),r=!0)},o(a){ce(l.$$.fragment,a),r=!1},d(a){a&&p(t),Qe(l)}}}function za(e){let t,n,l,i,r;function o(a){e[35](a)}let s={};return e[5]!==void 0&&(s.value=e[5]),l=new Ki({props:s}),gt.push(()=>mt(l,"value",o)),{c(){t=b("div"),n=q(`Color for 'effectsize abs':\r
					`),Ze(l.$$.fragment),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);n=U(u,`Color for 'effectsize abs':\r
					`),et(l.$$.fragment,u),u.forEach(p),this.h()},h(){Y(t,"margin-left","50px")},m(a,u){M(a,t,u),c(t,n),Je(l,t,null),r=!0},p(a,u){const f={};!i&&u[0]&32&&(i=!0,f.value=a[5],_t(()=>i=!1)),l.$set(f)},i(a){r||(re(l.$$.fragment,a),r=!0)},o(a){ce(l.$$.fragment,a),r=!1},d(a){a&&p(t),Qe(l)}}}function hh(e){let t,n,l,i,r,o,s,a,u,f="Barplot",d,g,m,_,v,y,C="Lollipop chart",I,G,V,A,D,H,T,L,P,j,F,X,W,ae,Se,we,O,oe,de,pe,me,se,z,ue,x=e[1][0]+"",Ie,Me,Xe,$e,Ve,ge,lt,Le,ye,Be,B,fe,$,xe,Ke,je,qe,at,ht,De,it,nt,Fe,rt="download",ve,Q,Ee,k,te,Ge,ke,Re,J,be=e[18].has("pvalue"),ut,K=e[18].has("effectsize_up"),ee,Z=e[18].has("effectsize_down"),Ce,Te=e[18].has("effectsize_abs"),ot,pt,tt,dt="Grid:",We,ct,Yt,xt,qt,St,Tt,In,en;function el(ie){e[24](ie)}let tn={min:100,max:600,step:25,pipstep:5,pips:!0,first:"label",last:"label",rest:"pip"};e[9]!==void 0&&(tn.values=e[9]),H=new jt({props:tn}),gt.push(()=>mt(H,"values",el));function Tn(ie){e[25](ie)}let Yl={min:10,max:30,step:1,pipstep:5,pips:!0,first:"label",last:"label",rest:"pip"};e[10]!==void 0&&(Yl.values=e[10]),W=new jt({props:Yl}),gt.push(()=>mt(W,"values",Tn));function Kl(ie){e[26](ie)}let dn={min:3,max:8,step:1,pipstep:1,pips:!0,first:"label",last:"label",rest:"pip"};e[11]!==void 0&&(dn.values=e[11]),pe=new jt({props:dn}),gt.push(()=>mt(pe,"values",Kl));function _n(ie){e[27](ie)}let Kt={min:20,max:100,step:1,pipstep:10,pips:!0,first:"label",last:"label",rest:"pip"};e[1]!==void 0&&(Kt.values=e[1]),Xe=new jt({props:Kt}),gt.push(()=>mt(Xe,"values",_n));function Zl(ie){e[28](ie)}let tl={min:10,max:25,step:1,pipstep:3,pips:!0,first:"label",last:"label",rest:"pip"};e[12]!==void 0&&(tl.values=e[12]),Be=new jt({props:tl}),gt.push(()=>mt(Be,"values",Zl));function Jl(ie){e[29](ie)}let cn={min:10,max:25,step:1,pipstep:3,pips:!0,first:"label",last:"label",rest:"pip"};e[13]!==void 0&&(cn.values=e[13]),qe=new jt({props:cn}),gt.push(()=>mt(qe,"values",Jl));let An=_e(e[16]),Mt=[];for(let ie=0;ie<An.length;ie+=1)Mt[ie]=Va(Da(e,An,ie));let yt=be&&Ta(e),kt=K&&Fa(e),Ct=Z&&Pa(e),bt=Te&&za(e);return St=new fh({props:{selectedSourceIndex:e[0],barplotData:e[6],maxGenesetSize:e[15],barplotType:e[8],colors:e[17],widthPlotArea:e[9][0],xScalefactor:e[11][0],showGrid:e[14],barHeight:e[10][0],textSize:e[12][0],labelSize:e[13][0],topn:e[20]}}),{c(){t=b("div"),n=b("div"),l=b("div"),i=b("div"),r=b("div"),o=b("input"),a=R(),u=b("label"),u.textContent=f,d=R(),g=b("div"),m=b("input"),v=R(),y=b("label"),y.textContent=C,I=R(),G=b("div"),V=q("Plot width: "),A=q(e[9]),D=R(),Ze(H.$$.fragment),L=R(),P=b("div"),j=q("Row height: "),F=q(e[10]),X=R(),Ze(W.$$.fragment),Se=R(),we=b("div"),O=q("X-axis ticks: "),oe=q(e[11]),de=R(),Ze(pe.$$.fragment),se=R(),z=b("div"),ue=q("Max. text length: "),Ie=q(x),Me=R(),Ze(Xe.$$.fragment),Ve=R(),ge=b("div"),lt=q("Geneset name size: "),Le=q(e[12]),ye=R(),Ze(Be.$$.fragment),fe=R(),$=b("div"),xe=q("X-axis label size: "),Ke=q(e[13]),je=R(),Ze(qe.$$.fragment),ht=R(),De=b("div"),it=b("div"),nt=b("div"),Fe=b("button"),Fe.textContent=rt,ve=R(),Q=b("i"),Ee=R(),k=b("div"),te=q(`Limit to topN:\r
				`),Ge=b("br"),ke=R(),Re=b("select");for(let ie=0;ie<Mt.length;ie+=1)Mt[ie].c();J=R(),yt&&yt.c(),ut=R(),kt&&kt.c(),ee=R(),Ct&&Ct.c(),Ce=R(),bt&&bt.c(),ot=R(),pt=b("div"),tt=b("div"),tt.textContent=dt,We=R(),ct=b("div"),Yt=b("input"),xt=R(),qt=b("div"),Ze(St.$$.fragment),this.h()},l(ie){t=w(ie,"DIV",{style:!0});var Ne=S(t);n=w(Ne,"DIV",{style:!0});var It=S(n);l=w(It,"DIV",{style:!0});var vt=S(l);i=w(vt,"DIV",{});var Ot=S(i);r=w(Ot,"DIV",{});var mn=S(r);o=w(mn,"INPUT",{type:!0,id:!0,name:!0}),a=E(mn),u=w(mn,"LABEL",{for:!0,"data-svelte-h":!0}),he(u)!=="svelte-njryio"&&(u.textContent=f),mn.forEach(p),d=E(Ot),g=w(Ot,"DIV",{});var Ft=S(g);m=w(Ft,"INPUT",{type:!0,id:!0,name:!0}),v=E(Ft),y=w(Ft,"LABEL",{for:!0,"data-svelte-h":!0}),he(y)!=="svelte-18ebw30"&&(y.textContent=C),Ft.forEach(p),Ot.forEach(p),I=E(vt),G=w(vt,"DIV",{});var gn=S(G);V=U(gn,"Plot width: "),A=U(gn,e[9]),D=E(gn),et(H.$$.fragment,gn),gn.forEach(p),L=E(vt),P=w(vt,"DIV",{});var Rt=S(P);j=U(Rt,"Row height: "),F=U(Rt,e[10]),X=E(Rt),et(W.$$.fragment,Rt),Rt.forEach(p),Se=E(vt),we=w(vt,"DIV",{});var At=S(we);O=U(At,"X-axis ticks: "),oe=U(At,e[11]),de=E(At),et(pe.$$.fragment,At),At.forEach(p),se=E(vt),z=w(vt,"DIV",{});var zt=S(z);ue=U(zt,"Max. text length: "),Ie=U(zt,x),Me=E(zt),et(Xe.$$.fragment,zt),zt.forEach(p),Ve=E(vt),ge=w(vt,"DIV",{});var Fn=S(ge);lt=U(Fn,"Geneset name size: "),Le=U(Fn,e[12]),ye=E(Fn),et(Be.$$.fragment,Fn),Fn.forEach(p),fe=E(vt),$=w(vt,"DIV",{});var Pn=S($);xe=U(Pn,"X-axis label size: "),Ke=U(Pn,e[13]),je=E(Pn),et(qe.$$.fragment,Pn),Pn.forEach(p),vt.forEach(p),ht=E(It),De=w(It,"DIV",{style:!0});var Dt=S(De);it=w(Dt,"DIV",{style:!0});var Ql=S(it);nt=w(Ql,"DIV",{style:!0});var Yn=S(nt);Fe=w(Yn,"BUTTON",{"data-svelte-h":!0}),he(Fe)!=="svelte-12bxta8"&&(Fe.textContent=rt),ve=E(Yn),Q=w(Yn,"I",{class:!0,style:!0,"data-tooltip":!0}),S(Q).forEach(p),Yn.forEach(p),Ql.forEach(p),Ee=E(Dt),k=w(Dt,"DIV",{style:!0});var sn=S(k);te=U(sn,`Limit to topN:\r
				`),Ge=w(sn,"BR",{}),ke=E(sn),Re=w(sn,"SELECT",{});var $l=S(Re);for(let nl=0;nl<Mt.length;nl+=1)Mt[nl].l($l);$l.forEach(p),sn.forEach(p),J=E(Dt),yt&&yt.l(Dt),ut=E(Dt),kt&&kt.l(Dt),ee=E(Dt),Ct&&Ct.l(Dt),Ce=E(Dt),bt&&bt.l(Dt),ot=E(Dt),pt=w(Dt,"DIV",{style:!0});var Kn=S(pt);tt=w(Kn,"DIV",{"data-svelte-h":!0}),he(tt)!=="svelte-j81zj8"&&(tt.textContent=dt),We=E(Kn),ct=w(Kn,"DIV",{style:!0});var vn=S(ct);Yt=w(vn,"INPUT",{id:!0,type:!0}),vn.forEach(p),Kn.forEach(p),Dt.forEach(p),It.forEach(p),xt=E(Ne),qt=w(Ne,"DIV",{});var wl=S(qt);et(St.$$.fragment,wl),wl.forEach(p),Ne.forEach(p),this.h()},h(){h(o,"type","radio"),h(o,"id","rdioBarplot"),h(o,"name","rdioPlottype"),o.checked=s=e[8]=="barplot",h(u,"for","rdioBarplot"),h(m,"type","radio"),h(m,"id","rdioLollipop"),h(m,"name","rdioPlottype"),m.checked=_=e[8]=="lollipop",h(y,"for","rdioLollipop"),Y(l,"display","flex"),Y(l,"justify-content","space-between"),h(Q,"class","helpicon"),Y(Q,"margin-left","5px"),h(Q,"data-tooltip",Wl.DOWNLOAD),Y(nt,"display","flex"),Y(it,"align-self","flex-end"),e[19]===void 0&&Wn(()=>e[31].call(Re)),Y(k,"margin-left","80px"),h(Yt,"id","chkShowGrid"),h(Yt,"type","checkbox"),Y(ct,"margin-top","5px"),Y(pt,"margin-left","80px"),Y(De,"display","flex"),Y(De,"justify-content","start"),Y(n,"margin-bottom","50px"),Y(n,"border-bottom","1px solid grey"),Y(n,"padding-bottom","20px"),Y(t,"min-height","900px")},m(ie,Ne){M(ie,t,Ne),c(t,n),c(n,l),c(l,i),c(i,r),c(r,o),c(r,a),c(r,u),c(i,d),c(i,g),c(g,m),c(g,v),c(g,y),c(l,I),c(l,G),c(G,V),c(G,A),c(G,D),Je(H,G,null),c(l,L),c(l,P),c(P,j),c(P,F),c(P,X),Je(W,P,null),c(l,Se),c(l,we),c(we,O),c(we,oe),c(we,de),Je(pe,we,null),c(l,se),c(l,z),c(z,ue),c(z,Ie),c(z,Me),Je(Xe,z,null),c(l,Ve),c(l,ge),c(ge,lt),c(ge,Le),c(ge,ye),Je(Be,ge,null),c(l,fe),c(l,$),c($,xe),c($,Ke),c($,je),Je(qe,$,null),c(n,ht),c(n,De),c(De,it),c(it,nt),c(nt,Fe),c(nt,ve),c(nt,Q),c(De,Ee),c(De,k),c(k,te),c(k,Ge),c(k,ke),c(k,Re);for(let It=0;It<Mt.length;It+=1)Mt[It]&&Mt[It].m(Re,null);rn(Re,e[19],!0),c(De,J),yt&&yt.m(De,null),c(De,ut),kt&&kt.m(De,null),c(De,ee),Ct&&Ct.m(De,null),c(De,Ce),bt&&bt.m(De,null),c(De,ot),c(De,pt),c(pt,tt),c(pt,We),c(pt,ct),c(ct,Yt),Yt.checked=e[14],c(t,xt),c(t,qt),Je(St,qt,null),Tt=!0,In||(en=[le(o,"change",e[22]),le(m,"change",e[23]),le(Fe,"click",e[30]),le(Re,"change",e[31]),le(Yt,"change",e[36])],In=!0)},p(ie,Ne){(!Tt||Ne[0]&256&&s!==(s=ie[8]=="barplot"))&&(o.checked=s),(!Tt||Ne[0]&256&&_!==(_=ie[8]=="lollipop"))&&(m.checked=_),(!Tt||Ne[0]&512)&&Ae(A,ie[9]);const It={};!T&&Ne[0]&512&&(T=!0,It.values=ie[9],_t(()=>T=!1)),H.$set(It),(!Tt||Ne[0]&1024)&&Ae(F,ie[10]);const vt={};!ae&&Ne[0]&1024&&(ae=!0,vt.values=ie[10],_t(()=>ae=!1)),W.$set(vt),(!Tt||Ne[0]&2048)&&Ae(oe,ie[11]);const Ot={};!me&&Ne[0]&2048&&(me=!0,Ot.values=ie[11],_t(()=>me=!1)),pe.$set(Ot),(!Tt||Ne[0]&2)&&x!==(x=ie[1][0]+"")&&Ae(Ie,x);const mn={};!$e&&Ne[0]&2&&($e=!0,mn.values=ie[1],_t(()=>$e=!1)),Xe.$set(mn),(!Tt||Ne[0]&4096)&&Ae(Le,ie[12]);const Ft={};!B&&Ne[0]&4096&&(B=!0,Ft.values=ie[12],_t(()=>B=!1)),Be.$set(Ft),(!Tt||Ne[0]&8192)&&Ae(Ke,ie[13]);const gn={};if(!at&&Ne[0]&8192&&(at=!0,gn.values=ie[13],_t(()=>at=!1)),qe.$set(gn),Ne[0]&65536){An=_e(ie[16]);let At;for(At=0;At<An.length;At+=1){const zt=Da(ie,An,At);Mt[At]?Mt[At].p(zt,Ne):(Mt[At]=Va(zt),Mt[At].c(),Mt[At].m(Re,null))}for(;At<Mt.length;At+=1)Mt[At].d(1);Mt.length=An.length}Ne[0]&589824&&rn(Re,ie[19]),Ne[0]&262144&&(be=ie[18].has("pvalue")),be?yt?(yt.p(ie,Ne),Ne[0]&262144&&re(yt,1)):(yt=Ta(ie),yt.c(),re(yt,1),yt.m(De,ut)):yt&&(Nt(),ce(yt,1,1,()=>{yt=null}),Ht()),Ne[0]&262144&&(K=ie[18].has("effectsize_up")),K?kt?(kt.p(ie,Ne),Ne[0]&262144&&re(kt,1)):(kt=Fa(ie),kt.c(),re(kt,1),kt.m(De,ee)):kt&&(Nt(),ce(kt,1,1,()=>{kt=null}),Ht()),Ne[0]&262144&&(Z=ie[18].has("effectsize_down")),Z?Ct?(Ct.p(ie,Ne),Ne[0]&262144&&re(Ct,1)):(Ct=Pa(ie),Ct.c(),re(Ct,1),Ct.m(De,Ce)):Ct&&(Nt(),ce(Ct,1,1,()=>{Ct=null}),Ht()),Ne[0]&262144&&(Te=ie[18].has("effectsize_abs")),Te?bt?(bt.p(ie,Ne),Ne[0]&262144&&re(bt,1)):(bt=za(ie),bt.c(),re(bt,1),bt.m(De,ot)):bt&&(Nt(),ce(bt,1,1,()=>{bt=null}),Ht()),Ne[0]&16384&&(Yt.checked=ie[14]);const Rt={};Ne[0]&1&&(Rt.selectedSourceIndex=ie[0]),Ne[0]&64&&(Rt.barplotData=ie[6]),Ne[0]&32768&&(Rt.maxGenesetSize=ie[15]),Ne[0]&256&&(Rt.barplotType=ie[8]),Ne[0]&131072&&(Rt.colors=ie[17]),Ne[0]&512&&(Rt.widthPlotArea=ie[9][0]),Ne[0]&2048&&(Rt.xScalefactor=ie[11][0]),Ne[0]&16384&&(Rt.showGrid=ie[14]),Ne[0]&1024&&(Rt.barHeight=ie[10][0]),Ne[0]&4096&&(Rt.textSize=ie[12][0]),Ne[0]&8192&&(Rt.labelSize=ie[13][0]),St.$set(Rt)},i(ie){Tt||(re(H.$$.fragment,ie),re(W.$$.fragment,ie),re(pe.$$.fragment,ie),re(Xe.$$.fragment,ie),re(Be.$$.fragment,ie),re(qe.$$.fragment,ie),re(yt),re(kt),re(Ct),re(bt),re(St.$$.fragment,ie),Tt=!0)},o(ie){ce(H.$$.fragment,ie),ce(W.$$.fragment,ie),ce(pe.$$.fragment,ie),ce(Xe.$$.fragment,ie),ce(Be.$$.fragment,ie),ce(qe.$$.fragment,ie),ce(yt),ce(kt),ce(Ct),ce(bt),ce(St.$$.fragment,ie),Tt=!1},d(ie){ie&&p(t),Qe(H),Qe(W),Qe(pe),Qe(Xe),Qe(Be),Qe(qe),st(Mt,ie),yt&&yt.d(),kt&&kt.d(),Ct&&Ct.d(),bt&&bt.d(),Qe(St),In=!1,Xt(en)}}}function ph(e,t,n){let l,i,r,o,s,a,u,f;Vt(e,on,x=>n(7,u=x));function d(x,Ie,Me,Xe){if(typeof x=="object"&&Array.isArray(x.genesets)&&x.genesets.length>Ie){let Ve=x.genesets[Ie].genesets.filter(ge=>ge.signif===!0).map(ge=>({id:ge.id,name:$r(ge.name,Xe),size:ge.ngenes,score_type:ge.score_type,ngenes:ge.ngenes,pvalue_adjust:ge.pvalue_adjust,value:-1*Math.log10(ge.pvalue_adjust)}));return Ve.sort((ge,lt)=>ge.value-lt.value),ql(Me)>0&&(Ve=Ve.slice(-ql(Me))),Ve}return[]}let{selectedSourceIndex:g=0}=t,m="barplot",_=[300],v=[20],y=[5],C=[16],I=[60],G=[20];const V=un(0);Vt(e,V,x=>n(19,f=x));let A=!0,D="#5E7ABC",H="#E57373",T="#5E7ABC",L="#5E7ABC";const P=[{key:0,label:"all significant"},{key:100,label:"top 100"},{key:75,label:"top 75"},{key:50,label:"top 50"},{key:40,label:"top 40"},{key:30,label:"top 30"},{key:25,label:"top 25"},{key:20,label:"top 20"},{key:15,label:"top 15"},{key:10,label:"top 10"}],j=x=>{n(8,m="barplot")},F=x=>{n(8,m="lollipop")};function X(x){_=x,n(9,_)}function W(x){v=x,n(10,v)}function ae(x){y=x,n(11,y)}function Se(x){I=x,n(1,I)}function we(x){C=x,n(12,C)}function O(x){G=x,n(13,G)}const oe=()=>Yi("mybarplot","GOAT-online__barplot_"+u.genesets[g].source);function de(){f=Ul(this),V.set(f),n(16,s),n(21,o),n(6,l),n(7,u),n(0,g),n(1,I)}function pe(x){D=x,n(2,D)}function me(x){H=x,n(3,H)}function se(x){T=x,n(4,T)}function z(x){L=x,n(5,L)}function ue(){A=this.checked,n(14,A)}return e.$$set=x=>{"selectedSourceIndex"in x&&n(0,g=x.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty[0]&131&&n(6,l=d(u,g,V,[I])),e.$$.dirty[0]&64&&n(18,i=new Set(l.map(x=>x.score_type))),e.$$.dirty[0]&60&&n(17,r={pvalue:D,effectsize_up:H,effectsize_down:T,effectsize_abs:L}),e.$$.dirty[0]&193&&n(21,o=Array.isArray(l)&&l.length>0&&u.genesets[g].stats.signif_count||0),e.$$.dirty[0]&2097152&&n(16,s=P.filter(x=>x.key===0||x.key<o)),e.$$.dirty[0]&1&&V.update(x=>0),e.$$.dirty[0]&128&&n(15,a=typeof u=="object"&&typeof u.genesetStats=="object"&&Math.max(100,Math.min(1e3,u.genesetStats.signif_max_ngenes||0))||100)},[g,I,D,H,T,L,l,u,m,_,v,y,C,G,A,a,s,r,i,f,V,o,j,F,X,W,ae,Se,we,O,oe,de,pe,me,se,z,ue]}class _h extends Wt{constructor(t){super(),$t(this,t,ph,hh,Qt,{selectedSourceIndex:0},null,[-1,-1])}}async function vf(e,t){const n=ql(on);if(n===void 0||!Array.isArray(n.genesets)||typeof n.genesets[e]!="object"||n.dag[e]===!1||n.dag[e]!==null&&typeof n.dag[e]=="object")return;t.update(r=>!0);const l=mh(n,e);if(l===void 0){n.dag[e]=!1,on.update(r=>n),t.update(r=>!1);return}vh(l),l.linksNested=Ga(l.nodes,l.links,l.root),l.linksTree=wh(l.links),l.linksTreeNested=Ga(l.nodes,l.linksTree,l.root),n.dag[e]=l,on.update(r=>n),await(r=>new Promise(o=>setTimeout(o,r)))(100),t.update(r=>!1)}function mh(e,t){const n=Date.now();if(typeof e!="object"||!Array.isArray(e.genesets)||e.genesets.length<=t||e.hasDag!==!0||!Array.isArray(e.genesets[t].genesets)||!Array.isArray(e.genelist))return;const l=e.genesets[t].genesets,i=l.filter(D=>D.signif===!0),r=i.length;if(r===0)return;const o=i.reduce((D,H)=>(D[H.id]=H,D),{}),s=Object.keys(o),a=l.reduce((D,H)=>(D[H.id]=H.parents,D),{}),u={},f=Object.keys(e.genelist[0]),d=["score_pvalue","score_effectsize_up","score_effectsize_down","score_effectsize_abs"].filter(D=>f.indexOf(D)!==-1),g=d.length;if(g===0){console.error(e.genelist),console.error("no score columns in genelist");return}const m=e.genelist.length;let _,v;for(let D=0;D<g;D++){_=d[D].replace("score_",""),v={};for(let H=0;H<m;H++)v[e.genelist[H].gene]=e.genelist[H][d[D]];u[_]=v}let y=0,C="",I;const G=new Set,V=[],A=[];for(let D=0;D<r;D++)if(I=[],bf(i[D].id,I,a,s),y=I.length,y===0)V.push(i[D].id);else for(let H=0;H<y;H++)C=i[D].id+" "+I[H],G.has(C)===!1&&(A.push({id:C,source:i[D].id,target:I[H],scoreType:i[D].score_type,weight:bh(i[D].genes,o[I[H]].genes,u[i[D].score_type])}),G.add(C));if(V.length===0){console.error("invalid input edgelist; not a DAG because the graph is circular (i.e. every parent is a child of another parent)");return}return console.log("genesetDAG() took; "+(Date.now()-n)+"ms"),{nodes:i,links:A,roots:V}}function vh(e){const t=e.roots.length;if(t>1||t===1&&e.links.length===0){const n="__root__"+Date.now();e.root=n,e.nodes.push({id:n,name:"root",isMock:!0});for(let l=0;l<t;l++)e.links.push({id:e.roots[l]+" "+n,source:e.roots[l],target:n,scoreType:"",weight:0,isMock:!0});e.nodes=e.nodes,e.links=e.links}else e.root=e.roots[0]}function bf(e,t,n,l){const i=n[e];if(Array.isArray(i)&&i.length!==0){const r=i.length;for(let o=0;o<r;o++)l.indexOf(i[o])!==-1?t.push(i[o]):bf(i[o],t,n,l)}}function bh(e,t,n){const l=e.filter(o=>t.indexOf(o)!==-1);if(l.length===0)return 0;const i=l.reduce((o,s)=>(o+=n[s]||0,o),0),r=t.reduce((o,s)=>(o+=n[s]||0,o),0);return i/r}function wh(e){if(!Array.isArray(e)||e.length===0)return;const t=[],n=new Set;e.sort((i,r)=>i.weight-r.weight);const l=e.length;for(let i=0;i<l;i++)n.has(e[i].source)===!1&&(t.push(e[i]),n.add(e[i].source));return t}function wf(e,t,n){e.level=e.level||0,e.children=[];const l=n[e.id]||[],i=l.length;for(let r=0;r<i;r++){const o=t[l[r].source];if(o===void 0)console.error(l[r]),console.error("unknown child ID in this edge, cannot find '"+l[r].source+"' in nodesLookup");else{const s={id:o.id,name:o.name,ngenes:o.ngenes,ngenes_input:o.ngenes_input,ngenes_signif:o.ngenes_signif,pvalue:o.pvalue,pvalue_adjust:o.pvalue_adjust,signif:o.signif,score_type:o.score_type,level:e.level+1,weight:l[r].weight};e.children.push(wf(s,t,n))}}return e}function Ga(e,t,n){let l={};if(!Array.isArray(t)||t.length===0)return l;const i=e.reduce((s,a)=>(s[a.id]=a,s),{}),r=t.reduce((s,a)=>(s[a.target]===void 0?s[a.target]=[a]:s[a.target]=s[a.target].concat(a),s),{}),o=i[n];if(o===void 0){console.error("Cannot find root in node lookup; "+n),console.error(i);return}return l=o,l.level=0,l.weight=o.weight||0,l.ngenes=o.ngenes||0,l=wf(l,i,r),l}function yh(e){const t=[];return yf(e,t,0,-1,[]),Sh(t),t}function yf(e,t,n,l,i){const r=Array.isArray(e.children)?e.children.length:0;for(let o=0;o<r;o++){const s=e.children[o],a=Array.isArray(s.children)?s.children.length:0,u=l===-1?[]:i.concat(l);s.name=s.label||s.name,s.value=s.hasOwnProperty("weight")?s.weight:s.value,t.push({id:s.id,name:s.name,value:s.value,pvalue_adjust:s.pvalue_adjust,displayName:s.name,siblingCount:r,parentIndex:l,parentIndexRecursive:u,childIndexRecursive:[],childCount:a,childCountRecursive:0,isLastChild:o===r-1,level:n+1,isCollapsed:!1}),yf(s,t,n+1,t.length-1,u)}}function Sh(e){const t=e.length;let n=0;for(let l=0;l<t;l++){n=e[l].parentIndexRecursive.length;for(let i=0;i<n;i++)e[e[l].parentIndexRecursive[i]].childIndexRecursive.push(l)}for(let l=0;l<t;l++)e[l].childCountRecursive=e[l].childIndexRecursive.length,e[l].parentID=e[l].parentIndex===-1?"":e[e[l].parentIndex].id}function Ch(e,t){if(Array.isArray(e)){const r=e.length;let o;for(let s=0;s<r;s++)e[s].isCollapsed=!1,e[s].remove=!1;for(let s=0;s<r;s++)if(t.has(e[s].id)&&(e[s].isCollapsed=!0,Array.isArray(e[s].childIndexRecursive))){o=e[s].childIndexRecursive.length;for(let a=0;a<o;a++)e[e[s].childIndexRecursive[a]].remove=!0}}const n=e.filter(r=>r.remove!==!0),l=n.map(r=>r.id),i=n.length;for(let r=0;r<i;r++)n[r].parentIndex=n[r].parentID===void 0?-1:l.indexOf(n[r].parentID),n[r].parentIndexRecursive=void 0,n[r].childIndexRecursive=[];return n}function kh(e,t,n,l){if(!Array.isArray(e))return;const i=e.length,r=n+"px sans-serif";let o=0;for(let s=0;s<i;s++)e[s].displayName=(e[s].isCollapsed===!0?"*":"")+$r(e[s].name,t)+(e[s].isCollapsed===!0?" (c="+e[s].childCountRecursive+")":"")+(l===!0&&e[s].pvalue_adjust!==void 0?" (p = "+Oi(e[s].pvalue_adjust)+")":""),o=Math.max(o,gi(e[s].displayName,r));return o}function Na(e,t,n){const l=e.slice();return l[25]=t[n],l[27]=n,l}function Ha(e,t,n){const l=e.slice();return l[25]=t[n],l[27]=n,l}function Rh(e){let t,n,l,i,r=e[3][0]+"",o,s,a,u,f,d,g,m=e[1][0]+"",_,v,y,C,I,G,V,A=e[2][0]+"",D,H,T,L,P,j,F,X,W,ae,Se,we,O,oe,de="download",pe,me,se,z,ue,x,Ie;function Me(B){e[17](B)}let Xe={min:4,max:30,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[3]!==void 0&&(Xe.values=e[3]),a=new jt({props:Xe}),gt.push(()=>mt(a,"values",Me));function $e(B){e[18](B)}let Ve={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[1]!==void 0&&(Ve.values=e[1]),y=new jt({props:Ve}),gt.push(()=>mt(y,"values",$e));function ge(B){e[19](B)}let lt={min:20,max:100,step:1,pipstep:10,pips:!0,first:"label",last:"label",rest:"pip"};e[2]!==void 0&&(lt.values=e[2]),T=new jt({props:lt}),gt.push(()=>mt(T,"values",ge));function Le(B,fe){return B[5]!==void 0?Mh:Ah}let ye=Le(e),Be=ye(e);return{c(){t=b("div"),n=b("div"),l=b("div"),i=q("Row height: "),o=q(r),s=R(),Ze(a.$$.fragment),f=R(),d=b("div"),g=q("Geneset name size: "),_=q(m),v=R(),Ze(y.$$.fragment),I=R(),G=b("div"),V=q("Max. text length: "),D=q(A),H=R(),Ze(T.$$.fragment),P=R(),j=b("div"),F=b("input"),X=q(" Show"),W=b("br"),ae=q("adjusted p-values"),Se=R(),we=b("div"),O=b("div"),oe=b("button"),oe.textContent=de,pe=R(),me=b("i"),se=R(),z=b("div"),Be.c(),this.h()},l(B){t=w(B,"DIV",{style:!0});var fe=S(t);n=w(fe,"DIV",{style:!0});var $=S(n);l=w($,"DIV",{});var xe=S(l);i=U(xe,"Row height: "),o=U(xe,r),s=E(xe),et(a.$$.fragment,xe),xe.forEach(p),f=E($),d=w($,"DIV",{});var Ke=S(d);g=U(Ke,"Geneset name size: "),_=U(Ke,m),v=E(Ke),et(y.$$.fragment,Ke),Ke.forEach(p),I=E($),G=w($,"DIV",{});var je=S(G);V=U(je,"Max. text length: "),D=U(je,A),H=E(je),et(T.$$.fragment,je),je.forEach(p),P=E($),j=w($,"DIV",{});var qe=S(j);F=w(qe,"INPUT",{type:!0}),X=U(qe," Show"),W=w(qe,"BR",{}),ae=U(qe,"adjusted p-values"),qe.forEach(p),$.forEach(p),Se=E(fe),we=w(fe,"DIV",{style:!0});var at=S(we);O=w(at,"DIV",{style:!0});var ht=S(O);oe=w(ht,"BUTTON",{"data-svelte-h":!0}),he(oe)!=="svelte-11womkd"&&(oe.textContent=de),pe=E(ht),me=w(ht,"I",{class:!0,style:!0,"data-tooltip":!0}),S(me).forEach(p),ht.forEach(p),at.forEach(p),fe.forEach(p),se=E(B),z=w(B,"DIV",{});var De=S(z);Be.l(De),De.forEach(p),this.h()},h(){h(F,"type","checkbox"),Y(n,"display","flex"),Y(n,"justify-content","space-between"),h(me,"class","helpicon"),Y(me,"margin-left","5px"),h(me,"data-tooltip",Wl.DOWNLOAD),Y(O,"display","flex"),Y(we,"align-self","flex-end"),Y(t,"margin-bottom","50px"),Y(t,"border-bottom","1px solid grey"),Y(t,"padding-bottom","20px")},m(B,fe){M(B,t,fe),c(t,n),c(n,l),c(l,i),c(l,o),c(l,s),Je(a,l,null),c(n,f),c(n,d),c(d,g),c(d,_),c(d,v),Je(y,d,null),c(n,I),c(n,G),c(G,V),c(G,D),c(G,H),Je(T,G,null),c(n,P),c(n,j),c(j,F),F.checked=e[4],c(j,X),c(j,W),c(j,ae),c(t,Se),c(t,we),c(we,O),c(O,oe),c(O,pe),c(O,me),M(B,se,fe),M(B,z,fe),Be.m(z,null),ue=!0,x||(Ie=[le(F,"change",e[20]),le(oe,"click",e[21])],x=!0)},p(B,fe){(!ue||fe&8)&&r!==(r=B[3][0]+"")&&Ae(o,r);const $={};!u&&fe&8&&(u=!0,$.values=B[3],_t(()=>u=!1)),a.$set($),(!ue||fe&2)&&m!==(m=B[1][0]+"")&&Ae(_,m);const xe={};!C&&fe&2&&(C=!0,xe.values=B[1],_t(()=>C=!1)),y.$set(xe),(!ue||fe&4)&&A!==(A=B[2][0]+"")&&Ae(D,A);const Ke={};!L&&fe&4&&(L=!0,Ke.values=B[2],_t(()=>L=!1)),T.$set(Ke),fe&16&&(F.checked=B[4]),ye===(ye=Le(B))&&Be?Be.p(B,fe):(Be.d(1),Be=ye(B),Be&&(Be.c(),Be.m(z,null)))},i(B){ue||(re(a.$$.fragment,B),re(y.$$.fragment,B),re(T.$$.fragment,B),ue=!0)},o(B){ce(a.$$.fragment,B),ce(y.$$.fragment,B),ce(T.$$.fragment,B),ue=!1},d(B){B&&(p(t),p(se),p(z)),Qe(a),Qe(y),Qe(T),Be.d(),x=!1,Xt(Ie)}}}function Eh(e){let t,n,l,i,r;function o(a){e[16](a)}let s={colour:"black",size:"1.5em"};return e[8]!==void 0&&(s.show=e[8]),n=new Xn({props:s}),gt.push(()=>mt(n,"show",o)),{c(){t=b("div"),Ze(n.$$.fragment),i=q(`\r
			computing...`)},l(a){t=w(a,"DIV",{});var u=S(t);et(n.$$.fragment,u),i=U(u,`\r
			computing...`),u.forEach(p)},m(a,u){M(a,t,u),Je(n,t,null),c(t,i),r=!0},p(a,u){const f={};!l&&u&256&&(l=!0,f.show=a[8],_t(()=>l=!1)),n.$set(f)},i(a){r||(re(n.$$.fragment,a),r=!0)},o(a){ce(n.$$.fragment,a),r=!1},d(a){a&&p(t),Qe(n)}}}function Ih(e){let t,n=`The genesets do not incorporate parent-child relations; visualization of tree-structure is not\r
			available.`;return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),he(t)!=="svelte-xgyj99"&&(t.textContent=n)},m(l,i){M(l,t,i)},p:ft,i:ft,o:ft,d(l){l&&p(t)}}}function Ah(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),he(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){M(l,t,i)},p:ft,d(l){l&&p(t)}}}function Mh(e){let t,n,l,i,r,o,s,a=_e(e[5]),u=[];for(let g=0;g<a.length;g+=1)u[g]=Oa(Ha(e,a,g));let f=_e(e[5]),d=[];for(let g=0;g<f.length;g+=1)d[g]=Ba(Na(e,f,g));return{c(){t=b("div"),n=He("svg"),l=He("g");for(let g=0;g<u.length;g+=1)u[g].c();i=He("g");for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){t=w(g,"DIV",{id:!0});var m=S(t);n=Oe(m,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var _=S(n);l=Oe(_,"g",{});var v=S(l);for(let C=0;C<u.length;C+=1)u[C].l(v);v.forEach(p),i=Oe(_,"g",{});var y=S(i);for(let C=0;C<d.length;C+=1)d[C].l(y);y.forEach(p),_.forEach(p),m.forEach(p),this.h()},h(){h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",r=e[9]+2*wt),h(n,"height",o=e[10]+2*wt),h(n,"viewBox",s="0 0 "+(e[9]+2*wt)+" "+(e[10]+2*wt)),h(t,"id","mytree")},m(g,m){M(g,t,m),c(t,n),c(n,l);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(l,null);c(n,i);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(i,null)},p(g,m){if(m&10282){a=_e(g[5]);let _;for(_=0;_<a.length;_+=1){const v=Ha(g,a,_);u[_]?u[_].p(v,m):(u[_]=Oa(v),u[_].c(),u[_].m(l,null))}for(;_<u.length;_+=1)u[_].d(1);u.length=a.length}if(m&8232){f=_e(g[5]);let _;for(_=0;_<f.length;_+=1){const v=Na(g,f,_);d[_]?d[_].p(v,m):(d[_]=Ba(v),d[_].c(),d[_].m(i,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=f.length}m&512&&r!==(r=g[9]+2*wt)&&h(n,"width",r),m&1024&&o!==(o=g[10]+2*wt)&&h(n,"height",o),m&1536&&s!==(s="0 0 "+(g[9]+2*wt)+" "+(g[10]+2*wt))&&h(n,"viewBox",s)},d(g){g&&p(t),st(u,g),st(d,g)}}}function Oa(e){let t,n=e[25].displayName+"",l,i,r,o,s,a;function u(...f){return e[22](e[25],...f)}return{c(){t=He("text"),l=q(n),this.h()},l(f){t=Oe(f,"text",{"font-size":!0,"text-anchor":!0,"dominant-baseline":!0,"font-family":!0,x:!0,y:!0,cursor:!0});var d=S(t);l=U(d,n),d.forEach(p),this.h()},h(){h(t,"font-size",i=e[1][0]+"px"),h(t,"text-anchor","begin"),h(t,"dominant-baseline","middle"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"x",r=Math.ceil((e[25].level+.5)*Rn)+3+wt),h(t,"y",o=e[13]+e[27]*e[3][0]+wt),h(t,"cursor","pointer")},m(f,d){M(f,t,d),c(t,l),s||(a=le(t,"click",u),s=!0)},p(f,d){e=f,d&32&&n!==(n=e[25].displayName+"")&&Ae(l,n),d&2&&i!==(i=e[1][0]+"px")&&h(t,"font-size",i),d&32&&r!==(r=Math.ceil((e[25].level+.5)*Rn)+3+wt)&&h(t,"x",r),d&8&&o!==(o=e[13]+e[27]*e[3][0]+wt)&&h(t,"y",o)},d(f){f&&p(t),s=!1,a()}}}function La(e){let t,n,l,i,r;return{c(){t=He("line"),this.h()},l(o){t=Oe(o,"line",{"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),this.h()},h(){h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"x1",n=(e[25].level-1)*Rn+wt),h(t,"y1",l=e[13]+Math.max(0,e[25].parentIndex)*e[3][0]+wt),h(t,"x2",i=(e[25].level-1)*Rn+wt),h(t,"y2",r=e[13]+e[27]*e[3][0]+wt)},m(o,s){M(o,t,s)},p(o,s){s&32&&n!==(n=(o[25].level-1)*Rn+wt)&&h(t,"x1",n),s&40&&l!==(l=o[13]+Math.max(0,o[25].parentIndex)*o[3][0]+wt)&&h(t,"y1",l),s&32&&i!==(i=(o[25].level-1)*Rn+wt)&&h(t,"x2",i),s&8&&r!==(r=o[13]+o[27]*o[3][0]+wt)&&h(t,"y2",r)},d(o){o&&p(t)}}}function Ba(e){let t,n,l,i,r,o,s=e[25].isLastChild===!0&&La(e);return{c(){t=He("line"),s&&s.c(),o=ze(),this.h()},l(a){t=Oe(a,"line",{"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),s&&s.l(a),o=ze(),this.h()},h(){h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"x1",n=(e[25].level-1)*Rn+wt),h(t,"y1",l=e[13]+e[27]*e[3][0]+wt),h(t,"x2",i=Math.ceil((e[25].level+.5)*Rn)+wt),h(t,"y2",r=e[13]+e[27]*e[3][0]+wt)},m(a,u){M(a,t,u),s&&s.m(a,u),M(a,o,u)},p(a,u){u&32&&n!==(n=(a[25].level-1)*Rn+wt)&&h(t,"x1",n),u&8&&l!==(l=a[13]+a[27]*a[3][0]+wt)&&h(t,"y1",l),u&32&&i!==(i=Math.ceil((a[25].level+.5)*Rn)+wt)&&h(t,"x2",i),u&8&&r!==(r=a[13]+a[27]*a[3][0]+wt)&&h(t,"y2",r),a[25].isLastChild===!0?s?s.p(a,u):(s=La(a),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(a){a&&(p(t),p(o)),s&&s.d(a)}}}function Dh(e){let t,n,l,i;const r=[Ih,Eh,Rh],o=[];function s(a,u){return a[6]!==!0?0:a[8]===!0?1:2}return n=s(e),l=o[n]=r[n](e),{c(){t=b("div"),l.c(),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);l.l(u),u.forEach(p),this.h()},h(){Y(t,"min-height","900px")},m(a,u){M(a,t,u),o[n].m(t,null),i=!0},p(a,[u]){let f=n;n=s(a),n===f?o[n].p(a,u):(Nt(),ce(o[f],1,1,()=>{o[f]=null}),Ht(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),re(l,1),l.m(t,null))},i(a){i||(re(l),i=!0)},o(a){ce(l),i=!1},d(a){a&&p(t),o[n].d()}}}const Rn=15,wt=10;function Vh(e,t,n){let l,i,r,o,s,a;Vt(e,on,F=>n(7,s=F));function u(F,X,W,ae,Se,we,O){const oe=Ch(yh(s.dag[F].linksTreeNested),X),de=kh(oe,W,ae,Se),pe=oe.reduce((me,se)=>Math.max(se.level,me),0);return n(9,I=de+pe*we+10),oe}function f(F){G.has(F)?G.delete(F):G.add(F),n(14,V=!V)}const d=un(!1);Vt(e,d,F=>n(8,a=F));let{selectedSourceIndex:g=0}=t,m=[14],_=[60],v=[20],y=!0;const C=Math.ceil(v[0]/2);let I=200;const G=new Set;let V=!1;function A(F){a=F,d.set(a)}function D(F){v=F,n(3,v)}function H(F){m=F,n(1,m)}function T(F){_=F,n(2,_)}function L(){y=this.checked,n(4,y)}const P=()=>Yi("mytree","GOAT-online__tree_"+s.genesets[g].source),j=(F,X)=>f(F.id);return e.$$set=F=>{"selectedSourceIndex"in F&&n(0,g=F.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty&128&&n(6,i=typeof s=="object"&&s.hasDag===!0),e.$$.dirty&449&&n(15,r=()=>i&&a===!1&&typeof s=="object"&&Array.isArray(s.dag)&&s.dag.length>g&&!!s.dag[g]),e.$$.dirty&49175&&n(5,o=r()===!0?u(g,G,_[0],m[0],y,Rn):void 0),e.$$.dirty&40&&n(10,l=v[0]*(Array.isArray(o)?o.length:0)),e.$$.dirty&65&&i&&vf(g,d)},[g,m,_,v,y,o,i,s,a,I,l,f,d,C,V,r,A,D,H,T,L,P,j]}class Th extends Wt{constructor(t){super(),$t(this,t,Vh,Dh,Qt,{selectedSourceIndex:0})}}function Fh(e,t,n){const i=ql(on);if((typeof i=="object"&&Array.isArray(i.dag)&&i.dag.length>e&&!!i.dag[e])!==!0)return;typeof t!="string"&&(t="none"),typeof n!="number"&&(n=0);const o=i.dag[e],s=o.nodes,a=o.links,u=o.linksNested,f=o.root;let d=new Set;const g=a.length;if(t==="leaf_only"){const H=new Set,T=new Set;for(let L=0;L<g;L++)H.add(a[L].source),T.add(a[L].target);d=Dr(H,T)}else if(t==="prune_singletons"){const H=s.reduce((P,j)=>(P[j.id]=0,P),{});for(let P=0;P<g;P++)H[a[P].target]=H[a[P].target]+1;const T=Object.keys(H),L=T.length;for(let P=0;P<L;P++)H[T[P]]!==1&&d.add(T[P])}else d=new Set(s.map(H=>H.id));const m=Sf(u,d),_=[],v=new Set,y=m.children.length;for(let H=0;H<y;H++){let T=[];Cf(m.children[H],n,T);let L=T.length;for(let P=0;P<L;P++)v.has(T[P].id)===!1&&(_.push(T[P]),v.add(T[P].id))}const C=_.length;_.sort((H,T)=>(T.ngenes||99999)-(H.ngenes||99999));const I=s.find(H=>H.id===f);if(I===void 0){console.error("treemapData(); cannot find root in nodes array; "+f),console.error(s);return}const G=[],V=new Set;for(let H=0;H<C&&d.size!==V.size;H++){let T=_[H],L,P,j=!1;if(V.has(T.id)===!1&&(d.has(T.id)?(L=T,L.recursiveChildrenShortlist_length>0?P=new Set(L.recursiveChildrenShortlist):P=new Set,P.add(L.id),j=!0,P=Dr(P,V)):T.recursiveChildrenShortlist_length>0&&(P=Dr(new Set(T.recursiveChildrenShortlist),V),P.size>0&&(L=kf(T))),P!==void 0&&P.size>0)){let F=Array.from(P);G.push({id:L.id,name:L.name,ngenes:L.ngenes,shortlistNodes:F,shortlistHasLevel1:j}),F.forEach(X=>{V.add(X)})}}const A=ls(I);A.ngenes=A.ngenes||0,A.group=0,A.children=[];const D=G.length;for(let H=0;H<D;H++){let T=G[H];T.group=H,T.value=Math.sqrt(T.ngenes),T.children=[],T.shortlistNodes.forEach(X=>{const W=s.find(ae=>ae.id===X);T.children.push(ls(W))}),T.children.sort((X,W)=>W.ngenes-X.ngenes||X.pvalue-W.pvalue);const L=T.shortlistNodes.length;let P=0;for(let X=0;X<L;X++)T.children[X].isLeading=X===0,T.children[X].siblingCount=L,T.children[X].parent_id=T.id,T.children[X].parent_name=T.name,T.children[X].group=H,T.children[X].value=Math.sqrt(T.children[X].ngenes),T.children[X].value>P&&(P=T.children[X].value);let j=P/5,F=0;for(let X=0;X<L;X++)T.children[X].value<j&&(T.children[X].value=j),F+=T.children[X].value;for(let X=0;X<L;X++)T.children[X].value=T.children[X].value/F*T.value;L>0&&(T.value=0),A.children.push(T)}return A}function Sf(e,t){if(e.recursiveChildren=[],e.recursiveChildrenShortlist=[],e.recursiveChildren_length=0,e.recursiveChildrenShortlist_length=0,Array.isArray(e.children)&&e.children.length>0){const n=e.children.length;for(let i=0;i<n;i++)e.children[i]=Sf(e.children[i],t),e.recursiveChildren.push(e.children[i].id),e.recursiveChildren=e.recursiveChildren.concat(e.children[i].recursiveChildren);const l=new Set(e.recursiveChildren);e.recursiveChildren=Array.from(l),e.recursiveChildren_length=e.recursiveChildren.length,e.recursiveChildrenShortlist=Array.from(Xf(l,t)),e.recursiveChildrenShortlist_length=e.recursiveChildrenShortlist.length}return e}function Cf(e,t,n){if(t===0||!Array.isArray(e.children)||e.children.length==0||e.ngenes>0&&e.ngenes<=t){n.push(e);return}const l=e.children.length;for(let i=0;i<l;i++)Cf(e.children[i],t,n)}function kf(e){if(typeof e.ngenes=="number"&&e.ngenes>0&&Array.isArray(e.children)&&e.children.length>0){const t=e.children.find(n=>n.ngenes===e.ngenes);if(t!==void 0)return kf(t)}return e}function Ph(e,t,n,l,i,r){function o(d,g){g.push({id:d.data.id,name:d.data.name,group:d.data.group,childCount:Array.isArray(d.children)?d.children.length:0,isLeading:d.data.isLeading,siblingCount:d.data.siblingCount,parent_id:d.data.parent_id,parent_name:d.data.parent_name,ngenes:d.data.ngenes,ngenes_input:d.data.ngenes_input,ngenes_signif:d.data.ngenes_signif,pvalue_adjust:d.data.pvalue_adjust,value:d.value,depth:d.depth,x0:d.x0,x1:d.x1,y0:d.y0,y1:d.y1});const m=Array.isArray(d.children)?d.children.length:0;for(let _=0;_<m;_++)o(d.children[_],g)}const s=no(e);s.sum(d=>d.value),s.sort((d,g)=>Qu(d.value,g.value));const a=(d=>(g,m,_,v,y)=>{d(g,m/l,_,v/l,y);for(const C of g.children)C.x0*=l,C.x1*=l})(rf.ratio(1)),u=Ic().tile(a).size([t,n]).paddingInner(i).paddingTop(r).paddingRight(r).paddingBottom(r).paddingLeft(r).round(!0)(s),f=[];return o(u,f),f}function zh(e,t){const n=gi(" ",t+"px sans-serif"),l=e.labelString,i=t;if(typeof l!="string"||l==="")return;const r=[],o=l.split(" "),s=o.length;for(let m=0;m<s;m++){let _=o[m].split("-"),v=_.length;if(v>1){for(let y=0;y<v-1;y++)r.push(_[y]+"-");r.push(_[v-1])}else r.push(_[0])}const a=r.length;if(a<2)return r;const u=Math.floor(e.height/t+.2),f=r.map(m=>gi(m,t+"px sans-serif")),d=[r[0]],g=[f[0]];for(let m=1;m<a;m++){if(d.length===u){d[d.length-1]+="â¦";break}g[d.length-1]+f[m]<=e.width-i?(d[d.length-1]=d[d.length-1]+(d[d.length-1].slice(-1)==="-"?"":" ")+r[m],g[d.length-1]=g[d.length-1]+n+f[m]):(d.push(r[m]),g[d.length-1]=f[m])}return d}function Gh(e,t){const n=/^[A-Z]+:0*/;return t==="name"?e.childCount===0?e.name:"":t==="none"?"":t==="toplevelName"?e.depth===1?e.name:"":t==="leadingName"?e.childCount===0&e.isLeading===!0?e.name:"":t==="leadingNameAndId"?e.childCount===0?e.isLeading===!0?e.name:e.id.replace(n,""):"":e.childCount===0?e.id.replace(n,""):""}function Nh(e,t,n){if(!Array.isArray(e))return;const l="#BBBBBB",i=e.map(a=>a.group||0),r=i.reduce((a,u)=>Math.max(a,u),0),o=Wf(i,r+1),s=e.length;for(let a=0;a<s;a++)e[a].tooltip=e[a].name+`
ngenes: `+e[a].ngenes+" signif: "+e[a].ngenes_signif+`
adj. p-value: `+Oi(e[a].pvalue_adjust),e[a].color=o[a]||l,e[a].width=e[a].x1-e[a].x0,e[a].height=e[a].y1-e[a].y0,e[a].centerX=(e[a].x1-e[a].x0)/2,e[a].centerY=(e[a].y1-e[a].y0)/2,e[a].labels=void 0,e[a].labelString=Gh(e[a],t),e[a].labelString!==""&&(e[a].labelSplit=zh(e[a],n),e[a].labelSplit!==void 0&&(e[a].labels=e[a].labelSplit.map((u,f)=>({label:u,x:e[a].centerX,y:Hh(e[a].labelSplit.length,f,e[a].height,e[a].centerY,n)}))));return e}function Hh(e,t,n,l,i){const r=(e-1)/-2;return e>1&&e*i>n?i/2+i*t:l+(r+t)*i}function ja(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function qa(e,t,n){const l=e.slice();return l[15]=t[n],l[17]=n,l}function Ua(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function Xa(e,t,n){const l=e.slice();return l[12]=t[n],l[14]=n,l}function Oh(e){let t,n="no results available";return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),he(t)!=="svelte-11akl8e"&&(t.textContent=n)},m(l,i){M(l,t,i)},p:ft,d(l){l&&p(t)}}}function Lh(e){let t,n,l,i,r,o,s=_e(e[5]),a=[];for(let _=0;_<s.length;_+=1)a[_]=Wa(Xa(e,s,_));let u=e[3]!==void 0&&Ya(e),f=_e(e[5]),d=[];for(let _=0;_<f.length;_+=1)d[_]=Ja(Ua(e,f,_));let g=_e(e[5]),m=[];for(let _=0;_<g.length;_+=1)m[_]=xa(ja(e,g,_));return{c(){t=b("div"),n=He("svg"),l=He("defs");for(let _=0;_<a.length;_+=1)a[_].c();u&&u.c(),i=He("g");for(let _=0;_<d.length;_+=1)d[_].c();r=He("g");for(let _=0;_<m.length;_+=1)m[_].c();this.h()},l(_){t=w(_,"DIV",{id:!0});var v=S(t);n=Oe(v,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var y=S(n);l=Oe(y,"defs",{});var C=S(l);for(let V=0;V<a.length;V+=1)a[V].l(C);C.forEach(p),u&&u.l(y),i=Oe(y,"g",{});var I=S(i);for(let V=0;V<d.length;V+=1)d[V].l(I);I.forEach(p),r=Oe(y,"g",{});var G=S(r);for(let V=0;V<m.length;V+=1)m[V].l(G);G.forEach(p),y.forEach(p),v.forEach(p),this.h()},h(){h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",e[0]),h(n,"height",e[1]),h(n,"viewBox",o="0 0 "+e[0]+" "+e[1]),h(t,"id","mytreemap")},m(_,v){M(_,t,v),c(t,n),c(n,l);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(l,null);u&&u.m(n,null),c(n,i);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(i,null);c(n,r);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(r,null)},p(_,v){if(v&32){s=_e(_[5]);let y;for(y=0;y<s.length;y+=1){const C=Xa(_,s,y);a[y]?a[y].p(C,v):(a[y]=Wa(C),a[y].c(),a[y].m(l,null))}for(;y<a.length;y+=1)a[y].d(1);a.length=s.length}if(_[3]!==void 0?u?u.p(_,v):(u=Ya(_),u.c(),u.m(n,i)):u&&(u.d(1),u=null),v&40){f=_e(_[5]);let y;for(y=0;y<f.length;y+=1){const C=Ua(_,f,y);d[y]?d[y].p(C,v):(d[y]=Ja(C),d[y].c(),d[y].m(i,null))}for(;y<d.length;y+=1)d[y].d(1);d.length=f.length}if(v&36){g=_e(_[5]);let y;for(y=0;y<g.length;y+=1){const C=ja(_,g,y);m[y]?m[y].p(C,v):(m[y]=xa(C),m[y].c(),m[y].m(r,null))}for(;y<m.length;y+=1)m[y].d(1);m.length=g.length}v&1&&h(n,"width",_[0]),v&2&&h(n,"height",_[1]),v&3&&o!==(o="0 0 "+_[0]+" "+_[1])&&h(n,"viewBox",o)},d(_){_&&p(t),st(a,_),u&&u.d(),st(d,_),st(m,_)}}}function Wa(e){let t,n,l,i,r,o;return{c(){t=He("clipPath"),n=He("rect"),this.h()},l(s){t=Oe(s,"clipPath",{id:!0});var a=S(t);n=Oe(a,"rect",{x:!0,y:!0,width:!0,height:!0}),S(n).forEach(p),a.forEach(p),this.h()},h(){h(n,"x",l=e[12].x0),h(n,"y",i=e[12].y0),h(n,"width",r=e[12].width),h(n,"height",o=e[12].height),h(t,"id","clipid-"+e[14])},m(s,a){M(s,t,a),c(t,n)},p(s,a){a&32&&l!==(l=s[12].x0)&&h(n,"x",l),a&32&&i!==(i=s[12].y0)&&h(n,"y",i),a&32&&r!==(r=s[12].width)&&h(n,"width",r),a&32&&o!==(o=s[12].height)&&h(n,"height",o)},d(s){s&&p(t)}}}function Ya(e){let t,n,l,i,r;return{c(){t=He("rect"),this.h()},l(o){t=Oe(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0});var s=S(t);s.forEach(p),this.h()},h(){h(t,"x",n=e[4]*2),h(t,"y",l=e[4]*2),h(t,"width",i=e[0]-4*e[4]),h(t,"height",r=e[1]-4*e[4]),h(t,"fill",e[3])},m(o,s){M(o,t,s)},p(o,s){s&16&&n!==(n=o[4]*2)&&h(t,"x",n),s&16&&l!==(l=o[4]*2)&&h(t,"y",l),s&17&&i!==(i=o[0]-4*o[4])&&h(t,"width",i),s&18&&r!==(r=o[1]-4*o[4])&&h(t,"height",r),s&8&&h(t,"fill",o[3])},d(o){o&&p(t)}}}function Ka(e){let t,n,l=e[12].tooltip+"",i,r,o,s,a,u,f=e[3]!==void 0&&Za(e);return{c(){f&&f.c(),t=He("rect"),n=He("title"),i=q(l),this.h()},l(d){f&&f.l(d),t=Oe(d,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"fill-opacity":!0});var g=S(t);n=Oe(g,"title",{});var m=S(n);i=U(m,l),m.forEach(p),g.forEach(p),this.h()},h(){h(t,"x",r=e[12].x0),h(t,"y",o=e[12].y0),h(t,"width",s=e[12].width),h(t,"height",a=e[12].height),h(t,"fill",u=e[12].color),h(t,"fill-opacity","0.6")},m(d,g){f&&f.m(d,g),M(d,t,g),c(t,n),c(n,i)},p(d,g){d[3]!==void 0?f?f.p(d,g):(f=Za(d),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),g&32&&l!==(l=d[12].tooltip+"")&&Ae(i,l),g&32&&r!==(r=d[12].x0)&&h(t,"x",r),g&32&&o!==(o=d[12].y0)&&h(t,"y",o),g&32&&s!==(s=d[12].width)&&h(t,"width",s),g&32&&a!==(a=d[12].height)&&h(t,"height",a),g&32&&u!==(u=d[12].color)&&h(t,"fill",u)},d(d){d&&p(t),f&&f.d(d)}}}function Za(e){let t,n,l,i,r;return{c(){t=He("rect"),this.h()},l(o){t=Oe(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0});var s=S(t);s.forEach(p),this.h()},h(){h(t,"x",n=e[12].x0),h(t,"y",l=e[12].y0),h(t,"width",i=e[12].width),h(t,"height",r=e[12].height),h(t,"fill","#ffffff")},m(o,s){M(o,t,s)},p(o,s){s&32&&n!==(n=o[12].x0)&&h(t,"x",n),s&32&&l!==(l=o[12].y0)&&h(t,"y",l),s&32&&i!==(i=o[12].width)&&h(t,"width",i),s&32&&r!==(r=o[12].height)&&h(t,"height",r)},d(o){o&&p(t)}}}function Ja(e){let t,n=e[12].childCount===0&&Ka(e);return{c(){n&&n.c(),t=ze()},l(l){n&&n.l(l),t=ze()},m(l,i){n&&n.m(l,i),M(l,t,i)},p(l,i){l[12].childCount===0?n?n.p(l,i):(n=Ka(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&p(t),n&&n.d(l)}}}function Qa(e){let t,n,l,i,r=_e(e[12].labels),o=[];for(let s=0;s<r.length;s+=1)o[s]=$a(qa(e,r,s));return{c(){t=He("text");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=Oe(s,"text",{"font-size":!0,"font-family":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,"clip-path":!0});var a=S(t);for(let u=0;u<o.length;u+=1)o[u].l(a);a.forEach(p),this.h()},h(){h(t,"font-size",n=e[2]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"text-anchor","middle"),h(t,"dominant-baseline","middle"),h(t,"x",l=e[12].x0),h(t,"y",i=e[12].y0),h(t,"fill","black"),h(t,"clip-path","url(#clipid-"+e[14]+")")},m(s,a){M(s,t,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null)},p(s,a){if(a&32){r=_e(s[12].labels);let u;for(u=0;u<r.length;u+=1){const f=qa(s,r,u);o[u]?o[u].p(f,a):(o[u]=$a(f),o[u].c(),o[u].m(t,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}a&4&&n!==(n=s[2]+"px")&&h(t,"font-size",n),a&32&&l!==(l=s[12].x0)&&h(t,"x",l),a&32&&i!==(i=s[12].y0)&&h(t,"y",i)},d(s){s&&p(t),st(o,s)}}}function $a(e){let t,n=e[15].label+"",l,i,r;return{c(){t=He("tspan"),l=q(n),this.h()},l(o){t=Oe(o,"tspan",{x:!0,y:!0});var s=S(t);l=U(s,n),s.forEach(p),this.h()},h(){h(t,"x",i=e[12].x0+e[15].x),h(t,"y",r=e[12].y0+e[15].y)},m(o,s){M(o,t,s),c(t,l)},p(o,s){s&32&&n!==(n=o[15].label+"")&&Ae(l,n),s&32&&i!==(i=o[12].x0+o[15].x)&&h(t,"x",i),s&32&&r!==(r=o[12].y0+o[15].y)&&h(t,"y",r)},d(o){o&&p(t)}}}function xa(e){let t=Array.isArray(e[12].labels)&&e[12].labels.length>0,n,l=t&&Qa(e);return{c(){l&&l.c(),n=ze()},l(i){l&&l.l(i),n=ze()},m(i,r){l&&l.m(i,r),M(i,n,r)},p(i,r){r&32&&(t=Array.isArray(i[12].labels)&&i[12].labels.length>0),t?l?l.p(i,r):(l=Qa(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){i&&p(n),l&&l.d(i)}}}function Bh(e){let t;function n(r,o){return r[5]!==void 0?Lh:Oh}let l=n(e),i=l(e);return{c(){i.c(),t=ze()},l(r){i.l(r),t=ze()},m(r,o){i.m(r,o),M(r,t,o)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i.d(1),i=l(r),i&&(i.c(),i.m(t.parentNode,t)))},i:ft,o:ft,d(r){r&&p(t),i.d(r)}}}function jh(e,t,n){let l,i,r,o,{selectedSourceIndex:s=0}=t,{width:a=500}=t,{height:u=500}=t,{ratio:f=3}=t,{textSize:d=14}=t,{labelType:g="name"}=t,{backgroundColor:m="#eaeaea"}=t,{simplifyMethod:_="none"}=t;return e.$$set=v=>{"selectedSourceIndex"in v&&n(6,s=v.selectedSourceIndex),"width"in v&&n(0,a=v.width),"height"in v&&n(1,u=v.height),"ratio"in v&&n(7,f=v.ratio),"textSize"in v&&n(2,d=v.textSize),"labelType"in v&&n(8,g=v.labelType),"backgroundColor"in v&&n(3,m=v.backgroundColor),"simplifyMethod"in v&&n(9,_=v.simplifyMethod)},e.$$.update=()=>{e.$$.dirty&3&&n(4,l=Math.min(a,u)<300?1:Math.min(a,u)<500?2:3),e.$$.dirty&576&&n(11,i=Fh(s,_)),e.$$.dirty&2195&&n(10,r=i?Ph(i,a,u,f,1,l):void 0),e.$$.dirty&1284&&n(5,o=r!==void 0?Nh(r,g,d):void 0)},[a,u,d,m,l,o,s,f,g,_,r,i]}class qh extends Wt{constructor(t){super(),$t(this,t,jh,Bh,Qt,{selectedSourceIndex:6,width:0,height:1,ratio:7,textSize:2,labelType:8,backgroundColor:3,simplifyMethod:9})}}function eu(e,t,n){const l=e.slice();return l[21]=t[n],l}function tu(e,t,n){const l=e.slice();return l[21]=t[n],l}function Uh(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,I,G,V,A,D,H,T,L,P,j,F,X,W,ae,Se,we,O,oe,de,pe,me,se,z,ue="download",x,Ie,Me,Xe,$e,Ve=`simplify: <i class="helpicon" style="margin-left: 5px; margin-bottom: 4px;" data-tooltip="${Wl.TREEMAP_SIMPLIFY}"></i>`,ge,lt,Le,ye,Be,B,fe,$;function xe(Q){e[14](Q)}let Ke={min:100,max:1200,step:10,pipstep:50,pips:!0,first:"label",last:"label",rest:"pip"};e[3]!==void 0&&(Ke.values=e[3]),s=new jt({props:Ke}),gt.push(()=>mt(s,"values",xe));function je(Q){e[15](Q)}let qe={min:100,max:1200,step:10,pipstep:50,pips:!0,first:"label",last:"label",rest:"pip"};e[4]!==void 0&&(qe.values=e[4]),_=new jt({props:qe}),gt.push(()=>mt(_,"values",je));function at(Q){e[16](Q)}let ht={min:1,max:5,step:1,pipstep:1,pips:!0,first:"label",last:"label",rest:"pip"};e[5]!==void 0&&(ht.values=e[5]),A=new jt({props:ht}),gt.push(()=>mt(A,"values",at));function De(Q){e[17](Q)}let it={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[6]!==void 0&&(it.values=e[6]),F=new jt({props:it}),gt.push(()=>mt(F,"values",De));let nt=_e(Object.keys(e[11])),Fe=[];for(let Q=0;Q<nt.length;Q+=1)Fe[Q]=nu(tu(e,nt,Q));let rt=_e(Object.keys(e[12])),ve=[];for(let Q=0;Q<rt.length;Q+=1)ve[Q]=lu(eu(e,rt,Q));return Be=new qh({props:{selectedSourceIndex:e[0],width:e[3][0],height:e[4][0],ratio:e[5][0],textSize:e[6][0],labelType:e[7],simplifyMethod:e[8]}}),{c(){t=b("div"),n=b("div"),l=b("div"),i=q("Plot width: "),r=q(e[3]),o=R(),Ze(s.$$.fragment),u=R(),f=b("div"),d=q("Plot height: "),g=q(e[4]),m=R(),Ze(_.$$.fragment),y=R(),C=b("div"),I=q("Tile ratio: "),G=q(e[5]),V=R(),Ze(A.$$.fragment),H=R(),T=b("div"),L=q("Geneset name size: "),P=q(e[6]),j=R(),Ze(F.$$.fragment),W=R(),ae=b("div"),Se=q(`Label style:\r
					`),we=b("br"),O=R(),oe=b("select");for(let Q=0;Q<Fe.length;Q+=1)Fe[Q].c();de=R(),pe=b("div"),me=b("div"),se=b("div"),z=b("button"),z.textContent=ue,x=R(),Ie=b("i"),Me=R(),Xe=b("div"),$e=b("div"),$e.innerHTML=Ve,ge=R(),lt=b("select");for(let Q=0;Q<ve.length;Q+=1)ve[Q].c();Le=R(),ye=b("div"),Ze(Be.$$.fragment),this.h()},l(Q){t=w(Q,"DIV",{style:!0});var Ee=S(t);n=w(Ee,"DIV",{style:!0});var k=S(n);l=w(k,"DIV",{});var te=S(l);i=U(te,"Plot width: "),r=U(te,e[3]),o=E(te),et(s.$$.fragment,te),te.forEach(p),u=E(k),f=w(k,"DIV",{});var Ge=S(f);d=U(Ge,"Plot height: "),g=U(Ge,e[4]),m=E(Ge),et(_.$$.fragment,Ge),Ge.forEach(p),y=E(k),C=w(k,"DIV",{});var ke=S(C);I=U(ke,"Tile ratio: "),G=U(ke,e[5]),V=E(ke),et(A.$$.fragment,ke),ke.forEach(p),H=E(k),T=w(k,"DIV",{});var Re=S(T);L=U(Re,"Geneset name size: "),P=U(Re,e[6]),j=E(Re),et(F.$$.fragment,Re),Re.forEach(p),W=E(k),ae=w(k,"DIV",{});var J=S(ae);Se=U(J,`Label style:\r
					`),we=w(J,"BR",{}),O=E(J),oe=w(J,"SELECT",{});var be=S(oe);for(let ot=0;ot<Fe.length;ot+=1)Fe[ot].l(be);be.forEach(p),J.forEach(p),k.forEach(p),de=E(Ee),pe=w(Ee,"DIV",{style:!0});var ut=S(pe);me=w(ut,"DIV",{style:!0});var K=S(me);se=w(K,"DIV",{style:!0});var ee=S(se);z=w(ee,"BUTTON",{"data-svelte-h":!0}),he(z)!=="svelte-1f0phuj"&&(z.textContent=ue),x=E(ee),Ie=w(ee,"I",{class:!0,style:!0,"data-tooltip":!0}),S(Ie).forEach(p),ee.forEach(p),K.forEach(p),Me=E(ut),Xe=w(ut,"DIV",{style:!0});var Z=S(Xe);$e=w(Z,"DIV",{style:!0,"data-svelte-h":!0}),he($e)!=="svelte-2fifuj"&&($e.innerHTML=Ve),ge=E(Z),lt=w(Z,"SELECT",{});var Ce=S(lt);for(let ot=0;ot<ve.length;ot+=1)ve[ot].l(Ce);Ce.forEach(p),Z.forEach(p),ut.forEach(p),Ee.forEach(p),Le=E(Q),ye=w(Q,"DIV",{});var Te=S(ye);et(Be.$$.fragment,Te),Te.forEach(p),this.h()},h(){e[7]===void 0&&Wn(()=>e[18].call(oe)),Y(n,"display","flex"),Y(n,"justify-content","space-between"),h(Ie,"class","helpicon"),Y(Ie,"margin-left","5px"),h(Ie,"data-tooltip",Wl.DOWNLOAD),Y(se,"display","flex"),Y(me,"align-self","flex-end"),Y($e,"display","flex"),Y($e,"align-items","center"),e[8]===void 0&&Wn(()=>e[20].call(lt)),Y(Xe,"margin-left","80px"),Y(pe,"display","flex"),Y(pe,"justify-content","start"),Y(t,"margin-bottom","50px"),Y(t,"border-bottom","1px solid grey"),Y(t,"padding-bottom","20px")},m(Q,Ee){M(Q,t,Ee),c(t,n),c(n,l),c(l,i),c(l,r),c(l,o),Je(s,l,null),c(n,u),c(n,f),c(f,d),c(f,g),c(f,m),Je(_,f,null),c(n,y),c(n,C),c(C,I),c(C,G),c(C,V),Je(A,C,null),c(n,H),c(n,T),c(T,L),c(T,P),c(T,j),Je(F,T,null),c(n,W),c(n,ae),c(ae,Se),c(ae,we),c(ae,O),c(ae,oe);for(let k=0;k<Fe.length;k+=1)Fe[k]&&Fe[k].m(oe,null);rn(oe,e[7],!0),c(t,de),c(t,pe),c(pe,me),c(me,se),c(se,z),c(se,x),c(se,Ie),c(pe,Me),c(pe,Xe),c(Xe,$e),c(Xe,ge),c(Xe,lt);for(let k=0;k<ve.length;k+=1)ve[k]&&ve[k].m(lt,null);rn(lt,e[8],!0),M(Q,Le,Ee),M(Q,ye,Ee),Je(Be,ye,null),B=!0,fe||($=[le(oe,"change",e[18]),le(z,"click",e[19]),le(lt,"change",e[20])],fe=!0)},p(Q,Ee){(!B||Ee&8)&&Ae(r,Q[3]);const k={};!a&&Ee&8&&(a=!0,k.values=Q[3],_t(()=>a=!1)),s.$set(k),(!B||Ee&16)&&Ae(g,Q[4]);const te={};!v&&Ee&16&&(v=!0,te.values=Q[4],_t(()=>v=!1)),_.$set(te),(!B||Ee&32)&&Ae(G,Q[5]);const Ge={};!D&&Ee&32&&(D=!0,Ge.values=Q[5],_t(()=>D=!1)),A.$set(Ge),(!B||Ee&64)&&Ae(P,Q[6]);const ke={};if(!X&&Ee&64&&(X=!0,ke.values=Q[6],_t(()=>X=!1)),F.$set(ke),Ee&2048){nt=_e(Object.keys(Q[11]));let J;for(J=0;J<nt.length;J+=1){const be=tu(Q,nt,J);Fe[J]?Fe[J].p(be,Ee):(Fe[J]=nu(be),Fe[J].c(),Fe[J].m(oe,null))}for(;J<Fe.length;J+=1)Fe[J].d(1);Fe.length=nt.length}if(Ee&2176&&rn(oe,Q[7]),Ee&4096){rt=_e(Object.keys(Q[12]));let J;for(J=0;J<rt.length;J+=1){const be=eu(Q,rt,J);ve[J]?ve[J].p(be,Ee):(ve[J]=lu(be),ve[J].c(),ve[J].m(lt,null))}for(;J<ve.length;J+=1)ve[J].d(1);ve.length=rt.length}Ee&4352&&rn(lt,Q[8]);const Re={};Ee&1&&(Re.selectedSourceIndex=Q[0]),Ee&8&&(Re.width=Q[3][0]),Ee&16&&(Re.height=Q[4][0]),Ee&32&&(Re.ratio=Q[5][0]),Ee&64&&(Re.textSize=Q[6][0]),Ee&128&&(Re.labelType=Q[7]),Ee&256&&(Re.simplifyMethod=Q[8]),Be.$set(Re)},i(Q){B||(re(s.$$.fragment,Q),re(_.$$.fragment,Q),re(A.$$.fragment,Q),re(F.$$.fragment,Q),re(Be.$$.fragment,Q),B=!0)},o(Q){ce(s.$$.fragment,Q),ce(_.$$.fragment,Q),ce(A.$$.fragment,Q),ce(F.$$.fragment,Q),ce(Be.$$.fragment,Q),B=!1},d(Q){Q&&(p(t),p(Le),p(ye)),Qe(s),Qe(_),Qe(A),Qe(F),st(Fe,Q),st(ve,Q),Qe(Be),fe=!1,Xt($)}}}function Xh(e){let t,n,l,i,r;function o(a){e[13](a)}let s={colour:"black",size:"1.5em"};return e[9]!==void 0&&(s.show=e[9]),n=new Xn({props:s}),gt.push(()=>mt(n,"show",o)),{c(){t=b("div"),Ze(n.$$.fragment),i=q(`\r
			computing...`)},l(a){t=w(a,"DIV",{});var u=S(t);et(n.$$.fragment,u),i=U(u,`\r
			computing...`),u.forEach(p)},m(a,u){M(a,t,u),Je(n,t,null),c(t,i),r=!0},p(a,u){const f={};!l&&u&512&&(l=!0,f.show=a[9],_t(()=>l=!1)),n.$set(f)},i(a){r||(re(n.$$.fragment,a),r=!0)},o(a){ce(n.$$.fragment,a),r=!1},d(a){a&&p(t),Qe(n)}}}function Wh(e){let t,n=`The genesets do not incorporate parent-child relations; visualization of tree-structure is not\r
			available.`;return{c(){t=b("div"),t.textContent=n},l(l){t=w(l,"DIV",{"data-svelte-h":!0}),he(t)!=="svelte-xgyj99"&&(t.textContent=n)},m(l,i){M(l,t,i)},p:ft,i:ft,o:ft,d(l){l&&p(t)}}}function nu(e){let t,n=e[11][e[21]]+"",l,i;return{c(){t=b("option"),l=q(n),i=R(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=U(o,n),i=E(o),o.forEach(p),this.h()},h(){t.__value=e[21],Bt(t,t.__value)},m(r,o){M(r,t,o),c(t,l),c(t,i)},p:ft,d(r){r&&p(t)}}}function lu(e){let t,n=e[12][e[21]]+"",l,i;return{c(){t=b("option"),l=q(n),i=R(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=U(o,n),i=E(o),o.forEach(p),this.h()},h(){t.__value=e[21],Bt(t,t.__value)},m(r,o){M(r,t,o),c(t,l),c(t,i)},p:ft,d(r){r&&p(t)}}}function Yh(e){let t,n,l,i;const r=[Wh,Xh,Uh],o=[];function s(a,u){return a[1]!==!0?0:a[9]===!0?1:2}return n=s(e),l=o[n]=r[n](e),{c(){t=b("div"),l.c(),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);l.l(u),u.forEach(p),this.h()},h(){Y(t,"min-height","900px")},m(a,u){M(a,t,u),o[n].m(t,null),i=!0},p(a,[u]){let f=n;n=s(a),n===f?o[n].p(a,u):(Nt(),ce(o[f],1,1,()=>{o[f]=null}),Ht(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),re(l,1),l.m(t,null))},i(a){i||(re(l),i=!0)},o(a){ce(l),i=!1},d(a){a&&p(t),o[n].d()}}}function Kh(e,t,n){let l,i,r;Vt(e,on,T=>n(2,i=T));const o=un(!1);Vt(e,o,T=>n(9,r=T));let{selectedSourceIndex:s=0}=t,a=[800],u=[400],f=[3],d=[14],g="name",m="none";const _={name:"name",id:"ID",leadingName:"1 name per branch",leadingNameAndId:"1 name per branch + IDs",toplevelName:"parent name",none:"no labels"},v={none:"disable",prune_singletons:"prune singletons",leaf_only:"only leaf nodes"};function y(T){r=T,o.set(r)}function C(T){a=T,n(3,a)}function I(T){u=T,n(4,u)}function G(T){f=T,n(5,f)}function V(T){d=T,n(6,d)}function A(){g=Ul(this),n(7,g),n(11,_)}const D=()=>Yi("mytreemap","GOAT-online__treemap_"+i.genesets[s].source);function H(){m=Ul(this),n(8,m),n(12,v)}return e.$$set=T=>{"selectedSourceIndex"in T&&n(0,s=T.selectedSourceIndex)},e.$$.update=()=>{e.$$.dirty&4&&n(1,l=typeof i=="object"&&i.hasDag===!0),e.$$.dirty&3&&l&&vf(s,o)},[s,l,i,a,u,f,d,g,m,r,o,_,v,y,C,I,G,V,A,D,H]}class Zh extends Wt{constructor(t){super(),$t(this,t,Kh,Yh,Qt,{selectedSourceIndex:0})}}function iu(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function ru(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function ou(e,t,n){const l=e.slice();return l[23]=t[n],l[21]=n,l}function su(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function au(e,t,n){const l=e.slice();return l[26]=t[n],l[28]=n,l}function uu(e,t,n){const l=e.slice();return l[23]=t[n],l[21]=n,l}function fu(e,t,n){const l=e.slice();return l[23]=t[n],l[21]=n,l}function Jh(e){let t,n,l,i;return{c(){t=b("div"),n=q("This analysis requires at least 3 and at most "),l=q(e[6]),i=q(` (significant) genesets. If you identified\r
		a huge number of genesets for the currently selected GO domain, consider a more stringent setting\r
		for the adjusted p-value threshold (i.e. reduce the number of significant genesets which concentrates\r
		downstream interpretation on top results).`)},l(r){t=w(r,"DIV",{});var o=S(t);n=U(o,"This analysis requires at least 3 and at most "),l=U(o,e[6]),i=U(o,` (significant) genesets. If you identified\r
		a huge number of genesets for the currently selected GO domain, consider a more stringent setting\r
		for the adjusted p-value threshold (i.e. reduce the number of significant genesets which concentrates\r
		downstream interpretation on top results).`),o.forEach(p)},m(r,o){M(r,t,o),c(t,n),c(t,l),c(t,i)},p(r,o){o&64&&Ae(l,r[6])},d(r){r&&p(t)}}}function Qh(e){let t,n,l,i,r,o,s,a,u,f=_e(e[8].sortedIndices),d=[];for(let y=0;y<f.length;y+=1)d[y]=du(fu(e,f,y));let g=e[2]!==""&&cu(e),m=_e(e[8].sortedIndices),_=[];for(let y=0;y<m.length;y+=1)_[y]=pu(su(e,m,y));let v=e[10]!==0&&_u(e);return{c(){t=b("div"),n=He("svg"),l=He("g");for(let y=0;y<d.length;y+=1)d[y].c();i=ze(),g&&g.c(),r=He("g");for(let y=0;y<_.length;y+=1)_[y].c();o=ze(),v&&v.c(),this.h()},l(y){t=w(y,"DIV",{id:!0});var C=S(t);n=Oe(C,"svg",{xmlns:!0,"xmlns:xlink":!0,version:!0,width:!0,height:!0,viewBox:!0});var I=S(n);l=Oe(I,"g",{});var G=S(l);for(let A=0;A<d.length;A+=1)d[A].l(G);i=ze(),g&&g.l(G),G.forEach(p),r=Oe(I,"g",{});var V=S(r);for(let A=0;A<_.length;A+=1)_[A].l(V);o=ze(),v&&v.l(V),V.forEach(p),I.forEach(p),C.forEach(p),this.h()},h(){h(n,"xmlns","http://www.w3.org/2000/svg"),h(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),h(n,"version","1.1"),h(n,"width",s=e[14]+2*Pe),h(n,"height",a=e[13]+2*Pe),h(n,"viewBox",u="0 0 "+(e[14]+2*Pe)+" "+(e[13]+2*Pe)),h(t,"id","myheatmap")},m(y,C){M(y,t,C),c(t,n),c(n,l);for(let I=0;I<d.length;I+=1)d[I]&&d[I].m(l,null);c(l,i),g&&g.m(l,null),c(n,r);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(r,null);c(r,o),v&&v.m(r,null)},p(y,C){if(C&771){f=_e(y[8].sortedIndices);let I;for(I=0;I<f.length;I+=1){const G=fu(y,f,I);d[I]?d[I].p(G,C):(d[I]=du(G),d[I].c(),d[I].m(l,i))}for(;I<d.length;I+=1)d[I].d(1);d.length=f.length}if(y[2]!==""?g?g.p(y,C):(g=cu(y),g.c(),g.m(l,null)):g&&(g.d(1),g=null),C&1930){m=_e(y[8].sortedIndices);let I;for(I=0;I<m.length;I+=1){const G=su(y,m,I);_[I]?_[I].p(G,C):(_[I]=pu(G),_[I].c(),_[I].m(r,o))}for(;I<_.length;I+=1)_[I].d(1);_.length=m.length}y[10]!==0?v?v.p(y,C):(v=_u(y),v.c(),v.m(r,null)):v&&(v.d(1),v=null),C&16384&&s!==(s=y[14]+2*Pe)&&h(n,"width",s),C&8192&&a!==(a=y[13]+2*Pe)&&h(n,"height",a),C&24576&&u!==(u="0 0 "+(y[14]+2*Pe)+" "+(y[13]+2*Pe))&&h(n,"viewBox",u)},d(y){y&&p(t),st(d,y),g&&g.d(),st(_,y),v&&v.d()}}}function du(e){let t,n=e[8].genesets[e[23]].nameTruncated+"",l,i,r,o;return{c(){t=He("text"),l=q(n),this.h()},l(s){t=Oe(s,"text",{"font-size":!0,"font-family":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0});var a=S(t);l=U(a,n),a.forEach(p),this.h()},h(){h(t,"font-size",i=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",r=e[9]-Math.ceil(e[1]/2)+Pe),h(t,"y",o=Math.ceil(e[1]/2)+e[21]*e[1]+Pe),h(t,"fill","black")},m(s,a){M(s,t,a),c(t,l)},p(s,a){a&256&&n!==(n=s[8].genesets[s[23]].nameTruncated+"")&&Ae(l,n),a&1&&i!==(i=s[0]+"px")&&h(t,"font-size",i),a&514&&r!==(r=s[9]-Math.ceil(s[1]/2)+Pe)&&h(t,"x",r),a&2&&o!==(o=Math.ceil(s[1]/2)+s[21]*s[1]+Pe)&&h(t,"y",o)},d(s){s&&p(t)}}}function cu(e){let t,n=_e(e[7]?e[8].sortedIndices:e[8].sortedIndicesColumns),l=[];for(let i=0;i<n.length;i+=1)l[i]=gu(uu(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=ze()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=ze()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);M(i,t,r)},p(i,r){if(r&1927){n=_e(i[7]?i[8].sortedIndices:i[8].sortedIndicesColumns);let o;for(o=0;o<n.length;o+=1){const s=uu(i,n,o);l[o]?l[o].p(s,r):(l[o]=gu(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function gu(e){let t,n=e[8].genesets[e[23]].nameTruncated+"",l,i,r,o,s;return{c(){t=He("text"),l=q(n),this.h()},l(a){t=Oe(a,"text",{"font-size":!0,"font-family":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,transform:!0});var u=S(t);l=U(u,n),u.forEach(p),this.h()},h(){h(t,"font-size",i=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",r=e[9]+e[21]*e[1]+Math.ceil(e[1]/2)+e[10]+Pe),h(t,"y",o=e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Pe),h(t,"fill","black"),h(t,"transform",s="rotate("+e[2]+","+(e[9]+e[21]*e[1]+Math.ceil(e[1]/2)+e[10]+Pe)+","+(e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Pe)+")")},m(a,u){M(a,t,u),c(t,l)},p(a,u){u&384&&n!==(n=a[8].genesets[a[23]].nameTruncated+"")&&Ae(l,n),u&1&&i!==(i=a[0]+"px")&&h(t,"font-size",i),u&1538&&r!==(r=a[9]+a[21]*a[1]+Math.ceil(a[1]/2)+a[10]+Pe)&&h(t,"x",r),u&258&&o!==(o=a[8].genesets.length*a[1]+Math.ceil(a[1]/2)+Pe)&&h(t,"y",o),u&1798&&s!==(s="rotate("+a[2]+","+(a[9]+a[21]*a[1]+Math.ceil(a[1]/2)+a[10]+Pe)+","+(a[8].genesets.length*a[1]+Math.ceil(a[1]/2)+Pe)+")")&&h(t,"transform",s)},d(a){a&&p(t)}}}function $h(e){let t="row: "+e[8].genesets[e[19]].name+`
column: `+e[8].genesets[e[26]].name+`
similarity score (column is superset of row): `+e[8].dist[e[19]][e[26]].toPrecision(2)+`
gene count for row: `+e[8].genesets[e[19]].ngenes+"  column: "+ +e[8].genesets[e[26]].ngenes,n;return{c(){n=q(t)},l(l){n=U(l,t)},m(l,i){M(l,n,i)},p(l,i){i&384&&t!==(t="row: "+l[8].genesets[l[19]].name+`
column: `+l[8].genesets[l[26]].name+`
similarity score (column is superset of row): `+l[8].dist[l[19]][l[26]].toPrecision(2)+`
gene count for row: `+l[8].genesets[l[19]].ngenes+"  column: "+ +l[8].genesets[l[26]].ngenes)&&Ae(n,t)},d(l){l&&p(n)}}}function xh(e){let t="diagonal: "+e[8].genesets[e[19]].name+`
gene count: `+e[8].genesets[e[19]].ngenes,n;return{c(){n=q(t)},l(l){n=U(l,t)},m(l,i){M(l,n,i)},p(l,i){i&256&&t!==(t="diagonal: "+l[8].genesets[l[19]].name+`
gene count: `+l[8].genesets[l[19]].ngenes)&&Ae(n,t)},d(l){l&&p(n)}}}function hu(e){let t,n,l,i,r,o;function s(f,d){return f[7]&&f[19]===f[26]?xh:$h}let a=s(e),u=a(e);return{c(){t=He("rect"),n=He("title"),u.c(),this.h()},l(f){t=Oe(f,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0});var d=S(t);n=Oe(d,"title",{});var g=S(n);u.l(g),g.forEach(p),d.forEach(p),this.h()},h(){h(t,"x",l=e[9]+e[28]*e[1]+e[10]+Pe),h(t,"y",i=e[21]*e[1]+1+Pe),h(t,"width",e[1]),h(t,"height",e[1]),h(t,"fill",r=is(e[8].dist[e[19]][e[26]],e[3])),h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width",o=e[1]>=8?1:.5),h(t,"stroke-miterlimit","10")},m(f,d){M(f,t,d),c(t,n),u.m(n,null)},p(f,d){a===(a=s(f))&&u?u.p(f,d):(u.d(1),u=a(f),u&&(u.c(),u.m(n,null))),d&1538&&l!==(l=f[9]+f[28]*f[1]+f[10]+Pe)&&h(t,"x",l),d&2&&i!==(i=f[21]*f[1]+1+Pe)&&h(t,"y",i),d&2&&h(t,"width",f[1]),d&2&&h(t,"height",f[1]),d&392&&r!==(r=is(f[8].dist[f[19]][f[26]],f[3]))&&h(t,"fill",r),d&2&&o!==(o=f[1]>=8?1:.5)&&h(t,"stroke-width",o)},d(f){f&&p(t),u.d()}}}function pu(e){let t,n=_e(e[7]?e[8].sortedIndices:e[8].sortedIndicesColumns),l=[];for(let i=0;i<n.length;i+=1)l[i]=hu(au(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=ze()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=ze()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);M(i,t,r)},p(i,r){if(r&1930){n=_e(i[7]?i[8].sortedIndices:i[8].sortedIndicesColumns);let o;for(o=0;o<n.length;o+=1){const s=au(i,n,o);l[o]?l[o].p(s,r):(l[o]=hu(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function _u(e){let t,n,l,i,r=e[5]===!0&&mu(e),o=_e(e[8].sortedIndices),s=[];for(let f=0;f<o.length;f+=1)s[f]=wu(ru(e,o,f));let a=e[2]!==""&&yu(e),u=e[4]===!0&&Su(e);return{c(){r&&r.c(),t=ze();for(let f=0;f<s.length;f+=1)s[f].c();n=ze(),a&&a.c(),l=ze(),u&&u.c(),i=ze()},l(f){r&&r.l(f),t=ze();for(let d=0;d<s.length;d+=1)s[d].l(f);n=ze(),a&&a.l(f),l=ze(),u&&u.l(f),i=ze()},m(f,d){r&&r.m(f,d),M(f,t,d);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(f,d);M(f,n,d),a&&a.m(f,d),M(f,l,d),u&&u.m(f,d),M(f,i,d)},p(f,d){if(f[5]===!0?r?r.p(f,d):(r=mu(f),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),d&35618){o=_e(f[8].sortedIndices);let g;for(g=0;g<o.length;g+=1){const m=ru(f,o,g);s[g]?s[g].p(m,d):(s[g]=wu(m),s[g].c(),s[g].m(n.parentNode,n))}for(;g<s.length;g+=1)s[g].d(1);s.length=o.length}f[2]!==""?a?a.p(f,d):(a=yu(f),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),f[4]===!0?u?u.p(f,d):(u=Su(f),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},d(f){f&&(p(t),p(n),p(l),p(i)),r&&r.d(f),st(s,f),a&&a.d(f),u&&u.d(f)}}}function mu(e){let t,n,l=_e(e[8].sortedIndices),i=[];for(let o=0;o<l.length;o+=1)i[o]=vu(ou(e,l,o));let r=e[2]!==""&&bu(e);return{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=ze(),r&&r.c(),n=ze()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);t=ze(),r&&r.l(o),n=ze()},m(o,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,s);M(o,t,s),r&&r.m(o,s),M(o,n,s)},p(o,s){if(s&2818){l=_e(o[8].sortedIndices);let a;for(a=0;a<l.length;a+=1){const u=ou(o,l,a);i[a]?i[a].p(u,s):(i[a]=vu(u),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=l.length}o[2]!==""?r?r.p(o,s):(r=bu(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){o&&(p(t),p(n)),st(i,o),r&&r.d(o)}}}function vu(e){let t,n,l,i,r;return{c(){t=He("rect"),this.h()},l(o){t=Oe(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),S(t).forEach(p),this.h()},h(){h(t,"x",n=e[9]+Pe),h(t,"y",l=e[21]*e[1]+1+Pe),h(t,"width",e[11]),h(t,"height",e[1]),h(t,"fill",i=Ru(e[8].genesets[e[23]].score_type)),h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width",r=e[1]>=8?1:.5),h(t,"stroke-miterlimit","10")},m(o,s){M(o,t,s)},p(o,s){s&512&&n!==(n=o[9]+Pe)&&h(t,"x",n),s&2&&l!==(l=o[21]*o[1]+1+Pe)&&h(t,"y",l),s&2048&&h(t,"width",o[11]),s&2&&h(t,"height",o[1]),s&256&&i!==(i=Ru(o[8].genesets[o[23]].score_type))&&h(t,"fill",i),s&2&&r!==(r=o[1]>=8?1:.5)&&h(t,"stroke-width",r)},d(o){o&&p(t)}}}function bu(e){let t,n,l,i,r,o;return{c(){t=He("text"),n=q(`score type\r
							`),this.h()},l(s){t=Oe(s,"text",{"font-size":!0,"font-family":!0,"font-weight":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,transform:!0});var a=S(t);n=U(a,`score type\r
							`),a.forEach(p),this.h()},h(){h(t,"font-size",l=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"font-weight","bold"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",i=e[9]+Pe+Math.round(e[11]/4)),h(t,"y",r=e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Pe),h(t,"fill","black"),h(t,"transform",o="rotate("+e[2]+","+(e[9]+Pe+Math.round(e[11]/4))+","+(e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Pe)+")")},m(s,a){M(s,t,a),c(t,n)},p(s,a){a&1&&l!==(l=s[0]+"px")&&h(t,"font-size",l),a&2560&&i!==(i=s[9]+Pe+Math.round(s[11]/4))&&h(t,"x",i),a&258&&r!==(r=s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Pe)&&h(t,"y",r),a&2822&&o!==(o="rotate("+s[2]+","+(s[9]+Pe+Math.round(s[11]/4))+","+(s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Pe)+")")&&h(t,"transform",o)},d(s){s&&p(t)}}}function wu(e){let t,n,l,i,r;return{c(){t=He("rect"),this.h()},l(o){t=Oe(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),S(t).forEach(p),this.h()},h(){h(t,"x",n=e[9]+Pe+(e[5]?e[11]:0)),h(t,"y",l=e[21]*e[1]+1+Pe),h(t,"width",e[11]),h(t,"height",e[1]),h(t,"fill",i=e[8].clusters[e[15]-2].index2clusterColor[e[19]]),h(t,"shape-rendering","crispEdges"),h(t,"stroke","black"),h(t,"stroke-width",r=e[1]>=8?1:.5),h(t,"stroke-miterlimit","10")},m(o,s){M(o,t,s)},p(o,s){s&2592&&n!==(n=o[9]+Pe+(o[5]?o[11]:0))&&h(t,"x",n),s&2&&l!==(l=o[21]*o[1]+1+Pe)&&h(t,"y",l),s&2048&&h(t,"width",o[11]),s&2&&h(t,"height",o[1]),s&33024&&i!==(i=o[8].clusters[o[15]-2].index2clusterColor[o[19]])&&h(t,"fill",i),s&2&&r!==(r=o[1]>=8?1:.5)&&h(t,"stroke-width",r)},d(o){o&&p(t)}}}function yu(e){let t,n,l,i,r,o;return{c(){t=He("text"),n=q(`cluster\r
						`),this.h()},l(s){t=Oe(s,"text",{"font-size":!0,"font-family":!0,"font-weight":!0,"text-anchor":!0,"dominant-baseline":!0,x:!0,y:!0,fill:!0,transform:!0});var a=S(t);n=U(a,`cluster\r
						`),a.forEach(p),this.h()},h(){h(t,"font-size",l=e[0]+"px"),h(t,"font-family","Arial, Helvetica, sans-serif"),h(t,"font-weight","bold"),h(t,"text-anchor","end"),h(t,"dominant-baseline","middle"),h(t,"x",i=e[9]+Pe+Math.round(e[11]/2)+(e[5]?e[11]:0)),h(t,"y",r=e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Pe),h(t,"fill","black"),h(t,"transform",o="rotate("+e[2]+","+(e[9]+Pe+Math.round(e[11]/2)+(e[5]?e[11]:0))+","+(e[8].genesets.length*e[1]+Math.ceil(e[1]/2)+Pe)+")")},m(s,a){M(s,t,a),c(t,n)},p(s,a){a&1&&l!==(l=s[0]+"px")&&h(t,"font-size",l),a&2592&&i!==(i=s[9]+Pe+Math.round(s[11]/2)+(s[5]?s[11]:0))&&h(t,"x",i),a&258&&r!==(r=s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Pe)&&h(t,"y",r),a&2854&&o!==(o="rotate("+s[2]+","+(s[9]+Pe+Math.round(s[11]/2)+(s[5]?s[11]:0))+","+(s[8].genesets.length*s[1]+Math.ceil(s[1]/2)+Pe)+")")&&h(t,"transform",o)},d(s){s&&p(t)}}}function Su(e){let t,n=_e(e[8].sortedIndices),l=[];for(let i=0;i<n.length;i+=1)l[i]=ku(iu(e,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();t=ze()},l(i){for(let r=0;r<l.length;r+=1)l[r].l(i);t=ze()},m(i,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(i,r);M(i,t,r)},p(i,r){if(r&33538){n=_e(i[8].sortedIndices);let o;for(o=0;o<n.length;o+=1){const s=iu(i,n,o);l[o]?l[o].p(s,r):(l[o]=ku(s),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function Cu(e){let t,n,l,i,r;return{c(){t=He("line"),this.h()},l(o){t=Oe(o,"line",{"shape-rendering":!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0,x1:!0,y1:!0,x2:!0,y2:!0}),S(t).forEach(p),this.h()},h(){h(t,"shape-rendering","crispEdges"),h(t,"stroke","green"),h(t,"stroke-width","1"),h(t,"stroke-miterlimit","10"),h(t,"x1",n=e[1]+Pe),h(t,"y1",l=e[21]*e[1]+Pe-1),h(t,"x2",i=e[9]+Pe),h(t,"y2",r=e[21]*e[1]+Pe-1)},m(o,s){M(o,t,s)},p(o,s){s&2&&n!==(n=o[1]+Pe)&&h(t,"x1",n),s&2&&l!==(l=o[21]*o[1]+Pe-1)&&h(t,"y1",l),s&512&&i!==(i=o[9]+Pe)&&h(t,"x2",i),s&2&&r!==(r=o[21]*o[1]+Pe-1)&&h(t,"y2",r)},d(o){o&&p(t)}}}function ku(e){let t,n=e[21]!==0&&e[8].clusters[e[15]-2].index2cluster[e[19]]!==e[8].clusters[e[15]-2].index2cluster[e[8].sortedIndices[e[21]-1]]&&Cu(e);return{c(){n&&n.c(),t=ze()},l(l){n&&n.l(l),t=ze()},m(l,i){n&&n.m(l,i),M(l,t,i)},p(l,i){l[21]!==0&&l[8].clusters[l[15]-2].index2cluster[l[19]]!==l[8].clusters[l[15]-2].index2cluster[l[8].sortedIndices[l[21]-1]]?n?n.p(l,i):(n=Cu(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){l&&p(t),n&&n.d(l)}}}function e1(e){let t;function n(r,o){if(r[8]!==void 0)return Qh;if(r[12]===!1)return Jh}let l=n(e),i=l&&l(e);return{c(){i&&i.c(),t=ze()},l(r){i&&i.l(r),t=ze()},m(r,o){i&&i.m(r,o),M(r,t,o)},p(r,[o]){l===(l=n(r))&&i?i.p(r,o):(i&&i.d(1),i=l&&l(r),i&&(i.c(),i.m(t.parentNode,t)))},i:ft,o:ft,d(r){r&&p(t),i&&i.d(r)}}}const Pe=10;function Ru(e){return e==="effectsize_down"?"#5E7ABC":e==="effectsize_up"?"#E57373":"#78909C"}function t1(e,t,n){let l,i,r,o,s,a,u,f,d;Vt(e,on,D=>n(18,d=D));let{selectedSourceIndex:g=0}=t,{textSize:m=8}=t,{rowHeight:_=8}=t,{labelRotate:v="-45"}=t,{clusterCount:y=8}=t,{colors:C=void 0}=t,{showClusterMarker:I=!0}=t,{showAnnotationScoretype:G=!0}=t,{maxGenesetCount:V=400}=t,{showSymmetricHeatmap:A=!1}=t;return e.$$set=D=>{"selectedSourceIndex"in D&&n(16,g=D.selectedSourceIndex),"textSize"in D&&n(0,m=D.textSize),"rowHeight"in D&&n(1,_=D.rowHeight),"labelRotate"in D&&n(2,v=D.labelRotate),"clusterCount"in D&&n(17,y=D.clusterCount),"colors"in D&&n(3,C=D.colors),"showClusterMarker"in D&&n(4,I=D.showClusterMarker),"showAnnotationScoretype"in D&&n(5,G=D.showAnnotationScoretype),"maxGenesetCount"in D&&n(6,V=D.maxGenesetCount),"showSymmetricHeatmap"in D&&n(7,A=D.showSymmetricHeatmap)},e.$$.update=()=>{e.$$.dirty&327680&&n(12,l=typeof d=="object"&&Array.isArray(d.genesetDistances)&&d.genesetDistances.length>g&&!!d.genesetDistances[g]&&d.genesets[g].stats.signif_count>2&&Array.isArray(d.genesetDistances[g].clusters)),e.$$.dirty&331776&&n(8,i=l&&d.genesetDistances[g]?d.genesetDistances[g]:void 0),e.$$.dirty&258&&n(9,r=i!==void 0?i.maxLabelWidth+_:0),e.$$.dirty&131328&&n(15,o=y<2||i===void 0?2:Math.max(0,Math.min(y,i.clusters[i.clusters.length-1].size))),e.$$.dirty&2&&n(11,s=Math.max(4,Math.ceil(_*.75))),e.$$.dirty&133152&&n(10,a=(y!==0?s:0)+(G?s:0)+(y!==0||G?Math.ceil(s/2):0)),e.$$.dirty&1794&&n(14,u=i!==void 0?r+a+_*i.genesets.length+1:200),e.$$.dirty&774&&n(13,f=i!==void 0?(v===""?1:r*(v==="-45"?.75:1))+_*i.genesets.length:200)},[m,_,v,C,I,G,V,A,i,r,a,s,l,f,u,o,g,y,d]}class n1 extends Wt{constructor(t){super(),$t(this,t,t1,e1,Qt,{selectedSourceIndex:16,textSize:0,rowHeight:1,labelRotate:2,clusterCount:17,colors:3,showClusterMarker:4,showAnnotationScoretype:5,maxGenesetCount:6,showSymmetricHeatmap:7})}}function l1(){return new Worker(""+new URL("../workers/WorkerGenesetDistances-5597ad90.js",import.meta.url).href)}function Eu(e,t,n){const l=e.slice();return l[31]=t[n],l}function Iu(e,t,n){const l=e.slice();return l[31]=t[n],l}function i1(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,I,G,V,A,D,H,T,L,P,j,F,X,W,ae,Se,we,O,oe,de,pe,me,se,z,ue,x,Ie,Me,Xe,$e,Ve,ge,lt,Le,ye,Be,B,fe,$,xe,Ke,je="download",qe,at,ht,De,it,nt,Fe,rt;function ve(Z){e[18](Z)}let Q={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[5]!==void 0&&(Q.values=e[5]),s=new jt({props:Q}),gt.push(()=>mt(s,"values",ve));function Ee(Z){e[19](Z)}let k={min:4,max:24,step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[2]!==void 0&&(k.values=e[2]),_=new jt({props:k}),gt.push(()=>mt(_,"values",Ee));function te(Z){e[20](Z)}let Ge={min:20,max:100,step:1,pipstep:10,pips:!0,first:"label",last:"label",rest:"pip"};e[3]!==void 0&&(Ge.values=e[3]),A=new jt({props:Ge}),gt.push(()=>mt(A,"values",te));let ke=_e(Object.keys(e[15])),Re=[];for(let Z=0;Z<ke.length;Z+=1)Re[Z]=Au(Iu(e,ke,Z));let J=_e(Object.keys(Vi)),be=[];for(let Z=0;Z<J.length;Z+=1)be[Z]=Mu(Eu(e,J,Z));function ut(Z){e[24](Z)}let K={min:2,max:e[12],step:1,pipstep:2,pips:!0,first:"label",last:"label",rest:"pip"};e[7]!==void 0&&(K.values=e[7]),Ve=new jt({props:K}),gt.push(()=>mt(Ve,"values",ut));let ee=e[1]==="effectsize"&&Du(e);return it=new n1({props:{selectedSourceIndex:e[0],textSize:e[2][0],rowHeight:e[5][0],labelRotate:e[6],clusterCount:e[7][0],colors:Vi[e[8]],showClusterMarker:e[9],showAnnotationScoretype:e[11]&&e[1]==="effectsize",maxGenesetCount:Rf,showSymmetricHeatmap:e[10]}}),{c(){t=b("div"),n=b("div"),l=b("div"),i=q("Cell size: "),r=q(e[5]),o=R(),Ze(s.$$.fragment),u=R(),f=b("div"),d=q("Geneset name size: "),g=q(e[2]),m=R(),Ze(_.$$.fragment),y=R(),C=b("div"),I=q("Max. text length: "),G=q(e[3]),V=R(),Ze(A.$$.fragment),H=R(),T=b("div"),L=q(`x-axis labels:\r
					`),P=b("br"),j=R(),F=b("select");for(let Z=0;Z<Re.length;Z+=1)Re[Z].c();X=R(),W=b("div"),ae=q(`Color palette:\r
					`),Se=b("br"),we=R(),O=b("select");for(let Z=0;Z<be.length;Z+=1)be[Z].c();oe=R(),de=b("div"),pe=b("input"),me=q(" Cluster"),se=b("br"),z=q("delimiter line"),ue=R(),x=b("div"),Ie=b("div"),Me=q("Cluster count: "),Xe=q(e[7]),$e=R(),Ze(Ve.$$.fragment),lt=R(),Le=b("div"),ye=b("input"),Be=q(" Symmetric matrix"),B=R(),ee&&ee.c(),fe=R(),$=b("div"),xe=b("div"),Ke=b("button"),Ke.textContent=je,qe=R(),at=b("i"),ht=R(),De=b("div"),Ze(it.$$.fragment),this.h()},l(Z){t=w(Z,"DIV",{style:!0});var Ce=S(t);n=w(Ce,"DIV",{style:!0});var Te=S(n);l=w(Te,"DIV",{style:!0});var ot=S(l);i=U(ot,"Cell size: "),r=U(ot,e[5]),o=E(ot),et(s.$$.fragment,ot),ot.forEach(p),u=E(Te),f=w(Te,"DIV",{});var pt=S(f);d=U(pt,"Geneset name size: "),g=U(pt,e[2]),m=E(pt),et(_.$$.fragment,pt),pt.forEach(p),y=E(Te),C=w(Te,"DIV",{});var tt=S(C);I=U(tt,"Max. text length: "),G=U(tt,e[3]),V=E(tt),et(A.$$.fragment,tt),tt.forEach(p),H=E(Te),T=w(Te,"DIV",{});var dt=S(T);L=U(dt,`x-axis labels:\r
					`),P=w(dt,"BR",{}),j=E(dt),F=w(dt,"SELECT",{});var We=S(F);for(let tn=0;tn<Re.length;tn+=1)Re[tn].l(We);We.forEach(p),dt.forEach(p),X=E(Te),W=w(Te,"DIV",{});var ct=S(W);ae=U(ct,`Color palette:\r
					`),Se=w(ct,"BR",{}),we=E(ct),O=w(ct,"SELECT",{});var Yt=S(O);for(let tn=0;tn<be.length;tn+=1)be[tn].l(Yt);Yt.forEach(p),ct.forEach(p),oe=E(Te),de=w(Te,"DIV",{});var xt=S(de);pe=w(xt,"INPUT",{type:!0}),me=U(xt," Cluster"),se=w(xt,"BR",{}),z=U(xt,"delimiter line"),xt.forEach(p),Te.forEach(p),ue=E(Ce),x=w(Ce,"DIV",{style:!0});var qt=S(x);Ie=w(qt,"DIV",{style:!0});var St=S(Ie);Me=U(St,"Cluster count: "),Xe=U(St,e[7]),$e=E(St),et(Ve.$$.fragment,St),St.forEach(p),lt=E(qt),Le=w(qt,"DIV",{style:!0});var Tt=S(Le);ye=w(Tt,"INPUT",{type:!0}),Be=U(Tt," Symmetric matrix"),Tt.forEach(p),B=E(qt),ee&&ee.l(qt),qt.forEach(p),fe=E(Ce),$=w(Ce,"DIV",{style:!0});var In=S($);xe=w(In,"DIV",{style:!0});var en=S(xe);Ke=w(en,"BUTTON",{"data-svelte-h":!0}),he(Ke)!=="svelte-c2a3ob"&&(Ke.textContent=je),qe=E(en),at=w(en,"I",{class:!0,style:!0,"data-tooltip":!0}),S(at).forEach(p),en.forEach(p),In.forEach(p),Ce.forEach(p),ht=E(Z),De=w(Z,"DIV",{});var el=S(De);et(it.$$.fragment,el),el.forEach(p),this.h()},h(){Y(l,"min-width","120px"),e[6]===void 0&&Wn(()=>e[21].call(F)),e[8]===void 0&&Wn(()=>e[22].call(O)),h(pe,"type","checkbox"),Y(n,"display","flex"),Y(n,"justify-content","space-between"),Y(Ie,"min-width","120px"),h(ye,"type","checkbox"),Y(Le,"margin-left","40px"),Y(Le,"align-self","center"),Y(x,"display","flex"),Y(x,"justify-content","start"),h(at,"class","helpicon"),Y(at,"margin-left","5px"),h(at,"data-tooltip",Wl.DOWNLOAD),Y(xe,"display","flex"),Y($,"align-self","flex-end"),Y(t,"margin-bottom","50px"),Y(t,"border-bottom","1px solid grey"),Y(t,"padding-bottom","20px")},m(Z,Ce){M(Z,t,Ce),c(t,n),c(n,l),c(l,i),c(l,r),c(l,o),Je(s,l,null),c(n,u),c(n,f),c(f,d),c(f,g),c(f,m),Je(_,f,null),c(n,y),c(n,C),c(C,I),c(C,G),c(C,V),Je(A,C,null),c(n,H),c(n,T),c(T,L),c(T,P),c(T,j),c(T,F);for(let Te=0;Te<Re.length;Te+=1)Re[Te]&&Re[Te].m(F,null);rn(F,e[6],!0),c(n,X),c(n,W),c(W,ae),c(W,Se),c(W,we),c(W,O);for(let Te=0;Te<be.length;Te+=1)be[Te]&&be[Te].m(O,null);rn(O,e[8],!0),c(n,oe),c(n,de),c(de,pe),pe.checked=e[9],c(de,me),c(de,se),c(de,z),c(t,ue),c(t,x),c(x,Ie),c(Ie,Me),c(Ie,Xe),c(Ie,$e),Je(Ve,Ie,null),c(x,lt),c(x,Le),c(Le,ye),ye.checked=e[10],c(Le,Be),c(x,B),ee&&ee.m(x,null),c(t,fe),c(t,$),c($,xe),c(xe,Ke),c(xe,qe),c(xe,at),M(Z,ht,Ce),M(Z,De,Ce),Je(it,De,null),nt=!0,Fe||(rt=[le(F,"change",e[21]),le(O,"change",e[22]),le(pe,"change",e[23]),le(ye,"change",e[25]),le(Ke,"click",e[27])],Fe=!0)},p(Z,Ce){(!nt||Ce[0]&32)&&Ae(r,Z[5]);const Te={};!a&&Ce[0]&32&&(a=!0,Te.values=Z[5],_t(()=>a=!1)),s.$set(Te),(!nt||Ce[0]&4)&&Ae(g,Z[2]);const ot={};!v&&Ce[0]&4&&(v=!0,ot.values=Z[2],_t(()=>v=!1)),_.$set(ot),(!nt||Ce[0]&8)&&Ae(G,Z[3]);const pt={};if(!D&&Ce[0]&8&&(D=!0,pt.values=Z[3],_t(()=>D=!1)),A.$set(pt),Ce[0]&32768){ke=_e(Object.keys(Z[15]));let We;for(We=0;We<ke.length;We+=1){const ct=Iu(Z,ke,We);Re[We]?Re[We].p(ct,Ce):(Re[We]=Au(ct),Re[We].c(),Re[We].m(F,null))}for(;We<Re.length;We+=1)Re[We].d(1);Re.length=ke.length}if(Ce[0]&32832&&rn(F,Z[6]),Ce&0){J=_e(Object.keys(Vi));let We;for(We=0;We<J.length;We+=1){const ct=Eu(Z,J,We);be[We]?be[We].p(ct,Ce):(be[We]=Mu(ct),be[We].c(),be[We].m(O,null))}for(;We<be.length;We+=1)be[We].d(1);be.length=J.length}Ce[0]&256&&rn(O,Z[8]),Ce[0]&512&&(pe.checked=Z[9]),(!nt||Ce[0]&128)&&Ae(Xe,Z[7]);const tt={};Ce[0]&4096&&(tt.max=Z[12]),!ge&&Ce[0]&128&&(ge=!0,tt.values=Z[7],_t(()=>ge=!1)),Ve.$set(tt),Ce[0]&1024&&(ye.checked=Z[10]),Z[1]==="effectsize"?ee?ee.p(Z,Ce):(ee=Du(Z),ee.c(),ee.m(x,null)):ee&&(ee.d(1),ee=null);const dt={};Ce[0]&1&&(dt.selectedSourceIndex=Z[0]),Ce[0]&4&&(dt.textSize=Z[2][0]),Ce[0]&32&&(dt.rowHeight=Z[5][0]),Ce[0]&64&&(dt.labelRotate=Z[6]),Ce[0]&128&&(dt.clusterCount=Z[7][0]),Ce[0]&256&&(dt.colors=Vi[Z[8]]),Ce[0]&512&&(dt.showClusterMarker=Z[9]),Ce[0]&2050&&(dt.showAnnotationScoretype=Z[11]&&Z[1]==="effectsize"),Ce[0]&1024&&(dt.showSymmetricHeatmap=Z[10]),it.$set(dt)},i(Z){nt||(re(s.$$.fragment,Z),re(_.$$.fragment,Z),re(A.$$.fragment,Z),re(Ve.$$.fragment,Z),re(it.$$.fragment,Z),nt=!0)},o(Z){ce(s.$$.fragment,Z),ce(_.$$.fragment,Z),ce(A.$$.fragment,Z),ce(Ve.$$.fragment,Z),ce(it.$$.fragment,Z),nt=!1},d(Z){Z&&(p(t),p(ht),p(De)),Qe(s),Qe(_),Qe(A),st(Re,Z),st(be,Z),Qe(Ve),ee&&ee.d(),Qe(it),Fe=!1,Xt(rt)}}}function r1(e){let t,n,l,i,r;function o(a){e[17](a)}let s={colour:"black",size:"1.5em"};return e[13]!==void 0&&(s.show=e[13]),n=new Xn({props:s}),gt.push(()=>mt(n,"show",o)),{c(){t=b("div"),Ze(n.$$.fragment),i=q(`\r
			computing...`)},l(a){t=w(a,"DIV",{});var u=S(t);et(n.$$.fragment,u),i=U(u,`\r
			computing...`),u.forEach(p)},m(a,u){M(a,t,u),Je(n,t,null),c(t,i),r=!0},p(a,u){const f={};!l&&u[0]&8192&&(l=!0,f.show=a[13],_t(()=>l=!1)),n.$set(f)},i(a){r||(re(n.$$.fragment,a),r=!0)},o(a){ce(n.$$.fragment,a),r=!1},d(a){a&&p(t),Qe(n)}}}function Au(e){let t,n=e[15][e[31]]+"",l,i;return{c(){t=b("option"),l=q(n),i=R(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=U(o,n),i=E(o),o.forEach(p),this.h()},h(){t.__value=e[31],Bt(t,t.__value)},m(r,o){M(r,t,o),c(t,l),c(t,i)},p:ft,d(r){r&&p(t)}}}function Mu(e){let t,n=e[31]+"",l,i;return{c(){t=b("option"),l=q(n),i=R(),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=U(o,n),i=E(o),o.forEach(p),this.h()},h(){t.__value=e[31],Bt(t,t.__value)},m(r,o){M(r,t,o),c(t,l),c(t,i)},p:ft,d(r){r&&p(t)}}}function Du(e){let t,n,l,i,r,o,s,a,u="annotation sidebar",f,d;return{c(){t=b("div"),n=b("div"),l=b("div"),i=b("input"),r=q(` score type\r
								`),o=b("i"),s=R(),a=b("div"),a.textContent=u,this.h()},l(g){t=w(g,"DIV",{style:!0});var m=S(t);n=w(m,"DIV",{});var _=S(n);l=w(_,"DIV",{style:!0});var v=S(l);i=w(v,"INPUT",{type:!0}),r=U(v,` score type\r
								`),o=w(v,"I",{class:!0,style:!0,"data-tooltip":!0}),S(o).forEach(p),v.forEach(p),s=E(_),a=w(_,"DIV",{"data-svelte-h":!0}),he(a)!=="svelte-qorfh7"&&(a.textContent=u),_.forEach(p),m.forEach(p),this.h()},h(){h(i,"type","checkbox"),h(o,"class","helpicon"),Y(o,"margin-left","5px"),h(o,"data-tooltip",Wl.HEATMAP_SCORETYPE),Y(l,"display","flex"),Y(t,"margin-left","40px"),Y(t,"align-self","center")},m(g,m){M(g,t,m),c(t,n),c(n,l),c(l,i),i.checked=e[11],c(l,r),c(l,o),c(n,s),c(n,a),f||(d=le(i,"change",e[26]),f=!0)},p(g,m){m[0]&2048&&(i.checked=g[11])},d(g){g&&p(t),f=!1,d()}}}function o1(e){let t,n,l,i;const r=[r1,i1],o=[];function s(a,u){return a[13]===!0?0:1}return n=s(e),l=o[n]=r[n](e),{c(){t=b("div"),l.c(),this.h()},l(a){t=w(a,"DIV",{style:!0});var u=S(t);l.l(u),u.forEach(p),this.h()},h(){Y(t,"min-height","900px")},m(a,u){M(a,t,u),o[n].m(t,null),i=!0},p(a,u){let f=n;n=s(a),n===f?o[n].p(a,u):(Nt(),ce(o[f],1,1,()=>{o[f]=null}),Ht(),l=o[n],l?l.p(a,u):(l=o[n]=r[n](a),l.c()),re(l,1),l.m(t,null))},i(a){i||(re(l),i=!0)},o(a){ce(l),i=!1},d(a){a&&p(t),o[n].d()}}}const Rf=400;function s1(e,t,n){let l,i,r,o;Vt(e,on,O=>n(4,r=O));const s=new l1;s.onmessage=function(O){if(f.update(oe=>!1),O&&typeof O=="object"&&typeof O.data=="object"){const oe=O.data;on.set(a(oe,d,_,m))}else console.error("heatmap worker error;"),console.error(O)};function a(O,oe,de,pe){const me=O&&Array.isArray(O.genesetDistances)&&O.genesetDistances[oe]||void 0;if(me===void 0)return O;const se=pe+"px sans-serif";let z=0;const ue=me.genesets.length;for(let x=0;x<ue;x++)me.genesets[x].nameTruncated=$r(me.genesets[x].name,de),z=Math.max(z,gi(me.genesets[x].nameTruncated,se));return me.maxLabelWidth=Math.ceil(z)||400,O.genesetDistances[oe]=me,O}function u(){typeof r=="object"&&Array.isArray(r.genesets)&&r.genesets[d].stats.signif_count<=Rf&&Array.isArray(r.genesetDistances)&&!r.genesetDistances[d]&&(f.update(O=>!0),s.postMessage(JSON.stringify({selectedSourceIndex:d,data:r})))}const f=un(!1);Vt(e,f,O=>n(13,o=O));let{selectedSourceIndex:d=0}=t,{scoreType:g="pvalue"}=t,m=[12],_=[40],v=[12],y="-45",C=[6],I="Viridis",G=!0,V=!1,A=!0;const D={"-45":"Diagonal","-90":"Vertical","":"hide"};function H(O){o=O,f.set(o)}function T(O){v=O,n(5,v)}function L(O){m=O,n(2,m)}function P(O){_=O,n(3,_)}function j(){y=Ul(this),n(6,y),n(15,D)}function F(){I=Ul(this),n(8,I)}function X(){G=this.checked,n(9,G)}function W(O){C=O,n(7,C)}function ae(){V=this.checked,n(10,V)}function Se(){A=this.checked,n(11,A)}const we=()=>Yi("myheatmap","GOAT-online__heatmap_"+r.genesets[d].source);return e.$$set=O=>{"selectedSourceIndex"in O&&n(0,d=O.selectedSourceIndex),"scoreType"in O&&n(1,g=O.scoreType)},e.$$.update=()=>{e.$$.dirty[0]&1&&u(),e.$$.dirty[0]&29&&on.set(a(r,d,_,m)),e.$$.dirty[0]&17&&n(16,l=typeof r=="object"&&Array.isArray(r.genesetDistances)&&r.genesetDistances.length>d&&!!r.genesetDistances[d]&&r.genesets[d].stats.signif_count>2),e.$$.dirty[0]&65553&&n(12,i=l&&Math.min(Math.ceil(r.genesets[d].stats.signif_count/2),50)||0)},[d,g,m,_,r,v,y,C,I,G,V,A,i,o,f,D,l,H,T,L,P,j,F,X,W,ae,Se,we]}class a1 extends Wt{constructor(t){super(),$t(this,t,s1,o1,Qt,{selectedSourceIndex:0,scoreType:1},null,[-1,-1])}}const{document:Br}=Qf;function Vu(e,t,n){const l=e.slice();return l[76]=t[n],l[78]=n,l}function Tu(e,t,n){const l=e.slice();return l[76]=t[n],l}function Fu(e,t,n){const l=e.slice();return l[76]=t[n],l[78]=n,l}function u1(e){let t,n="status:",l,i,r,o,s="no genelist loaded yet";return{c(){t=b("b"),t.textContent=n,l=R(),i=b("br"),r=R(),o=b("div"),o.textContent=s,this.h()},l(a){t=w(a,"B",{"data-svelte-h":!0}),he(t)!=="svelte-jrlymk"&&(t.textContent=n),l=E(a),i=w(a,"BR",{}),r=E(a),o=w(a,"DIV",{class:!0,"data-svelte-h":!0}),he(o)!=="svelte-1x7jbfu"&&(o.textContent=s),this.h()},h(){h(o,"class","alert")},m(a,u){M(a,t,u),M(a,l,u),M(a,i,u),M(a,r,u),M(a,o,u)},p:ft,d(a){a&&(p(t),p(l),p(i),p(r),p(o))}}}function f1(e){let t,n="file:",l,i=e[5].filename+"",r,o,s,a,u="number of genes:",f,d=e[5].genelist.length+"",g,m,_,v,y="available score types:",C,I=e[5].scoretype_options.join(", ")+"",G,V,A,D=e[5].scoretype_options.indexOf("effectsize")===-1,H,T=D&&Pu();return{c(){t=b("b"),t.textContent=n,l=R(),r=q(i),o=b("br"),s=R(),a=b("b"),a.textContent=u,f=R(),g=q(d),m=b("br"),_=R(),v=b("b"),v.textContent=y,C=R(),G=q(I),V=b("br"),A=R(),T&&T.c(),H=ze()},l(L){t=w(L,"B",{"data-svelte-h":!0}),he(t)!=="svelte-12axs8s"&&(t.textContent=n),l=E(L),r=U(L,i),o=w(L,"BR",{}),s=E(L),a=w(L,"B",{"data-svelte-h":!0}),he(a)!=="svelte-wpkigu"&&(a.textContent=u),f=E(L),g=U(L,d),m=w(L,"BR",{}),_=E(L),v=w(L,"B",{"data-svelte-h":!0}),he(v)!=="svelte-zasc7m"&&(v.textContent=y),C=E(L),G=U(L,I),V=w(L,"BR",{}),A=E(L),T&&T.l(L),H=ze()},m(L,P){M(L,t,P),M(L,l,P),M(L,r,P),M(L,o,P),M(L,s,P),M(L,a,P),M(L,f,P),M(L,g,P),M(L,m,P),M(L,_,P),M(L,v,P),M(L,C,P),M(L,G,P),M(L,V,P),M(L,A,P),T&&T.m(L,P),M(L,H,P)},p(L,P){P[0]&32&&i!==(i=L[5].filename+"")&&Ae(r,i),P[0]&32&&d!==(d=L[5].genelist.length+"")&&Ae(g,d),P[0]&32&&I!==(I=L[5].scoretype_options.join(", ")+"")&&Ae(G,I),P[0]&32&&(D=L[5].scoretype_options.indexOf("effectsize")===-1),D?T||(T=Pu(),T.c(),T.m(H.parentNode,H)):T&&(T.d(1),T=null)},d(L){L&&(p(t),p(l),p(r),p(o),p(s),p(a),p(f),p(g),p(m),p(_),p(v),p(C),p(G),p(V),p(A),p(H)),T&&T.d(L)}}}function d1(e){let t,n="error while loading your genelist:",l,i,r;return{c(){t=b("b"),t.textContent=n,l=R(),i=b("div"),r=q(e[13]),this.h()},l(o){t=w(o,"B",{"data-svelte-h":!0}),he(t)!=="svelte-rtmaud"&&(t.textContent=n),l=E(o),i=w(o,"DIV",{class:!0});var s=S(i);r=U(s,e[13]),s.forEach(p),this.h()},h(){h(i,"class","alert")},m(o,s){M(o,t,s),M(o,l,s),M(o,i,s),c(i,r)},p(o,s){s[0]&8192&&Ae(r,o[13])},d(o){o&&(p(t),p(l),p(i))}}}function Pu(e){let t,n="no effectsize column found in your genelist.";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),he(t)!=="svelte-1kp58o5"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){M(l,t,i)},d(l){l&&p(t)}}}function c1(e){let t,n="status:",l,i,r,o,s="no genesets loaded yet";return{c(){t=b("b"),t.textContent=n,l=R(),i=b("br"),r=R(),o=b("div"),o.textContent=s,this.h()},l(a){t=w(a,"B",{"data-svelte-h":!0}),he(t)!=="svelte-jrlymk"&&(t.textContent=n),l=E(a),i=w(a,"BR",{}),r=E(a),o=w(a,"DIV",{class:!0,"data-svelte-h":!0}),he(o)!=="svelte-iyo4kz"&&(o.textContent=s),this.h()},h(){h(o,"class","alert")},m(a,u){M(a,t,u),M(a,l,u),M(a,i,u),M(a,r,u),M(a,o,u)},p:ft,d(a){a&&(p(t),p(l),p(i),p(r),p(o))}}}function g1(e){let t,n="version:",l,i=e[19].source_version+"",r,o,s,a,u="geneset count:",f,d=e[19].length+"",g,m,_,v,y="geneset sources:",C,I=e[19].sources.join(", ")+"",G,V;return{c(){t=b("b"),t.textContent=n,l=R(),r=q(i),o=b("br"),s=R(),a=b("b"),a.textContent=u,f=R(),g=q(d),m=b("br"),_=R(),v=b("b"),v.textContent=y,C=R(),G=q(I),V=b("br")},l(A){t=w(A,"B",{"data-svelte-h":!0}),he(t)!=="svelte-9p3di"&&(t.textContent=n),l=E(A),r=U(A,i),o=w(A,"BR",{}),s=E(A),a=w(A,"B",{"data-svelte-h":!0}),he(a)!=="svelte-uje9cq"&&(a.textContent=u),f=E(A),g=U(A,d),m=w(A,"BR",{}),_=E(A),v=w(A,"B",{"data-svelte-h":!0}),he(v)!=="svelte-3ss1zn"&&(v.textContent=y),C=E(A),G=U(A,I),V=w(A,"BR",{})},m(A,D){M(A,t,D),M(A,l,D),M(A,r,D),M(A,o,D),M(A,s,D),M(A,a,D),M(A,f,D),M(A,g,D),M(A,m,D),M(A,_,D),M(A,v,D),M(A,C,D),M(A,G,D),M(A,V,D)},p(A,D){D[0]&524288&&i!==(i=A[19].source_version+"")&&Ae(r,i),D[0]&524288&&d!==(d=A[19].length+"")&&Ae(g,d),D[0]&524288&&I!==(I=A[19].sources.join(", ")+"")&&Ae(G,I)},d(A){A&&(p(t),p(l),p(r),p(o),p(s),p(a),p(f),p(g),p(m),p(_),p(v),p(C),p(G),p(V))}}}function h1(e){let t,n="error while loading genesets:",l,i,r;return{c(){t=b("b"),t.textContent=n,l=R(),i=b("div"),r=q(e[14]),this.h()},l(o){t=w(o,"B",{"data-svelte-h":!0}),he(t)!=="svelte-1w6f4n1"&&(t.textContent=n),l=E(o),i=w(o,"DIV",{class:!0});var s=S(i);r=U(s,e[14]),s.forEach(p),this.h()},h(){h(i,"class","alert")},m(o,s){M(o,t,s),M(o,l,s),M(o,i,s),c(i,r)},p(o,s){s[0]&16384&&Ae(r,o[14])},d(o){o&&(p(t),p(l),p(i))}}}function zu(e){let t,n=e[76]+"",l,i;return{c(){t=b("option"),l=q(n),this.h()},l(r){t=w(r,"OPTION",{});var o=S(t);l=U(o,n),o.forEach(p),this.h()},h(){t.__value=i=e[76],Bt(t,t.__value)},m(r,o){M(r,t,o),c(t,l)},p(r,o){o[0]&131072&&n!==(n=r[76]+"")&&Ae(l,n),o[0]&131072&&i!==(i=r[76])&&(t.__value=i,Bt(t,t.__value))},d(r){r&&p(t)}}}function p1(e){let t,n="cannot start until invalid settings have been updated";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),he(t)!=="svelte-1z0i07v"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){M(l,t,i)},d(l){l&&p(t)}}}function _1(e){let t,n="cannot start until the genelist and genesets are loaded";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),he(t)!=="svelte-1m62rtu"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){M(l,t,i)},d(l){l&&p(t)}}}function Gu(e){let t,n,l="error:",i,r,o;return{c(){t=b("div"),n=b("b"),n.textContent=l,i=R(),r=b("div"),o=q(e[15]),this.h()},l(s){t=w(s,"DIV",{});var a=S(t);n=w(a,"B",{"data-svelte-h":!0}),he(n)!=="svelte-c5n4b4"&&(n.textContent=l),i=E(a),r=w(a,"DIV",{class:!0});var u=S(r);o=U(u,e[15]),u.forEach(p),a.forEach(p),this.h()},h(){h(r,"class","alert")},m(s,a){M(s,t,a),c(t,n),c(t,i),c(t,r),c(r,o)},p(s,a){a[0]&32768&&Ae(o,s[15])},d(s){s&&p(t)}}}function Nu(e){let t,n,l="<h2>Result summary</h2>",i,r,o=`<h3>Overview of genesets that meet your filtering criteria (min/max overlap with your
					genelist)</h3>`,s,a,u,f,d,g,m="<tr><th>source</th> <th>tested genesets</th> <th>significant</th></tr>",_,v,y,C,I,G,V,A="download all results as a table",D,H,T,L,P,j="a logfile with a summary of settings and M&M text is bundled with the results.",F,X,W,ae,Se="<h2>Data analysis</h2>",we,O,oe="<h3>Interactive visualizations of your GOAT results.</h3>",de,pe,me,se,z,ue,x="TABLE",Ie,Me,Xe="BARPLOT",$e,Ve,ge="TREE",lt,Le,ye="TREEMAP",Be,B,fe="HEATMAP",$,xe,Ke,je,qe,at,ht,De,it,nt,Fe=e[18]===!0&&Hu(),rt=_e(e[6].genesets),ve=[];for(let J=0;J<rt.length;J+=1)ve[J]=Ou(Tu(e,rt,J));let Q=e[6].genelist.length>4e3&&Lu(),Ee=!!e[16]&&Bu(e),k=e[18]===!0&&ju(),te=e[6].genesets.length>1&&qu(e);const Ge=[y1,w1,b1,v1,m1],ke=[];function Re(J,be){return J[8]==="table"?0:J[8]==="barplot"?1:J[8]==="tree"?2:J[8]==="heatmap"?3:J[8]==="treemap"?4:-1}return~(je=Re(e))&&(qe=ke[je]=Ge[je](e)),{c(){t=b("div"),n=b("div"),n.innerHTML=l,i=R(),r=b("div"),r.innerHTML=o,s=R(),Fe&&Fe.c(),a=R(),u=b("div"),f=b("div"),d=b("table"),g=b("thead"),g.innerHTML=m,_=R(),v=b("tbody");for(let J=0;J<ve.length;J+=1)ve[J].c();y=R(),C=b("div"),I=b("br"),G=R(),V=b("button"),V.textContent=A,D=R(),Q&&Q.c(),H=R(),T=b("br"),L=R(),P=b("div"),P.textContent=j,F=R(),Ee&&Ee.c(),X=R(),W=b("div"),ae=b("div"),ae.innerHTML=Se,we=R(),O=b("div"),O.innerHTML=oe,de=R(),k&&k.c(),pe=R(),me=b("div"),se=b("div"),z=b("div"),ue=b("button"),ue.textContent=x,Ie=R(),Me=b("button"),Me.textContent=Xe,$e=R(),Ve=b("button"),Ve.textContent=ge,lt=R(),Le=b("button"),Le.textContent=ye,Be=R(),B=b("button"),B.textContent=fe,$=R(),te&&te.c(),xe=R(),Ke=b("div"),qe&&qe.c(),at=R(),ht=b("br"),this.h()},l(J){t=w(J,"DIV",{id:!0,class:!0});var be=S(t);n=w(be,"DIV",{class:!0,"data-svelte-h":!0}),he(n)!=="svelte-1jt2cwt"&&(n.innerHTML=l),i=E(be),r=w(be,"DIV",{class:!0,"data-svelte-h":!0}),he(r)!=="svelte-13iz49a"&&(r.innerHTML=o),s=E(be),Fe&&Fe.l(be),a=E(be),u=w(be,"DIV",{class:!0});var ut=S(u);f=w(ut,"DIV",{});var K=S(f);d=w(K,"TABLE",{class:!0});var ee=S(d);g=w(ee,"THEAD",{"data-svelte-h":!0}),he(g)!=="svelte-wua3i5"&&(g.innerHTML=m),_=E(ee),v=w(ee,"TBODY",{});var Z=S(v);for(let We=0;We<ve.length;We+=1)ve[We].l(Z);Z.forEach(p),ee.forEach(p),K.forEach(p),y=E(ut),C=w(ut,"DIV",{});var Ce=S(C);I=w(Ce,"BR",{}),G=E(Ce),V=w(Ce,"BUTTON",{class:!0,"data-svelte-h":!0}),he(V)!=="svelte-1e0e5zh"&&(V.textContent=A),D=E(Ce),Q&&Q.l(Ce),H=E(Ce),T=w(Ce,"BR",{}),L=E(Ce),P=w(Ce,"DIV",{"data-svelte-h":!0}),he(P)!=="svelte-4koiox"&&(P.textContent=j),Ce.forEach(p),F=E(ut),Ee&&Ee.l(ut),ut.forEach(p),be.forEach(p),X=E(J),W=w(J,"DIV",{class:!0,style:!0});var Te=S(W);ae=w(Te,"DIV",{class:!0,"data-svelte-h":!0}),he(ae)!=="svelte-k86l10"&&(ae.innerHTML=Se),we=E(Te),O=w(Te,"DIV",{class:!0,"data-svelte-h":!0}),he(O)!=="svelte-plebw3"&&(O.innerHTML=oe),de=E(Te),k&&k.l(Te),pe=E(Te),me=w(Te,"DIV",{class:!0,style:!0});var ot=S(me);se=w(ot,"DIV",{style:!0});var pt=S(se);z=w(pt,"DIV",{style:!0});var tt=S(z);ue=w(tt,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),he(ue)!=="svelte-jqhuth"&&(ue.textContent=x),Ie=E(tt),Me=w(tt,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),he(Me)!=="svelte-4t1ddz"&&(Me.textContent=Xe),$e=E(tt),Ve=w(tt,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),he(Ve)!=="svelte-sp826l"&&(Ve.textContent=ge),lt=E(tt),Le=w(tt,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),he(Le)!=="svelte-1kz16gz"&&(Le.textContent=ye),Be=E(tt),B=w(tt,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),he(B)!=="svelte-itqn71"&&(B.textContent=fe),tt.forEach(p),$=E(pt),te&&te.l(pt),pt.forEach(p),xe=E(ot),Ke=w(ot,"DIV",{style:!0});var dt=S(Ke);qe&&qe.l(dt),dt.forEach(p),ot.forEach(p),at=E(Te),ht=w(Te,"BR",{}),Te.forEach(p),this.h()},h(){h(n,"class","divH2"),h(r,"class","divH3"),h(d,"class","tbl-bordered"),h(V,"class","btn btn-action"),h(u,"class","pnlResults"),h(t,"id","resultsummary"),h(t,"class","containerSettings"),h(ae,"class","divH2"),h(O,"class","divH3"),h(ue,"class","btn btn-outline-black"),Y(ue,"margin-left","20px"),ne(ue,"btn-active",e[8]=="table"),h(Me,"class","btn btn-outline-black"),Y(Me,"margin-left","20px"),ne(Me,"btn-active",e[8]=="barplot"),h(Ve,"class","btn btn-outline-black"),Y(Ve,"margin-left","20px"),ne(Ve,"btn-active",e[8]=="tree"),h(Le,"class","btn btn-outline-black"),Y(Le,"margin-left","20px"),ne(Le,"btn-active",e[8]=="treemap"),h(B,"class","btn btn-outline-black"),Y(B,"margin-left","20px"),ne(B,"btn-active",e[8]=="heatmap"),Y(z,"padding","6px"),Y(z,"background-color","#2196f3"),Y(se,"border-bottom","1px solid lightgrey"),Y(Ke,"margin","50px 20px 20px 20px"),h(me,"class","pnlResults"),Y(me,"padding","0px"),h(W,"class","containerSettings"),Y(W,"margin-bottom","100px")},m(J,be){M(J,t,be),c(t,n),c(t,i),c(t,r),c(t,s),Fe&&Fe.m(t,null),c(t,a),c(t,u),c(u,f),c(f,d),c(d,g),c(d,_),c(d,v);for(let ut=0;ut<ve.length;ut+=1)ve[ut]&&ve[ut].m(v,null);c(u,y),c(u,C),c(C,I),c(C,G),c(C,V),c(C,D),Q&&Q.m(C,null),c(C,H),c(C,T),c(C,L),c(C,P),c(u,F),Ee&&Ee.m(u,null),M(J,X,be),M(J,W,be),c(W,ae),c(W,we),c(W,O),c(W,de),k&&k.m(W,null),c(W,pe),c(W,me),c(me,se),c(se,z),c(z,ue),c(z,Ie),c(z,Me),c(z,$e),c(z,Ve),c(z,lt),c(z,Le),c(z,Be),c(z,B),c(se,$),te&&te.m(se,null),c(me,xe),c(me,Ke),~je&&ke[je].m(Ke,null),c(W,at),c(W,ht),De=!0,it||(nt=[le(V,"click",e[39]),le(ue,"click",e[65]),le(Me,"click",e[66]),le(Ve,"click",e[67]),le(Le,"click",e[68]),le(B,"click",e[69])],it=!0)},p(J,be){if(J[18]===!0?Fe||(Fe=Hu(),Fe.c(),Fe.m(t,a)):Fe&&(Fe.d(1),Fe=null),be[0]&64){rt=_e(J[6].genesets);let K;for(K=0;K<rt.length;K+=1){const ee=Tu(J,rt,K);ve[K]?ve[K].p(ee,be):(ve[K]=Ou(ee),ve[K].c(),ve[K].m(v,null))}for(;K<ve.length;K+=1)ve[K].d(1);ve.length=rt.length}J[6].genelist.length>4e3?Q||(Q=Lu(),Q.c(),Q.m(C,H)):Q&&(Q.d(1),Q=null),J[16]?Ee?Ee.p(J,be):(Ee=Bu(J),Ee.c(),Ee.m(u,null)):Ee&&(Ee.d(1),Ee=null),J[18]===!0?k||(k=ju(),k.c(),k.m(W,pe)):k&&(k.d(1),k=null),(!De||be[0]&256)&&ne(ue,"btn-active",J[8]=="table"),(!De||be[0]&256)&&ne(Me,"btn-active",J[8]=="barplot"),(!De||be[0]&256)&&ne(Ve,"btn-active",J[8]=="tree"),(!De||be[0]&256)&&ne(Le,"btn-active",J[8]=="treemap"),(!De||be[0]&256)&&ne(B,"btn-active",J[8]=="heatmap"),J[6].genesets.length>1?te?te.p(J,be):(te=qu(J),te.c(),te.m(se,null)):te&&(te.d(1),te=null);let ut=je;je=Re(J),je===ut?~je&&ke[je].p(J,be):(qe&&(Nt(),ce(ke[ut],1,1,()=>{ke[ut]=null}),Ht()),~je?(qe=ke[je],qe?qe.p(J,be):(qe=ke[je]=Ge[je](J),qe.c()),re(qe,1),qe.m(Ke,null)):qe=null)},i(J){De||(re(qe),De=!0)},o(J){ce(qe),De=!1},d(J){J&&(p(t),p(X),p(W)),Fe&&Fe.d(),st(ve,J),Q&&Q.d(),Ee&&Ee.d(),k&&k.d(),te&&te.d(),~je&&ke[je].d(),it=!1,Xt(nt)}}}function Hu(e){let t,n='Settings were updated; click "START" to re-run GOAT and update below results';return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),he(t)!=="svelte-18fiddo"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){M(l,t,i)},d(l){l&&p(t)}}}function Ou(e){let t,n,l=e[76].source+"",i,r,o,s=e[76].genesets.length+"",a,u,f,d=e[76].stats.signif_count+"",g,m;return{c(){t=b("tr"),n=b("td"),i=q(l),r=R(),o=b("td"),a=q(s),u=R(),f=b("td"),g=q(d),m=R()},l(_){t=w(_,"TR",{});var v=S(t);n=w(v,"TD",{});var y=S(n);i=U(y,l),y.forEach(p),r=E(v),o=w(v,"TD",{});var C=S(o);a=U(C,s),C.forEach(p),u=E(v),f=w(v,"TD",{});var I=S(f);g=U(I,d),I.forEach(p),m=E(v),v.forEach(p)},m(_,v){M(_,t,v),c(t,n),c(n,i),c(t,r),c(t,o),c(o,a),c(t,u),c(t,f),c(f,g),c(t,m)},p(_,v){v[0]&64&&l!==(l=_[76].source+"")&&Ae(i,l),v[0]&64&&s!==(s=_[76].genesets.length+"")&&Ae(a,s),v[0]&64&&d!==(d=_[76].stats.signif_count+"")&&Ae(g,d)},d(_){_&&p(t)}}}function Lu(e){let t,n="this might take a few seconds for large genelists";return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),he(t)!=="svelte-1ogapqd"&&(t.textContent=n),this.h()},h(){h(t,"class","helpText")},m(l,i){M(l,t,i)},d(l){l&&p(t)}}}function Bu(e){let t,n="error on download:",l,i,r;return{c(){t=b("b"),t.textContent=n,l=R(),i=b("div"),r=q(e[16]),this.h()},l(o){t=w(o,"B",{"data-svelte-h":!0}),he(t)!=="svelte-yesmo3"&&(t.textContent=n),l=E(o),i=w(o,"DIV",{class:!0});var s=S(i);r=U(s,e[16]),s.forEach(p),this.h()},h(){h(i,"class","alert")},m(o,s){M(o,t,s),M(o,l,s),M(o,i,s),c(i,r)},p(o,s){s[0]&65536&&Ae(r,o[16])},d(o){o&&(p(t),p(l),p(i))}}}function ju(e){let t,n='Settings were updated; click "START" to re-run GOAT and update below results';return{c(){t=b("div"),t.textContent=n,this.h()},l(l){t=w(l,"DIV",{class:!0,"data-svelte-h":!0}),he(t)!=="svelte-18fiddo"&&(t.textContent=n),this.h()},h(){h(t,"class","alert")},m(l,i){M(l,t,i)},d(l){l&&p(t)}}}function qu(e){let t,n=_e(e[6].genesets),l=[];for(let i=0;i<n.length;i+=1)l[i]=Uu(Vu(e,n,i));return{c(){t=b("div");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){t=w(i,"DIV",{style:!0});var r=S(t);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(p),this.h()},h(){Y(t,"padding","6px"),Y(t,"background-color","#90caf9")},m(i,r){M(i,t,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null)},p(i,r){if(r[0]&576){n=_e(i[6].genesets);let o;for(o=0;o<n.length;o+=1){const s=Vu(i,n,o);l[o]?l[o].p(s,r):(l[o]=Uu(s),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(i){i&&p(t),st(l,i)}}}function Uu(e){let t,n=e[76].source+"",l,i,r,o;function s(){return e[70](e[78])}return{c(){t=b("button"),l=q(n),i=R(),this.h()},l(a){t=w(a,"BUTTON",{class:!0,style:!0});var u=S(t);l=U(u,n),i=E(u),u.forEach(p),this.h()},h(){h(t,"class","btn btn-outline-grey"),Y(t,"margin-left","20px"),ne(t,"btn-active",e[9]==e[78])},m(a,u){M(a,t,u),c(t,l),c(t,i),r||(o=le(t,"click",s),r=!0)},p(a,u){e=a,u[0]&64&&n!==(n=e[76].source+"")&&Ae(l,n),u[0]&512&&ne(t,"btn-active",e[9]==e[78])},d(a){a&&p(t),r=!1,o()}}}function m1(e){let t,n;return t=new Zh({props:{selectedSourceIndex:e[9]}}),{c(){Ze(t.$$.fragment)},l(l){et(t.$$.fragment,l)},m(l,i){Je(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(re(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){Qe(t,l)}}}function v1(e){let t,n;return t=new a1({props:{selectedSourceIndex:e[9],scoreType:e[6].settings.scoreType}}),{c(){Ze(t.$$.fragment)},l(l){et(t.$$.fragment,l)},m(l,i){Je(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),i[0]&64&&(r.scoreType=l[6].settings.scoreType),t.$set(r)},i(l){n||(re(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){Qe(t,l)}}}function b1(e){let t,n;return t=new Th({props:{selectedSourceIndex:e[9]}}),{c(){Ze(t.$$.fragment)},l(l){et(t.$$.fragment,l)},m(l,i){Je(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(re(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){Qe(t,l)}}}function w1(e){let t,n;return t=new _h({props:{selectedSourceIndex:e[9]}}),{c(){Ze(t.$$.fragment)},l(l){et(t.$$.fragment,l)},m(l,i){Je(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(re(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){Qe(t,l)}}}function y1(e){let t,n;return t=new Kg({props:{selectedSourceIndex:e[9]}}),{c(){Ze(t.$$.fragment)},l(l){et(t.$$.fragment,l)},m(l,i){Je(t,l,i),n=!0},p(l,i){const r={};i[0]&512&&(r.selectedSourceIndex=l[9]),t.$set(r)},i(l){n||(re(t.$$.fragment,l),n=!0)},o(l){ce(t.$$.fragment,l),n=!1},d(l){Qe(t,l)}}}function S1(e){let t,n,l,i,r,o,s,a,u,f,d,g,m,_,v,y,C,I,G,V,A,D,H=`<h1>Online geneset enrichment analysis tool for the GOAT algorithm</h1> <div style="margin: 0px 150px 0px 150px; text-align: center;"><h3>Identify enriched genesets using GOAT and inspect your results using interactive tables and
				data visualizations.</h3> <img src="beta.png" width="200px" alt="BETA VERSION"/></div>`,T,L,P,j="<h2>Genelist</h2>",F,X,W="<h3>Load your input data; a table of genes and their p-values/effectsizes.</h3>",ae,Se,we,O,oe,de,pe,me,se,z,ue,x="drag&drop a genelist file or click to open a file dialog",Ie,Me,Xe,$e,Ve,ge,lt,Le,ye,Be,B,fe,$,xe,Ke,je,qe,at,ht=`<li>File format: either CSV, TSV or Excel (.xlsx file, data on the first sheet)</li> <li>Required columns (column names must match exactly)</li> <ol><li><b>gene</b>: Human Entrez (NCBI) gene IDs</li> <li><b>symbol</b>: gene symbol</li> <li><b>effectsize</b>: effectsize or log2 foldchange</li> <li><b>pvalue</b>: gene p-value (preferably un-adjusted)</li> <li><b>signif</b>: was the adjusted p-value significant?
											<br/>(boolean values, i.e. &#39;true&#39; or &#39;false&#39;)</li></ol> <li>No missing/empty values in any of these columns</li>`,De,it,nt,Fe,rt,ve,Q,Ee,k,te,Ge,ke,Re,J,be,ut="<h2>Genesets</h2>",K,ee,Z="<h3>Select the genesets that should be used for GOAT analyses.</h3>",Ce,Te,ot,pt,tt,dt,We,ct,Yt,xt,qt,St,Tt,In,en,el="Â ",tn,Tn,Yl="load GO genesets (typical use of this tool)",Kl,dn,_n,Kt,Zl,tl,Jl,cn,An,Mt,yt,kt="Â ",Ct,bt,ie="load genesets from the synaptic knowledgebase (SynGO)",Ne,It,vt,Ot,mn,Ft,gn,Rt,At,zt,Fn,Pn,Dt,Ql="Â ",Yn,sn,$l=`load genesets prepared in the GMT file format (i.e. load a GMT file from your
								computer)`,Kn,vn,wl,nl,Zi,Mn,ll,ao="<h2>GOAT analysis</h2>",Ji,il,uo="<h3>Settings &amp; apply algorithm.</h3>",Qi,bn,xl,Zt,zn,rl,fo="gene score type:",$i,ei,Dn,xi,Vn,er,tr,nr,Zn,lr,ir,rr,Gn,ol,co="geneset size, minimum:",or,ti,wn,sr,sl,go="must be at least 10, recommended to leave at default (10)",ar,Nn,al,ho="geneset size, maximum:",ur,ni,yn,fr,ul,po=`threshold on geneset size, i.e. intersection of the input geneset and your genelist.
							Typically set to 1500, recommended to leave at default. The largest allowed geneset
							size is [50% of the genelist], GOAT will automatically discard larger
							genesets`,dr,fl,dl,_o="p-value adjustment:",cr,Jn,cl,Hn,hi,gr,gl,mo="Bonferroni",hr,hl,On,pi,pr,pl,vo="FDR",_r,Ln,_l,bo="adj. p-value threshold:",mr,li,Sn,vr,ml,wo=`genesets with adjusted p-value â¤ this threshold are considered significant. Must be
							a numeric value between 0 and 1`,br,Bn,yl,yo="Â ",wr,jn,nn,yr,_i,Sr,qn,Cr,kr,vl,Rr,Er,Ir=e[6]!==void 0&&Array.isArray(e[6].genesets),mi,Sl,Et,Ar,So;function Ef(N){e[44](N)}let Co={colour:"black",size:"2.5em"};e[20]!==void 0&&(Co.show=e[20]),ge=new Xn({props:Co}),gt.push(()=>mt(ge,"show",Ef));function ko(N,Ue){return N[13]?d1:typeof N[5]=="object"&&N[5].ok===!0?f1:u1}let vi=ko(e),Cn=vi(e);function If(N){e[50](N)}let Ro={colour:"black",size:"1.5em"};e[21]!==void 0&&(Ro.show=e[21]),ve=new Xn({props:Ro}),gt.push(()=>mt(ve,"show",If));function Af(N){e[51](N)}let Eo={colour:"black",size:"1.5em"};e[22]!==void 0&&(Eo.show=e[22]),St=new Xn({props:Eo}),gt.push(()=>mt(St,"show",Af));function Mf(N){e[52](N)}let Io={colour:"black",size:"1.5em"};e[23]!==void 0&&(Io.show=e[23]),cn=new Xn({props:Io}),gt.push(()=>mt(cn,"show",Mf));function Df(N){e[54](N)}let Ao={colour:"black",size:"1.5em"};e[24]!==void 0&&(Ao.show=e[24]),zt=new Xn({props:Ao}),gt.push(()=>mt(zt,"show",Df));function Mo(N,Ue){return N[14]?h1:typeof N[19]=="object"&&N[19].ok===!0?g1:c1}let bi=Mo(e),kn=bi(e),Cl=_e(e[17]),Lt=[];for(let N=0;N<Cl.length;N+=1)Lt[N]=zu(Fu(e,Cl,N));function Vf(N){e[64](N)}let Do={colour:"black",size:"1.5em"};e[25]!==void 0&&(Do.show=e[25]),qn=new Xn({props:Do}),gt.push(()=>mt(qn,"show",Vf));function Vo(N,Ue){if(!(typeof N[5]=="object"&&N[5].ok===!0&&typeof N[19]=="object"&&N[19].ok===!0))return _1;if(N[10]||N[11]||N[12])return p1}let kl=Vo(e),ln=kl&&kl(e),Ut=!!e[15]&&Gu(e),Pt=Ir&&Nu(e);return{c(){t=b("meta"),n=R(),l=b("nav"),i=b("div"),r=b("a"),o=b("img"),a=R(),u=b("a"),f=q("Home"),d=R(),g=b("a"),m=q("GOAT online"),_=R(),v=b("a"),y=q("gene ID mapping"),C=R(),I=b("a"),G=q("Documentation"),V=R(),A=b("div"),D=b("div"),D.innerHTML=H,T=R(),L=b("div"),P=b("div"),P.innerHTML=j,F=R(),X=b("div"),X.innerHTML=W,ae=R(),Se=b("div"),we=b("table"),O=b("tbody"),oe=b("tr"),de=b("td"),pe=b("input"),me=R(),se=b("div"),z=b("p"),ue=b("i"),ue.textContent=x,Ie=R(),Me=b("br"),Xe=R(),$e=b("i"),Ve=R(),Ze(ge.$$.fragment),Le=R(),ye=b("div"),Be=b("br"),B=R(),fe=b("br"),$=R(),Cn.c(),xe=R(),Ke=b("td"),je=b("div"),qe=q(`Importantly, your input genelist / gene table must be prepared in a format that is
								compatible with this tool. In brief,
								`),at=b("ul"),at.innerHTML=ht,De=q(`

								Further information and examples are available in the
								`),it=b("a"),nt=q("documentation"),Fe=q(`.

								`),rt=b("div"),Ze(ve.$$.fragment),Ee=R(),k=b("button"),te=q("click here to load example genelist."),ke=q(`
									Instead of preparing and uploading your own genelist, you can immediately try this
									tool using an example genelist from a proteomics study on Alzheimer's disease by Wingo
									et al. (download link and reference available through the documentation section)`),Re=R(),J=b("div"),be=b("div"),be.innerHTML=ut,K=R(),ee=b("div"),ee.innerHTML=Z,Ce=R(),Te=b("div"),ot=b("div"),pt=b("table"),tt=b("tbody"),dt=b("tr"),We=b("td"),ct=b("button"),Yt=q("Gene Ontology"),qt=R(),Ze(St.$$.fragment),In=R(),en=b("td"),en.textContent=el,tn=R(),Tn=b("td"),Tn.textContent=Yl,Kl=R(),dn=b("tr"),_n=b("td"),Kt=b("button"),Zl=q("SynGO"),Jl=R(),Ze(cn.$$.fragment),Mt=R(),yt=b("td"),yt.textContent=kt,Ct=R(),bt=b("td"),bt.textContent=ie,Ne=R(),It=b("tr"),vt=b("td"),Ot=b("input"),mn=R(),Ft=b("button"),gn=q("upload GMT file"),At=R(),Ze(zt.$$.fragment),Pn=R(),Dt=b("td"),Dt.textContent=Ql,Yn=R(),sn=b("td"),sn.textContent=$l,Kn=R(),vn=b("div"),wl=b("br"),nl=R(),kn.c(),Zi=R(),Mn=b("div"),ll=b("div"),ll.innerHTML=ao,Ji=R(),il=b("div"),il.innerHTML=uo,Qi=R(),bn=b("div"),xl=b("table"),Zt=b("tbody"),zn=b("tr"),rl=b("td"),rl.textContent=fo,$i=R(),ei=b("td"),Dn=b("select");for(let N=0;N<Lt.length;N+=1)Lt[N].c();xi=R(),Vn=b("td"),er=q(`recommended to set to "effectsize", if available in your genelist
							`),tr=b("br"),nr=q(`(refer to the
							`),Zn=b("a"),lr=q("Documentation"),ir=q(`
							for preparing your input data accordingly)`),rr=R(),Gn=b("tr"),ol=b("td"),ol.textContent=co,or=R(),ti=b("td"),wn=b("input"),sr=R(),sl=b("td"),sl.textContent=go,ar=R(),Nn=b("tr"),al=b("td"),al.textContent=ho,ur=R(),ni=b("td"),yn=b("input"),fr=R(),ul=b("td"),ul.textContent=po,dr=R(),fl=b("tr"),dl=b("td"),dl.textContent=_o,cr=R(),Jn=b("td"),cl=b("div"),Hn=b("input"),gr=R(),gl=b("label"),gl.textContent=mo,hr=R(),hl=b("div"),On=b("input"),pr=R(),pl=b("label"),pl.textContent=vo,_r=R(),Ln=b("tr"),_l=b("td"),_l.textContent=bo,mr=R(),li=b("td"),Sn=b("input"),vr=R(),ml=b("td"),ml.textContent=wo,br=R(),Bn=b("tr"),yl=b("td"),yl.textContent=yo,wr=R(),jn=b("td"),nn=b("button"),yr=q("START"),Sr=R(),Ze(qn.$$.fragment),kr=R(),vl=b("td"),ln&&ln.c(),Rr=R(),Ut&&Ut.c(),Er=R(),Pt&&Pt.c(),mi=R(),Sl=b("canvas"),this.h()},l(N){const Ue=Lf("svelte-1hc78a4",Br.head);t=w(Ue,"META",{name:!0,content:!0}),Ue.forEach(p),n=E(N),l=w(N,"NAV",{});var Gt=S(l);i=w(Gt,"DIV",{style:!0});var ii=S(i);r=w(ii,"A",{href:!0});var ri=S(r);o=w(ri,"IMG",{src:!0,width:!0,height:!0,alt:!0}),ri.forEach(p),ii.forEach(p),a=E(Gt),u=w(Gt,"A",{href:!0,style:!0});var oi=S(u);f=U(oi,"Home"),oi.forEach(p),d=E(Gt),g=w(Gt,"A",{href:!0,style:!0,class:!0});var si=S(g);m=U(si,"GOAT online"),si.forEach(p),_=E(Gt),v=w(Gt,"A",{href:!0,style:!0});var ai=S(v);y=U(ai,"gene ID mapping"),ai.forEach(p),C=E(Gt),I=w(Gt,"A",{href:!0,style:!0});var Jt=S(I);G=U(Jt,"Documentation"),Jt.forEach(p),Gt.forEach(p),V=E(N),A=w(N,"DIV",{tabindex:!0,role:!0,"aria-pressed":!0});var an=S(A);D=w(an,"DIV",{class:!0,"data-svelte-h":!0}),he(D)!=="svelte-j0dsam"&&(D.innerHTML=H),T=E(an),L=w(an,"DIV",{class:!0});var Rl=S(L);P=w(Rl,"DIV",{class:!0,"data-svelte-h":!0}),he(P)!=="svelte-7havjb"&&(P.innerHTML=j),F=E(Rl),X=w(Rl,"DIV",{class:!0,"data-svelte-h":!0}),he(X)!=="svelte-31gbox"&&(X.innerHTML=W),ae=E(Rl),Se=w(Rl,"DIV",{class:!0});var To=S(Se);we=w(To,"TABLE",{});var Fo=S(we);O=w(Fo,"TBODY",{});var Po=S(O);oe=w(Po,"TR",{});var wi=S(oe);de=w(wi,"TD",{style:!0});var El=S(de);pe=w(El,"INPUT",{id:!0,type:!0,accept:!0,style:!0}),me=E(El),se=w(El,"DIV",{id:!0,tabindex:!0,role:!0,"aria-pressed":!0});var zo=S(se);z=w(zo,"P",{});var Qn=S(z);ue=w(Qn,"I",{"data-svelte-h":!0}),he(ue)!=="svelte-uobxa9"&&(ue.textContent=x),Ie=E(Qn),Me=w(Qn,"BR",{}),Xe=E(Qn),$e=w(Qn,"I",{class:!0}),S($e).forEach(p),Ve=E(Qn),et(ge.$$.fragment,Qn),Qn.forEach(p),zo.forEach(p),Le=E(El),ye=w(El,"DIV",{style:!0});var Il=S(ye);Be=w(Il,"BR",{}),B=E(Il),fe=w(Il,"BR",{}),$=E(Il),Cn.l(Il),Il.forEach(p),El.forEach(p),xe=E(wi),Ke=w(wi,"TD",{});var Go=S(Ke);je=w(Go,"DIV",{class:!0});var bl=S(je);qe=U(bl,`Importantly, your input genelist / gene table must be prepared in a format that is
								compatible with this tool. In brief,
								`),at=w(bl,"UL",{"data-svelte-h":!0}),he(at)!=="svelte-9uig0e"&&(at.innerHTML=ht),De=U(bl,`

								Further information and examples are available in the
								`),it=w(bl,"A",{href:!0,target:!0,tabindex:!0});var No=S(it);nt=U(No,"documentation"),No.forEach(p),Fe=U(bl,`.

								`),rt=w(bl,"DIV",{style:!0});var ui=S(rt);et(ve.$$.fragment,ui),Ee=E(ui),k=w(ui,"BUTTON",{class:!0,style:!0});var Ho=S(k);te=U(Ho,"click here to load example genelist."),Ho.forEach(p),ke=U(ui,`
									Instead of preparing and uploading your own genelist, you can immediately try this
									tool using an example genelist from a proteomics study on Alzheimer's disease by Wingo
									et al. (download link and reference available through the documentation section)`),ui.forEach(p),bl.forEach(p),Go.forEach(p),wi.forEach(p),Po.forEach(p),Fo.forEach(p),To.forEach(p),Rl.forEach(p),Re=E(an),J=w(an,"DIV",{class:!0});var Al=S(J);be=w(Al,"DIV",{class:!0,"data-svelte-h":!0}),he(be)!=="svelte-1clroec"&&(be.innerHTML=ut),K=E(Al),ee=w(Al,"DIV",{class:!0,"data-svelte-h":!0}),he(ee)!=="svelte-avc7bi"&&(ee.innerHTML=Z),Ce=E(Al),Te=w(Al,"DIV",{class:!0});var yi=S(Te);ot=w(yi,"DIV",{});var Oo=S(ot);pt=w(Oo,"TABLE",{});var Lo=S(pt);tt=w(Lo,"TBODY",{});var Ml=S(tt);dt=w(Ml,"TR",{});var Dl=S(dt);We=w(Dl,"TD",{style:!0});var Si=S(We);ct=w(Si,"BUTTON",{class:!0,style:!0});var Bo=S(ct);Yt=U(Bo,"Gene Ontology"),Bo.forEach(p),qt=E(Si),et(St.$$.fragment,Si),Si.forEach(p),In=E(Dl),en=w(Dl,"TD",{"data-svelte-h":!0}),he(en)!=="svelte-mcho4g"&&(en.textContent=el),tn=E(Dl),Tn=w(Dl,"TD",{class:!0,"data-svelte-h":!0}),he(Tn)!=="svelte-fflmn8"&&(Tn.textContent=Yl),Dl.forEach(p),Kl=E(Ml),dn=w(Ml,"TR",{});var Vl=S(dn);_n=w(Vl,"TD",{style:!0});var Ci=S(_n);Kt=w(Ci,"BUTTON",{class:!0,style:!0});var jo=S(Kt);Zl=U(jo,"SynGO"),jo.forEach(p),Jl=E(Ci),et(cn.$$.fragment,Ci),Ci.forEach(p),Mt=E(Vl),yt=w(Vl,"TD",{"data-svelte-h":!0}),he(yt)!=="svelte-mcho4g"&&(yt.textContent=kt),Ct=E(Vl),bt=w(Vl,"TD",{class:!0,"data-svelte-h":!0}),he(bt)!=="svelte-142skxt"&&(bt.textContent=ie),Vl.forEach(p),Ne=E(Ml),It=w(Ml,"TR",{});var Tl=S(It);vt=w(Tl,"TD",{style:!0});var Fl=S(vt);Ot=w(Fl,"INPUT",{id:!0,type:!0,accept:!0,style:!0}),mn=E(Fl),Ft=w(Fl,"BUTTON",{class:!0,style:!0});var qo=S(Ft);gn=U(qo,"upload GMT file"),qo.forEach(p),At=E(Fl),et(zt.$$.fragment,Fl),Fl.forEach(p),Pn=E(Tl),Dt=w(Tl,"TD",{"data-svelte-h":!0}),he(Dt)!=="svelte-mcho4g"&&(Dt.textContent=Ql),Yn=E(Tl),sn=w(Tl,"TD",{class:!0,"data-svelte-h":!0}),he(sn)!=="svelte-1deotz4"&&(sn.textContent=$l),Tl.forEach(p),Ml.forEach(p),Lo.forEach(p),Oo.forEach(p),Kn=E(yi),vn=w(yi,"DIV",{});var ki=S(vn);wl=w(ki,"BR",{}),nl=E(ki),kn.l(ki),ki.forEach(p),yi.forEach(p),Al.forEach(p),Zi=E(an),Mn=w(an,"DIV",{class:!0});var Pl=S(Mn);ll=w(Pl,"DIV",{class:!0,"data-svelte-h":!0}),he(ll)!=="svelte-1kt4qpn"&&(ll.innerHTML=ao),Ji=E(Pl),il=w(Pl,"DIV",{class:!0,"data-svelte-h":!0}),he(il)!=="svelte-379imc"&&(il.innerHTML=uo),Qi=E(Pl),bn=w(Pl,"DIV",{class:!0});var Ri=S(bn);xl=w(Ri,"TABLE",{});var Uo=S(xl);Zt=w(Uo,"TBODY",{});var hn=S(Zt);zn=w(hn,"TR",{});var zl=S(zn);rl=w(zl,"TD",{class:!0,"data-svelte-h":!0}),he(rl)!=="svelte-sanjpb"&&(rl.textContent=fo),$i=E(zl),ei=w(zl,"TD",{});var Xo=S(ei);Dn=w(Xo,"SELECT",{});var Wo=S(Dn);for(let Mr=0;Mr<Lt.length;Mr+=1)Lt[Mr].l(Wo);Wo.forEach(p),Xo.forEach(p),xi=E(zl),Vn=w(zl,"TD",{class:!0});var Gl=S(Vn);er=U(Gl,`recommended to set to "effectsize", if available in your genelist
							`),tr=w(Gl,"BR",{}),nr=U(Gl,`(refer to the
							`),Zn=w(Gl,"A",{href:!0,target:!0,tabindex:!0});var Yo=S(Zn);lr=U(Yo,"Documentation"),Yo.forEach(p),ir=U(Gl,`
							for preparing your input data accordingly)`),Gl.forEach(p),zl.forEach(p),rr=E(hn),Gn=w(hn,"TR",{});var Nl=S(Gn);ol=w(Nl,"TD",{class:!0,"data-svelte-h":!0}),he(ol)!=="svelte-7lt6jw"&&(ol.textContent=co),or=E(Nl),ti=w(Nl,"TD",{});var Ko=S(ti);wn=w(Ko,"INPUT",{class:!0}),Ko.forEach(p),sr=E(Nl),sl=w(Nl,"TD",{class:!0,"data-svelte-h":!0}),he(sl)!=="svelte-10995iv"&&(sl.textContent=go),Nl.forEach(p),ar=E(hn),Nn=w(hn,"TR",{});var Hl=S(Nn);al=w(Hl,"TD",{class:!0,"data-svelte-h":!0}),he(al)!=="svelte-aoup1q"&&(al.textContent=ho),ur=E(Hl),ni=w(Hl,"TD",{});var Zo=S(ni);yn=w(Zo,"INPUT",{class:!0}),Zo.forEach(p),fr=E(Hl),ul=w(Hl,"TD",{class:!0,"data-svelte-h":!0}),he(ul)!=="svelte-1ol7e05"&&(ul.textContent=po),Hl.forEach(p),dr=E(hn),fl=w(hn,"TR",{});var Ei=S(fl);dl=w(Ei,"TD",{class:!0,"data-svelte-h":!0}),he(dl)!=="svelte-1qa4fvu"&&(dl.textContent=_o),cr=E(Ei),Jn=w(Ei,"TD",{colspan:!0});var Ii=S(Jn);cl=w(Ii,"DIV",{});var Ai=S(cl);Hn=w(Ai,"INPUT",{type:!0,id:!0,name:!0}),gr=E(Ai),gl=w(Ai,"LABEL",{for:!0,"data-svelte-h":!0}),he(gl)!=="svelte-3hf4fz"&&(gl.textContent=mo),Ai.forEach(p),hr=E(Ii),hl=w(Ii,"DIV",{});var Mi=S(hl);On=w(Mi,"INPUT",{type:!0,id:!0,name:!0}),pr=E(Mi),pl=w(Mi,"LABEL",{for:!0,"data-svelte-h":!0}),he(pl)!=="svelte-auc0r"&&(pl.textContent=vo),Mi.forEach(p),Ii.forEach(p),Ei.forEach(p),_r=E(hn),Ln=w(hn,"TR",{});var Ol=S(Ln);_l=w(Ol,"TD",{class:!0,"data-svelte-h":!0}),he(_l)!=="svelte-i0758a"&&(_l.textContent=bo),mr=E(Ol),li=w(Ol,"TD",{});var Jo=S(li);Sn=w(Jo,"INPUT",{class:!0}),Jo.forEach(p),vr=E(Ol),ml=w(Ol,"TD",{class:!0,"data-svelte-h":!0}),he(ml)!=="svelte-gag5uy"&&(ml.textContent=wo),Ol.forEach(p),br=E(hn),Bn=w(hn,"TR",{});var Ll=S(Bn);yl=w(Ll,"TD",{"data-svelte-h":!0}),he(yl)!=="svelte-mcho4g"&&(yl.textContent=yo),wr=E(Ll),jn=w(Ll,"TD",{style:!0});var Di=S(jn);nn=w(Di,"BUTTON",{class:!0,style:!0});var Qo=S(nn);yr=U(Qo,"START"),Qo.forEach(p),Sr=E(Di),et(qn.$$.fragment,Di),Di.forEach(p),kr=E(Ll),vl=w(Ll,"TD",{class:!0});var $o=S(vl);ln&&ln.l($o),$o.forEach(p),Ll.forEach(p),hn.forEach(p),Uo.forEach(p),Rr=E(Ri),Ut&&Ut.l(Ri),Ri.forEach(p),Pl.forEach(p),Er=E(an),Pt&&Pt.l(an),an.forEach(p),mi=E(N),Sl=w(N,"CANVAS",{id:!0}),S(Sl).forEach(p),this.h()},h(){Br.title="GOAT: Geneset Ordinal Association Test - online geneset enrichment analyses",h(t,"name","description"),h(t,"content","Geneset enrichment analysis for Geneset Ontology (GO) or KEGG pathways using the GOAT algorithm webtool. Online data analysis for your preranked genelist from e.g. proteomics or bulk/scRNAseq gene expression studies"),Bf(o.src,s=e[26]+"android-chrome-192x192.png")||h(o,"src",s),h(o,"width","40"),h(o,"height","40"),h(o,"alt","GOAT"),h(r,"href",e[26]),Y(i,"padding","4px"),Y(i,"margin-left","20px"),h(u,"href",e[26]),Y(u,"margin-left","5px"),h(g,"href",e[26]+"goat"),Y(g,"margin-left","40px"),h(g,"class","active"),h(v,"href",e[26]+"genemap"),Y(v,"margin-left","40px"),h(I,"href",e[26]+"docs"),Y(I,"margin-left","40px"),h(D,"class","divH1"),h(P,"class","divH2"),h(X,"class","divH3"),h(pe,"id","genelistFileDialog"),h(pe,"type","file"),h(pe,"accept",".csv,.tsv,.xlsx"),pe.multiple="false",Y(pe,"display","none"),h($e,"class","dropicon"),h(se,"id","genelist_dropzone"),h(se,"tabindex","0"),h(se,"role","button"),h(se,"aria-pressed","false"),ne(se,"is-dragover",e[7]===!0),h(ye,"style",""),Y(de,"vertical-align","top"),Y(de,"width","300px"),h(it,"href",e[26]+"docs"),h(it,"target","_blank"),h(it,"tabindex","-1"),h(k,"class","hrefUIaction"),Y(k,"font-weight","700"),k.disabled=Ge=e[21]===!0,Y(rt,"margin-top","20px"),h(je,"class","helpSettings"),h(Se,"class","pnlSettings"),ne(Se,"ok",typeof e[5]=="object"&&e[5].ok===!0),h(L,"class","containerSettings"),h(be,"class","divH2"),h(ee,"class","divH3"),h(ct,"class","btn btn-outline-blue"),Y(ct,"margin-right","5px"),ct.disabled=xt=e[22]||e[23]||e[24],ne(ct,"btn-active",typeof e[19]=="object"&&e[19].type==="go"),Y(We,"display","flex"),Y(We,"width","180px"),h(Tn,"class","helpSettings"),h(Kt,"class","btn btn-outline-blue"),Y(Kt,"margin-right","5px"),Kt.disabled=tl=e[22]||e[23]||e[24],ne(Kt,"btn-active",typeof e[19]=="object"&&e[19].type==="syngo"),Y(_n,"display","flex"),Y(_n,"width","180px"),h(bt,"class","helpSettings"),h(Ot,"id","genesetGMTFileDialog"),h(Ot,"type","file"),h(Ot,"accept",".gmt"),Ot.multiple="false",Y(Ot,"display","none"),h(Ft,"class","btn btn-outline-blue"),Y(Ft,"margin-right","5px"),Ft.disabled=Rt=e[22]||e[23]||e[24],ne(Ft,"btn-active",typeof e[19]=="object"&&e[19].type==="gmt"),Y(vt,"display","flex"),Y(vt,"width","180px"),h(sn,"class","helpSettings"),h(Te,"class","pnlSettings"),ne(Te,"ok",typeof e[19]=="object"&&e[19].ok===!0),h(J,"class","containerSettings"),h(ll,"class","divH2"),h(il,"class","divH3"),h(rl,"class","textRight"),e[4]===void 0&&Wn(()=>e[55].call(Dn)),h(Zn,"href",e[26]+"docs"),h(Zn,"target","_blank"),h(Zn,"tabindex","-1"),h(Vn,"class","helpSettings"),h(ol,"class","textRight"),h(wn,"class","inputNumber"),ne(wn,"invalid-input",e[10]===!0),h(sl,"class","helpSettings"),h(al,"class","textRight"),h(yn,"class","inputNumber"),ne(yn,"invalid-input",e[11]===!0),h(ul,"class","helpSettings"),h(dl,"class","textRight valign-top"),h(Hn,"type","radio"),h(Hn,"id","padjBonferroni"),h(Hn,"name","radioPadjust"),Hn.checked=hi=e[2]=="bonferroni",h(gl,"for","padjBonferroni"),h(On,"type","radio"),h(On,"id","padjFDR"),h(On,"name","radioPadjust"),On.checked=pi=e[2]=="fdr",h(pl,"for","padjFDR"),h(Jn,"colspan","2"),h(_l,"class","textRight"),h(Sn,"class","inputNumber"),ne(Sn,"invalid-input",e[12]===!0),h(ml,"class","helpSettings"),h(nn,"class","btn"),Y(nn,"margin-right","5px"),nn.disabled=_i=e[25]===!0||!(typeof e[5]=="object"&&e[5].ok===!0&&typeof e[19]=="object"&&e[19].ok===!0&&e[10]==!1&&e[11]==!1&&e[12]==!1),ne(nn,"btn-action",e[18]!==!0),ne(nn,"btn-warning",e[18]===!0),Y(jn,"display","flex"),Y(jn,"width","100px"),h(vl,"class","helpSettings"),h(bn,"class","pnlSettings"),ne(bn,"ok",!(e[18]||e[10]||e[11]||e[12]||!(typeof e[5]=="object"&&e[5].ok===!0&&typeof e[19]=="object"&&e[19].ok===!0))),h(Mn,"class","containerSettings"),h(A,"tabindex","-1"),h(A,"role","button"),h(A,"aria-pressed","false"),h(Sl,"id","mycanvas")},m(N,Ue){c(Br.head,t),M(N,n,Ue),M(N,l,Ue),c(l,i),c(i,r),c(r,o),c(l,a),c(l,u),c(u,f),c(l,d),c(l,g),c(g,m),c(l,_),c(l,v),c(v,y),c(l,C),c(l,I),c(I,G),M(N,V,Ue),M(N,A,Ue),c(A,D),c(A,T),c(A,L),c(L,P),c(L,F),c(L,X),c(L,ae),c(L,Se),c(Se,we),c(we,O),c(O,oe),c(oe,de),c(de,pe),c(de,me),c(de,se),c(se,z),c(z,ue),c(z,Ie),c(z,Me),c(z,Xe),c(z,$e),c(z,Ve),Je(ge,z,null),c(de,Le),c(de,ye),c(ye,Be),c(ye,B),c(ye,fe),c(ye,$),Cn.m(ye,null),c(oe,xe),c(oe,Ke),c(Ke,je),c(je,qe),c(je,at),c(je,De),c(je,it),c(it,nt),c(je,Fe),c(je,rt),Je(ve,rt,null),c(rt,Ee),c(rt,k),c(k,te),c(rt,ke),c(A,Re),c(A,J),c(J,be),c(J,K),c(J,ee),c(J,Ce),c(J,Te),c(Te,ot),c(ot,pt),c(pt,tt),c(tt,dt),c(dt,We),c(We,ct),c(ct,Yt),c(We,qt),Je(St,We,null),c(dt,In),c(dt,en),c(dt,tn),c(dt,Tn),c(tt,Kl),c(tt,dn),c(dn,_n),c(_n,Kt),c(Kt,Zl),c(_n,Jl),Je(cn,_n,null),c(dn,Mt),c(dn,yt),c(dn,Ct),c(dn,bt),c(tt,Ne),c(tt,It),c(It,vt),c(vt,Ot),c(vt,mn),c(vt,Ft),c(Ft,gn),c(vt,At),Je(zt,vt,null),c(It,Pn),c(It,Dt),c(It,Yn),c(It,sn),c(Te,Kn),c(Te,vn),c(vn,wl),c(vn,nl),kn.m(vn,null),c(A,Zi),c(A,Mn),c(Mn,ll),c(Mn,Ji),c(Mn,il),c(Mn,Qi),c(Mn,bn),c(bn,xl),c(xl,Zt),c(Zt,zn),c(zn,rl),c(zn,$i),c(zn,ei),c(ei,Dn);for(let Gt=0;Gt<Lt.length;Gt+=1)Lt[Gt]&&Lt[Gt].m(Dn,null);rn(Dn,e[4],!0),c(zn,xi),c(zn,Vn),c(Vn,er),c(Vn,tr),c(Vn,nr),c(Vn,Zn),c(Zn,lr),c(Vn,ir),c(Zt,rr),c(Zt,Gn),c(Gn,ol),c(Gn,or),c(Gn,ti),c(ti,wn),Bt(wn,e[0]),c(Gn,sr),c(Gn,sl),c(Zt,ar),c(Zt,Nn),c(Nn,al),c(Nn,ur),c(Nn,ni),c(ni,yn),Bt(yn,e[1]),c(Nn,fr),c(Nn,ul),c(Zt,dr),c(Zt,fl),c(fl,dl),c(fl,cr),c(fl,Jn),c(Jn,cl),c(cl,Hn),c(cl,gr),c(cl,gl),c(Jn,hr),c(Jn,hl),c(hl,On),c(hl,pr),c(hl,pl),c(Zt,_r),c(Zt,Ln),c(Ln,_l),c(Ln,mr),c(Ln,li),c(li,Sn),Bt(Sn,e[3]),c(Ln,vr),c(Ln,ml),c(Zt,br),c(Zt,Bn),c(Bn,yl),c(Bn,wr),c(Bn,jn),c(jn,nn),c(nn,yr),c(jn,Sr),Je(qn,jn,null),c(Bn,kr),c(Bn,vl),ln&&ln.m(vl,null),c(bn,Rr),Ut&&Ut.m(bn,null),c(A,Er),Pt&&Pt.m(A,null),M(N,mi,Ue),M(N,Sl,Ue),Et=!0,Ar||(So=[le(pe,"change",e[43]),le(se,"keydown",Xu),le(se,"click",Xu),le(se,"dragstart",pn),le(se,"dragover",e[45]),le(se,"dragenter",e[46]),le(se,"dragleave",e[47]),le(se,"dragend",e[48]),le(se,"drop",e[49]),le(k,"click",e[35]),le(ct,"click",e[36]),le(Kt,"click",e[37]),le(Ot,"change",e[53]),le(Ft,"click",C1),le(Dn,"change",e[55]),le(wn,"input",e[56]),le(wn,"change",e[57]),le(yn,"input",e[58]),le(yn,"change",e[59]),le(Hn,"change",e[60]),le(On,"change",e[61]),le(Sn,"input",e[62]),le(Sn,"change",e[63]),le(nn,"click",e[40]),le(A,"keydown",void 0),le(A,"dragstart",pn),le(A,"dragover",pn),le(A,"dragenter",pn),le(A,"dragleave",pn),le(A,"dragend",pn),le(A,"drop",pn)],Ar=!0)},p(N,Ue){const Gt={};!lt&&Ue[0]&1048576&&(lt=!0,Gt.show=N[20],_t(()=>lt=!1)),ge.$set(Gt),(!Et||Ue[0]&128)&&ne(se,"is-dragover",N[7]===!0),vi===(vi=ko(N))&&Cn?Cn.p(N,Ue):(Cn.d(1),Cn=vi(N),Cn&&(Cn.c(),Cn.m(ye,null)));const ii={};!Q&&Ue[0]&2097152&&(Q=!0,ii.show=N[21],_t(()=>Q=!1)),ve.$set(ii),(!Et||Ue[0]&2097152&&Ge!==(Ge=N[21]===!0))&&(k.disabled=Ge),(!Et||Ue[0]&32)&&ne(Se,"ok",typeof N[5]=="object"&&N[5].ok===!0),(!Et||Ue[0]&29360128&&xt!==(xt=N[22]||N[23]||N[24]))&&(ct.disabled=xt),(!Et||Ue[0]&524288)&&ne(ct,"btn-active",typeof N[19]=="object"&&N[19].type==="go");const ri={};!Tt&&Ue[0]&4194304&&(Tt=!0,ri.show=N[22],_t(()=>Tt=!1)),St.$set(ri),(!Et||Ue[0]&29360128&&tl!==(tl=N[22]||N[23]||N[24]))&&(Kt.disabled=tl),(!Et||Ue[0]&524288)&&ne(Kt,"btn-active",typeof N[19]=="object"&&N[19].type==="syngo");const oi={};!An&&Ue[0]&8388608&&(An=!0,oi.show=N[23],_t(()=>An=!1)),cn.$set(oi),(!Et||Ue[0]&29360128&&Rt!==(Rt=N[22]||N[23]||N[24]))&&(Ft.disabled=Rt),(!Et||Ue[0]&524288)&&ne(Ft,"btn-active",typeof N[19]=="object"&&N[19].type==="gmt");const si={};if(!Fn&&Ue[0]&16777216&&(Fn=!0,si.show=N[24],_t(()=>Fn=!1)),zt.$set(si),bi===(bi=Mo(N))&&kn?kn.p(N,Ue):(kn.d(1),kn=bi(N),kn&&(kn.c(),kn.m(vn,null))),(!Et||Ue[0]&524288)&&ne(Te,"ok",typeof N[19]=="object"&&N[19].ok===!0),Ue[0]&131072){Cl=_e(N[17]);let Jt;for(Jt=0;Jt<Cl.length;Jt+=1){const an=Fu(N,Cl,Jt);Lt[Jt]?Lt[Jt].p(an,Ue):(Lt[Jt]=zu(an),Lt[Jt].c(),Lt[Jt].m(Dn,null))}for(;Jt<Lt.length;Jt+=1)Lt[Jt].d(1);Lt.length=Cl.length}Ue[0]&131088&&rn(Dn,N[4]),Ue[0]&1&&wn.value!==N[0]&&Bt(wn,N[0]),(!Et||Ue[0]&1024)&&ne(wn,"invalid-input",N[10]===!0),Ue[0]&2&&yn.value!==N[1]&&Bt(yn,N[1]),(!Et||Ue[0]&2048)&&ne(yn,"invalid-input",N[11]===!0),(!Et||Ue[0]&4&&hi!==(hi=N[2]=="bonferroni"))&&(Hn.checked=hi),(!Et||Ue[0]&4&&pi!==(pi=N[2]=="fdr"))&&(On.checked=pi),Ue[0]&8&&Sn.value!==N[3]&&Bt(Sn,N[3]),(!Et||Ue[0]&4096)&&ne(Sn,"invalid-input",N[12]===!0),(!Et||Ue[0]&34085920&&_i!==(_i=N[25]===!0||!(typeof N[5]=="object"&&N[5].ok===!0&&typeof N[19]=="object"&&N[19].ok===!0&&N[10]==!1&&N[11]==!1&&N[12]==!1)))&&(nn.disabled=_i),(!Et||Ue[0]&262144)&&ne(nn,"btn-action",N[18]!==!0),(!Et||Ue[0]&262144)&&ne(nn,"btn-warning",N[18]===!0);const ai={};!Cr&&Ue[0]&33554432&&(Cr=!0,ai.show=N[25],_t(()=>Cr=!1)),qn.$set(ai),kl!==(kl=Vo(N))&&(ln&&ln.d(1),ln=kl&&kl(N),ln&&(ln.c(),ln.m(vl,null))),N[15]?Ut?Ut.p(N,Ue):(Ut=Gu(N),Ut.c(),Ut.m(bn,null)):Ut&&(Ut.d(1),Ut=null),(!Et||Ue[0]&793632)&&ne(bn,"ok",!(N[18]||N[10]||N[11]||N[12]||!(typeof N[5]=="object"&&N[5].ok===!0&&typeof N[19]=="object"&&N[19].ok===!0))),Ue[0]&64&&(Ir=N[6]!==void 0&&Array.isArray(N[6].genesets)),Ir?Pt?(Pt.p(N,Ue),Ue[0]&64&&re(Pt,1)):(Pt=Nu(N),Pt.c(),re(Pt,1),Pt.m(A,null)):Pt&&(Nt(),ce(Pt,1,1,()=>{Pt=null}),Ht())},i(N){Et||(re(ge.$$.fragment,N),re(ve.$$.fragment,N),re(St.$$.fragment,N),re(cn.$$.fragment,N),re(zt.$$.fragment,N),re(qn.$$.fragment,N),re(Pt),Et=!0)},o(N){ce(ge.$$.fragment,N),ce(ve.$$.fragment,N),ce(St.$$.fragment,N),ce(cn.$$.fragment,N),ce(zt.$$.fragment,N),ce(qn.$$.fragment,N),ce(Pt),Et=!1},d(N){N&&(p(n),p(l),p(V),p(A),p(mi),p(Sl)),p(t),Qe(ge),Cn.d(),Qe(ve),Qe(St),Qe(cn),Qe(zt),kn.d(),st(Lt,N),Qe(qn),ln&&ln.d(),Ut&&Ut.d(),Pt&&Pt.d(),Ar=!1,Xt(So)}}}function pn(e){e.preventDefault(),e.stopPropagation()}async function Xu(e){document.getElementById("genelistFileDialog").click()}async function C1(e){document.getElementById("genesetGMTFileDialog").click()}function k1(e,t,n){let l,i,r,o,s,a,u,f,d,g,m,_;Vt(e,fd,K=>n(19,r=K)),Vt(e,dd,K=>n(5,o=K)),Vt(e,on,K=>n(6,s=K)),Vt(e,cd,K=>n(72,a=K));let v;jf(()=>y());const y=async()=>{const K=await Tf(()=>import("../chunks/goat.acb09029.js"),[],import.meta.url);v=new K.default,v.onmessage=function(ee){T.update(Z=>!1),ee&&typeof ee=="object"&&typeof ee.data=="object"?(Yf(ee.data.gl,ee.data.scoretype_props,ee.data.gs_filtered,r.hasDag===!0,ee.data.stats,r.uri,r.type,ae,L,P,j,F),o.genelist.analytics!==!0&&(Kf("goat"),Zf()),Jf()):(console.error("goat worker error;"),console.error(ee),n(15,me=ee))}},C=!!a&&a.url.hostname.endsWith("github.io")&&"/goat/"||"/";let I=!1;const G=un(!1);Vt(e,G,K=>n(20,u=K));const V=un(!1);Vt(e,V,K=>n(21,f=K));const A=un(!1);Vt(e,A,K=>n(22,d=K));const D=un(!1);Vt(e,D,K=>n(23,g=K));const H=un(!1);Vt(e,H,K=>n(24,m=K));const T=un(!1);Vt(e,T,K=>n(25,_=K));let L="10",P="1500",j="bonferroni",F="0.05",X="table",W=0,ae="effectsize";const Se=new RegExp("^[0-9]+$");let we=!1,O=!1,oe=!1,de,pe,me,se;async function z(K){K.dataTransfer&&K.dataTransfer.files&&ue(K.dataTransfer.files[0])}async function ue(K){try{n(13,de=void 0),G.update(Z=>!0),rs();const ee=await $f(K);xf(ee,K.name),ee.scoretype_options.indexOf("effectsize")!==-1?n(4,ae="effectsize"):n(4,ae="pvalue")}catch(ee){console.error(ee),n(13,de=ee.message)}G.update(ee=>!1)}async function x(K){try{n(13,de=void 0),V.update(ee=>!0),rs(),await ed(),o.scoretype_options.indexOf("effectsize")!==-1?n(4,ae="effectsize"):n(4,ae="pvalue")}catch(ee){console.error(ee),n(13,de=ee.message)}V.update(ee=>!1)}async function Ie(K){try{n(14,pe=void 0),A.update(ee=>!0),Vr(),await td()}catch(ee){console.error(ee),n(14,pe=ee.message)}A.update(ee=>!1)}async function Me(K){try{n(14,pe=void 0),D.update(ee=>!0),Vr(),await nd()}catch(ee){console.error(ee),n(14,pe=ee.message)}D.update(ee=>!1)}async function Xe(K){try{n(14,pe=void 0),H.update(Te=>!0),Vr();const ee=await ld(K),Z=Hc(ee),Ce=[{source:"GMT",source_version:K.name,genesets:Z}];id(Ce,K.name,"gmt",!1)}catch(ee){console.error(ee),n(14,pe=ee.message)}H.update(ee=>!1)}async function $e(K){try{n(16,se=void 0);const ee=rd(),Z=Lc(o,s,"0.4.0",ee),Ce=new Blob([Z]),Te=Oc(),ot=new od;ot.file("goat_log_m&m.txt",Ce),ot.file("goat_result.xlsx",Te);const pt=await ot.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:3}});let tt=o.filename.replace(/\.[a-zA-Z]{3,4}$/,"")+"__GOAT-online_"+ee+".zip";tt.length>180&&(tt="GOAT-online_"+ee+".zip"),sd.saveAs(pt,tt)}catch(ee){console.error(ee),n(16,se=ee.message)}}async function Ve(K){try{n(15,me=void 0),n(9,W=0),T.update(Z=>!0),ad();const ee=await ud();v.postMessage(JSON.stringify({gl:o.genelist,gs:r.genesets,nulldistr:ee,scoreType:ae,selectedMinSize:L,selectedMaxSize:P,selectedPvalueAdjustment:j,selectedPvalueThreshold:F}))}catch(ee){console.error(ee),n(15,me=ee.message),T.update(Z=>!1)}}function ge(K,ee){const Z=+K;typeof Z!="number"||isNaN(Z)||Z<10||Se.test(K)!==!0||Se.test(P)===!0&&Z>=+P?n(10,we=!0):(n(10,we=!1),ee===!0&&lt(P,!1))}function lt(K,ee){const Z=+K;typeof Z!="number"||isNaN(Z)||Z<10||Se.test(K)!==!0||Se.test(L)===!0&&Z<=+L?n(11,O=!0):(n(11,O=!1),ee===!0&&ge(L,!1))}const Le=K=>{console.log(K.target.files[0]),K.target.files&&ue(K.target.files[0])};function ye(K){u=K,G.set(u)}const Be=K=>{pn(K),n(7,I=!0)},B=K=>{pn(K),n(7,I=!0)},fe=K=>{pn(K),n(7,I=!1)},$=K=>{pn(K),n(7,I=!1)},xe=K=>{pn(K),n(7,I=!1),z(K)};function Ke(K){f=K,V.set(f)}function je(K){d=K,A.set(d)}function qe(K){g=K,D.set(g)}const at=K=>{K.target.files&&Xe(K.target.files[0])};function ht(K){m=K,H.set(m)}function De(){ae=Ul(this),n(4,ae),n(17,i),n(5,o)}function it(){L=this.value,n(0,L)}const nt=K=>ge(K.target.value,!0);function Fe(){P=this.value,n(1,P)}const rt=K=>lt(K.target.value,!0),ve=K=>{n(2,j="bonferroni")},Q=K=>{n(2,j="fdr")};function Ee(){F=this.value,n(3,F)}const k=K=>{const ee=+K.target.value;n(12,oe=typeof ee!="number"||isNaN(ee)||ee>1||ee<0)};function te(K){_=K,T.set(_)}const Ge=()=>{n(8,X="table")},ke=()=>{n(8,X="barplot")},Re=()=>{n(8,X="tree")},J=()=>{n(8,X="treemap")},be=()=>{n(8,X="heatmap")},ut=K=>{n(9,W=K)};return e.$$.update=()=>{e.$$.dirty[0]&95&&n(18,l=typeof s=="object"&&typeof s.settings=="object"&&(s.settings.scoreType!==ae||s.settings.minSize!==L||s.settings.maxSize!==P||s.settings.pvalueAdjustment!==j||s.settings.pvalueThreshold!==F)),e.$$.dirty[0]&32&&n(17,i=o&&o.scoretype_options||[])},[L,P,j,F,ae,o,s,I,X,W,we,O,oe,de,pe,me,se,i,l,r,u,f,d,g,m,_,C,G,V,A,D,H,T,z,ue,x,Ie,Me,Xe,$e,Ve,ge,lt,Le,ye,Be,B,fe,$,xe,Ke,je,qe,at,ht,De,it,nt,Fe,rt,ve,Q,Ee,k,te,Ge,ke,Re,J,be,ut]}class F1 extends Wt{constructor(t){super(),$t(this,t,k1,S1,Qt,{},null,[-1,-1,-1])}}export{F1 as component};
